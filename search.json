[{"path":"index.html","id":"前言prerequisites","chapter":"1 前言（Prerequisites）","heading":"1 前言（Prerequisites）","text":"数据科学：从数据中提取出有价值的知识。数据：主要指大数据，符合“4V+C”（Value，Variatey，Volumn，Velocity，Complex）特征的数据；","code":""},{"path":"r及python语言简介.html","id":"r及python语言简介","chapter":"2 R及Python语言简介","heading":"2 R及Python语言简介","text":"","code":""},{"path":"r及python语言简介.html","id":"r简介","chapter":"2 R及Python语言简介","heading":"2.0.1 R简介","text":"R语言是从S统计绘图语言演变而来, 可看作S的“方言”;S语言诞生于上世纪70年代的贝尔实验室, 由Rick Becker, John Chambers, Allan Wilks开发; 基于S语言开发的商业软件Splus, 可以方便的编写函数、建立模型, 具有良好的扩展性, 在国外学术界应用很广.1995年, 新西兰Auckland大学统计系的Robert Gentleman和Ross Ihaka, 基于S语言的源代码, 编写了能执行S语言的软件, 并将该软件的源代码全部公开, 这就是R软件, 其命令统称为R语言.","code":""},{"path":"r及python语言简介.html","id":"r语言安装及环境配置","chapter":"2 R及Python语言简介","heading":"2.0.2 R语言安装及环境配置","text":"下载R：\nR官方网站选择合适的源；根据操作系统选择合适的包下载安装r软件；","code":""},{"path":"r及python语言简介.html","id":"rstudio软件安装","chapter":"2 R及Python语言简介","heading":"2.0.3 Rstudio软件安装","text":"下载Rstudio：\nRstudio官方网站选择free的下载；根据操作系统选择合适的包下载安装r软件；安装r软件；R语言安装（win版）：下载软件R语言安装（win版）：下载软件双击，按照提示完成安装（使用默认安装）双击，按照提示完成安装（使用默认安装）Rstudio安装：Studio是R最佳的图形编辑环境Rstudio安装：Studio是R最佳的图形编辑环境","code":""},{"path":"r及python语言简介.html","id":"r基础","chapter":"2 R及Python语言简介","heading":"2.0.4 R基础","text":"","code":"\n#试试R编程 \nx=1:100#把1,2,...,100这个整数向量赋值到x\n(x=1:100) #同上, 只不过显示出来##   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18\n##  [19]  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36\n##  [37]  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54\n##  [55]  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72\n##  [73]  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90\n##  [91]  91  92  93  94  95  96  97  98  99 100\nsample(x,20) #从1,2,...,100中随机不放回地抽取20个值作为样本##  [1] 85 35 89  7 22 68 31 45 60 53  9 28 75  4 43 16 13 69  5 30\nset.seed(0);sample(1:10,3)#先设随机种子再抽样## [1] 9 4 7\n#从1,2,...,200000中随机不放回地抽取10000个值作为样本:\nz=sample(1:20,5)\nz[1:3]#方括号中为向量z的下标## [1]  1  2 11\ny=c(1,3,7,3,4,2)\nz[y]#以y为下标的z的元素值## [1]  1 11 NA 11 14  2\n(z=sample(x,100,rep=T))#从x有放回地随机抽取100个值作为样本##   [1]  59  51  97  85  21  54  74   7  73  79  85  37  89  37  34  89  44  79\n##  [19]  33  84  35  70  74  42  38  20  28  20  44  87  70  40  44  25  70  39\n##  [37]  51  42   6  24  32  14   2  45  18  22  78  65  70  87  70  75  81 100\n##  [55]  13  40  89  48  89  23  84  29  13  22  93  28  48  33  45  21  31  17\n##  [73]  73  87  83  90  48  64  94  96  60  51  93  34  10   1  43  59  26  15\n##  [91]  58  29  24  42  48  76  39  24  53  92\n(z1=unique(z))##  [1]  59  51  97  85  21  54  74   7  73  79  37  89  34  44  33  84  35  70  42\n## [20]  38  20  28  87  40  25  39   6  24  32  14   2  45  18  22  78  65  75  81\n## [39] 100  13  48  23  29  93  31  17  83  90  64  94  96  60  10   1  43  26  15\n## [58]  58  76  53  92\nlength(z1)#z中不同元素的个数## [1] 61\nxz=setdiff(x,z) #x和z之间的不同元素--集合差\nsort(union(xz,z))#对xz及z的并的元素从小到大排序##   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18\n##  [19]  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36\n##  [37]  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54\n##  [55]  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72\n##  [73]  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90\n##  [91]  91  92  93  94  95  96  97  98  99 100\nsetequal(union(xz,z),x) #xz及z的并的元素与x是否一样## [1] TRUE\nintersect(1:10,7:50) #两个数据的交## [1]  7  8  9 10\nsample(1:100,20,prob=1:100)#从1:100中不等概率随机抽样,##  [1] 91 50 95 36 62 67 82 74 70 90 66 97 84 87 81 29 71 43 31 75\n#上一语句各数字被抽到的概率与其值大小成比例\npi*10^2 #能够用?\"*\"、?\"^\"等来看某些基本算子的帮助, pi是圆周率## [1] 314.1593\n\"*\"(pi,\"^\"(10,2)) #和上面一样, 有些烦琐, 是吧! 没有人这么用## [1] 314.1593\npi*(1:10)^-2.3#可以对向量求指数幂##  [1] 3.14159265 0.63794154 0.25105622 0.12954239 0.07753876 0.05098025\n##  [7] 0.03576221 0.02630528 0.02006283 0.01574526\nx = pi * 10^2 ; print(x) ## [1] 314.1593\n(x=pi *10^2) #赋值带打印## [1] 314.1593\npi^(1:5) #指数也可以是向量## [1]   3.141593   9.869604  31.006277  97.409091 306.019685\nprint(x, digits= 12)#输出x的12位数字## [1] 314.159265359\n#R对象的类型\nx=pi*10^2\nclass(x) #x的class## [1] \"numeric\"\ntypeof(x) #x的type## [1] \"double\"\nclass(cars)#cars是一个R中自带的数据## [1] \"data.frame\"\ntypeof(cars) #cars的type## [1] \"list\"\nnames(cars)#cars数据的变量名字## [1] \"speed\" \"dist\"\nsummary(cars) #cars的汇总##      speed           dist       \n##  Min.   : 4.0   Min.   :  2.00  \n##  1st Qu.:12.0   1st Qu.: 26.00  \n##  Median :15.0   Median : 36.00  \n##  Mean   :15.4   Mean   : 42.98  \n##  3rd Qu.:19.0   3rd Qu.: 56.00  \n##  Max.   :25.0   Max.   :120.00\nhead(cars)#cars的头几行数据, 和cars[1:6,]相同##   speed dist\n## 1     4    2\n## 2     4   10\n## 3     7    4\n## 4     7   22\n## 5     8   16\n## 6     9   10\ntail(cars) #cars的最后几行数据##    speed dist\n## 45    23   54\n## 46    24   70\n## 47    24   92\n## 48    24   93\n## 49    24  120\n## 50    25   85\nstr(cars)#也是汇总## 'data.frame':    50 obs. of  2 variables:\n##  $ speed: num  4 4 7 7 8 9 10 10 10 11 ...\n##  $ dist : num  2 10 4 22 16 10 18 26 34 17 ...\nrow.names(cars) #行名字##  [1] \"1\"  \"2\"  \"3\"  \"4\"  \"5\"  \"6\"  \"7\"  \"8\"  \"9\"  \"10\" \"11\" \"12\" \"13\" \"14\" \"15\"\n## [16] \"16\" \"17\" \"18\" \"19\" \"20\" \"21\" \"22\" \"23\" \"24\" \"25\" \"26\" \"27\" \"28\" \"29\" \"30\"\n## [31] \"31\" \"32\" \"33\" \"34\" \"35\" \"36\" \"37\" \"38\" \"39\" \"40\" \"41\" \"42\" \"43\" \"44\" \"45\"\n## [46] \"46\" \"47\" \"48\" \"49\" \"50\"\nattributes(cars)#cars的一些信息## $names\n## [1] \"speed\" \"dist\" \n## \n## $class\n## [1] \"data.frame\"\n## \n## $row.names\n##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25\n## [26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50\nclass(dist~speed)#公式形式,\"~\"左边是因变量,右边是自变量## [1] \"formula\"\nplot(dist~speed,cars)#两个变量的散点图\nplot(cars$speed,cars$dist) #同上\n#包括简单自变量为定量变量及定性变量的回归\n\nncol(cars);nrow(cars) #cars的行列数## [1] 2## [1] 50\ndim(cars) #cars的维数## [1] 50  2\nlm(dist ~ speed, data = cars)#以dist为因变量,speed为自变量做OLS回归## \n## Call:\n## lm(formula = dist ~ speed, data = cars)\n## \n## Coefficients:\n## (Intercept)        speed  \n##     -17.579        3.932\ncars$qspeed =cut(cars$speed, breaks=quantile(cars$speed),\ninclude.lowest = TRUE) #增加定性变量qspeed, 四分位点为分割点\nnames(cars) #数据cars多了一个变量## [1] \"speed\"  \"dist\"   \"qspeed\"\ncars[3]#第三个变量的值, 和cars[,3]类似##     qspeed\n## 1   [4,12]\n## 2   [4,12]\n## 3   [4,12]\n## 4   [4,12]\n## 5   [4,12]\n## 6   [4,12]\n## 7   [4,12]\n## 8   [4,12]\n## 9   [4,12]\n## 10  [4,12]\n## 11  [4,12]\n## 12  [4,12]\n## 13  [4,12]\n## 14  [4,12]\n## 15  [4,12]\n## 16 (12,15]\n## 17 (12,15]\n## 18 (12,15]\n## 19 (12,15]\n## 20 (12,15]\n## 21 (12,15]\n## 22 (12,15]\n## 23 (12,15]\n## 24 (12,15]\n## 25 (12,15]\n## 26 (12,15]\n## 27 (15,19]\n## 28 (15,19]\n## 29 (15,19]\n## 30 (15,19]\n## 31 (15,19]\n## 32 (15,19]\n## 33 (15,19]\n## 34 (15,19]\n## 35 (15,19]\n## 36 (15,19]\n## 37 (15,19]\n## 38 (15,19]\n## 39 (19,25]\n## 40 (19,25]\n## 41 (19,25]\n## 42 (19,25]\n## 43 (19,25]\n## 44 (19,25]\n## 45 (19,25]\n## 46 (19,25]\n## 47 (19,25]\n## 48 (19,25]\n## 49 (19,25]\n## 50 (19,25]\ntable(cars[3])#列表## \n##  [4,12] (12,15] (15,19] (19,25] \n##      15      11      12      12\nis.factor(cars$qspeed)## [1] TRUE\nplot(dist ~ qspeed, data = cars)#点出箱线图\n#拟合线性模型(简单最小二乘回归):\n(a=lm(dist ~ qspeed, data = cars))## \n## Call:\n## lm(formula = dist ~ qspeed, data = cars)\n## \n## Coefficients:\n##   (Intercept)  qspeed(12,15]  qspeed(15,19]  qspeed(19,25]  \n##         18.20          21.98          31.97          51.13\nsummary(a)#回归结果(包括一些检验)## \n## Call:\n## lm(formula = dist ~ qspeed, data = cars)\n## \n## Residuals:\n##    Min     1Q Median     3Q    Max \n## -37.33 -13.96  -3.75   9.30  50.67 \n## \n## Coefficients:\n##               Estimate Std. Error t value Pr(>|t|)    \n## (Intercept)     18.200      4.551   3.999 0.000228 ***\n## qspeed(12,15]   21.982      6.996   3.142 0.002933 ** \n## qspeed(15,19]   31.967      6.826   4.683 2.52e-05 ***\n## qspeed(19,25]   51.133      6.826   7.491 1.68e-09 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 17.62 on 46 degrees of freedom\n## Multiple R-squared:  0.5609, Adjusted R-squared:  0.5322 \n## F-statistic: 19.59 on 3 and 46 DF,  p-value: 2.517e-08\nx <- round(runif(20,0,20), digits=2)#四舍五入\nsummary(x) #汇总##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n##    1.28    6.74   12.36   11.29   16.89   18.06\nmin(x);max(x) #极值, 与range(x)类似## [1] 1.28## [1] 18.06\nmedian(x)  # 中位数(median)## [1] 12.36\nmean(x)    # 均值(mean)## [1] 11.29\nvar(x)     #方差(variance)## [1] 30.12734\nsd(x)      # 标准差(standard deviation),为方差的平方根## [1] 5.488837\nsqrt(var(x)) #平方根## [1] 5.488837\nrank(x)    # 秩(rank)##  [1]  1  5 13  6 11 15 16  8  7 19 12 14 10 20  4  3 18  9 17  2\norder(x)#升序排列的x的下标##  [1]  1 20 16 15  2  4  9  8 18 13  5 11  3 12  6  7 19 17 10 14\norder(x,decreasing = T)#降序排列的x的下标##  [1] 14 10 17 19  7  6 12  3 11  5 13 18  8  9  4  2 15 16 20  1\nx[order(x)] #和sort(x)相同##  [1]  1.28  3.78  3.83  5.87  6.71  6.75  7.61  7.83 10.07 12.11 12.61 12.89\n## [13] 14.47 14.82 16.81 17.12 17.54 17.73 17.91 18.06\nsort(x)     #同上: 升序排列的x##  [1]  1.28  3.78  3.83  5.87  6.71  6.75  7.61  7.83 10.07 12.11 12.61 12.89\n## [13] 14.47 14.82 16.81 17.12 17.54 17.73 17.91 18.06\nsort(x,decreasing=T)#sort(x,dec=T) 降序排列的x##  [1] 18.06 17.91 17.73 17.54 17.12 16.81 14.82 14.47 12.89 12.61 12.11 10.07\n## [13]  7.83  7.61  6.75  6.71  5.87  3.83  3.78  1.28\nsum(x);length(x)#元素和及向量元素个数## [1] 225.8## [1] 20\nround(x) #四舍五入,等于round(x,0),而round(x,5)为留到小数点后5位##  [1]  1  7 14  7 13 17 17  8  8 18 13 15 12 18  6  4 18 10 18  4\nfivenum(x)  # 五数汇总, quantile## [1]  1.280  6.730 12.360 16.965 18.060\nquantile(x) # 分位点 quantile (different convention)有多种定义##      0%     25%     50%     75%    100% \n##  1.2800  6.7400 12.3600 16.8875 18.0600\nquantile(x, c(0,.33,.66,1))##      0%     33%     66%    100% \n##  1.2800  7.6694 14.6590 18.0600\nmad(x) # \"median average distance\":## [1] 7.368522\ncummax(x)#累积最大值##  [1]  1.28  6.71 14.47 14.47 14.47 16.81 17.12 17.12 17.12 17.91 17.91 17.91\n## [13] 17.91 18.06 18.06 18.06 18.06 18.06 18.06 18.06\ncummin(x)#累积最小值##  [1] 1.28 1.28 1.28 1.28 1.28 1.28 1.28 1.28 1.28 1.28 1.28 1.28 1.28 1.28 1.28\n## [16] 1.28 1.28 1.28 1.28 1.28\ncumprod(x)#累积积##  [1] 1.280000e+00 8.588800e+00 1.242799e+02 8.388896e+02 1.057840e+04\n##  [6] 1.778229e+05 3.044327e+06 2.383708e+07 1.814002e+08 3.248878e+09\n## [11] 4.187803e+10 6.206325e+11 7.515859e+12 1.357364e+14 7.967727e+14\n## [16] 3.051640e+15 5.410557e+16 5.448431e+17 9.556548e+18 3.612375e+19\ncor(x,sin(x/20)) #线性相关系数 (linear correlation)## [1] 0.9981333\n#一些简单图形\nx=rnorm(200)#将200个随机正态数赋值到x\nhist(x, col = \"light blue\")#直方图(histogram)\nrug(x) #在直方图下面加上实际点的大小位置\nstem(x)#茎叶图## \n##   The decimal point is at the |\n## \n##   -2 | 9\n##   -2 | 4330\n##   -1 | 977665555\n##   -1 | 4443333222222110000\n##   -0 | 999999887777776666666665555555\n##   -0 | 444444444333333333333333222222222211111111000000\n##    0 | 0001112222222333444444444444\n##    0 | 55555556666677777778899999\n##    1 | 0000000011112223344\n##    1 | 5566777889\n##    2 | 1123\n##    2 | 56\nx <- rnorm(500)\ny <- x + rnorm(500) #构造一个线性关系\nplot(y~ x) #散点图\na=lm(y~x) #做回归\nabline(a,col=\"red\")#或者abline(lm(y~x),col=\"red\")散点图加拟合线\nprint(\"Hello World!\")## [1] \"Hello World!\"\npaste(\"x 的最小值= \", min(x)) #打印## [1] \"x 的最小值=  -3.00804859892048\"\ndemo(graphics)#演示画图(点击Enter来切换)## \n## \n##  demo(graphics)\n##  ---- ~~~~~~~~\n## \n## > #  Copyright (C) 1997-2009 The R Core Team\n## > \n## > require(datasets)\n## \n## > require(grDevices); require(graphics)\n## \n## > ## Here is some code which illustrates some of the differences between\n## > ## R and S graphics capabilities.  Note that colors are generally specified\n## > ## by a character string name (taken from the X11 rgb.txt file) and that line\n## > ## textures are given similarly.  The parameter \"bg\" sets the background\n## > ## parameter for the plot and there is also an \"fg\" parameter which sets\n## > ## the foreground color.\n## > \n## > \n## > x <- stats::rnorm(50)\n## \n## > opar <- par(bg = \"white\")\n## \n## > plot(x, ann = FALSE, type = \"n\")## \n## > abline(h = 0, col = gray(.90))\n## \n## > lines(x, col = \"green4\", lty = \"dotted\")\n## \n## > points(x, bg = \"limegreen\", pch = 21)\n## \n## > title(main = \"Simple Use of Color In a Plot\",\n## +       xlab = \"Just a Whisper of a Label\",\n## +       col.main = \"blue\", col.lab = gray(.8),\n## +       cex.main = 1.2, cex.lab = 1.0, font.main = 4, font.lab = 3)\n## \n## > ## A little color wheel.    This code just plots equally spaced hues in\n## > ## a pie chart.    If you have a cheap SVGA monitor (like me) you will\n## > ## probably find that numerically equispaced does not mean visually\n## > ## equispaced.  On my display at home, these colors tend to cluster at\n## > ## the RGB primaries.  On the other hand on the SGI Indy at work the\n## > ## effect is near perfect.\n## > \n## > par(bg = \"gray\")\n## \n## > pie(rep(1,24), col = rainbow(24), radius = 0.9)## \n## > title(main = \"A Sample Color Wheel\", cex.main = 1.4, font.main = 3)\n## \n## > title(xlab = \"(Use this as a test of monitor linearity)\",\n## +       cex.lab = 0.8, font.lab = 3)\n## \n## > ## We have already confessed to having these.  This is just showing off X11\n## > ## color names (and the example (from the postscript manual) is pretty \"cute\".\n## > \n## > pie.sales <- c(0.12, 0.3, 0.26, 0.16, 0.04, 0.12)\n## \n## > names(pie.sales) <- c(\"Blueberry\", \"Cherry\",\n## +              \"Apple\", \"Boston Cream\", \"Other\", \"Vanilla Cream\")\n## \n## > pie(pie.sales,\n## +     col = c(\"purple\",\"violetred1\",\"green3\",\"cornsilk\",\"cyan\",\"white\"))## \n## > title(main = \"January Pie Sales\", cex.main = 1.8, font.main = 1)\n## \n## > title(xlab = \"(Don't try this at home kids)\", cex.lab = 0.8, font.lab = 3)\n## \n## > ## Boxplots:  I couldn't resist the capability for filling the \"box\".\n## > ## The use of color seems like a useful addition, it focuses attention\n## > ## on the central bulk of the data.\n## > \n## > par(bg=\"cornsilk\")\n## \n## > n <- 10\n## \n## > g <- gl(n, 100, n*100)\n## \n## > x <- rnorm(n*100) + sqrt(as.numeric(g))\n## \n## > boxplot(split(x,g), col=\"lavender\", notch=TRUE)## \n## > title(main=\"Notched Boxplots\", xlab=\"Group\", font.main=4, font.lab=1)\n## \n## > ## An example showing how to fill between curves.\n## > \n## > par(bg=\"white\")\n## \n## > n <- 100\n## \n## > x <- c(0,cumsum(rnorm(n)))\n## \n## > y <- c(0,cumsum(rnorm(n)))\n## \n## > xx <- c(0:n, n:0)\n## \n## > yy <- c(x, rev(y))\n## \n## > plot(xx, yy, type=\"n\", xlab=\"Time\", ylab=\"Distance\")## \n## > polygon(xx, yy, col=\"gray\")\n## \n## > title(\"Distance Between Brownian Motions\")\n## \n## > ## Colored plot margins, axis labels and titles.    You do need to be\n## > ## careful with these kinds of effects.    It's easy to go completely\n## > ## over the top and you can end up with your lunch all over the keyboard.\n## > ## On the other hand, my market research clients love it.\n## > \n## > x <- c(0.00, 0.40, 0.86, 0.85, 0.69, 0.48, 0.54, 1.09, 1.11, 1.73, 2.05, 2.02)\n## \n## > par(bg=\"lightgray\")\n## \n## > plot(x, type=\"n\", axes=FALSE, ann=FALSE)## \n## > usr <- par(\"usr\")\n## \n## > rect(usr[1], usr[3], usr[2], usr[4], col=\"cornsilk\", border=\"black\")\n## \n## > lines(x, col=\"blue\")\n## \n## > points(x, pch=21, bg=\"lightcyan\", cex=1.25)\n## \n## > axis(2, col.axis=\"blue\", las=1)\n## \n## > axis(1, at=1:12, lab=month.abb, col.axis=\"blue\")\n## \n## > box()\n## \n## > title(main= \"The Level of Interest in R\", font.main=4, col.main=\"red\")\n## \n## > title(xlab= \"1996\", col.lab=\"red\")\n## \n## > ## A filled histogram, showing how to change the font used for the\n## > ## main title without changing the other annotation.\n## > \n## > par(bg=\"cornsilk\")\n## \n## > x <- rnorm(1000)\n## \n## > hist(x, xlim=range(-4, 4, x), col=\"lavender\", main=\"\")## \n## > title(main=\"1000 Normal Random Variates\", font.main=3)\n## \n## > ## A scatterplot matrix\n## > ## The good old Iris data (yet again)\n## > \n## > pairs(iris[1:4], main=\"Edgar Anderson's Iris Data\", font.main=4, pch=19)## \n## > pairs(iris[1:4], main=\"Edgar Anderson's Iris Data\", pch=21,\n## +       bg = c(\"red\", \"green3\", \"blue\")[unclass(iris$Species)])## \n## > ## Contour plotting\n## > ## This produces a topographic map of one of Auckland's many volcanic \"peaks\".\n## > \n## > x <- 10*1:nrow(volcano)\n## \n## > y <- 10*1:ncol(volcano)\n## \n## > lev <- pretty(range(volcano), 10)\n## \n## > par(bg = \"lightcyan\")\n## \n## > pin <- par(\"pin\")\n## \n## > xdelta <- diff(range(x))\n## \n## > ydelta <- diff(range(y))\n## \n## > xscale <- pin[1]/xdelta\n## \n## > yscale <- pin[2]/ydelta\n## \n## > scale <- min(xscale, yscale)\n## \n## > xadd <- 0.5*(pin[1]/scale - xdelta)\n## \n## > yadd <- 0.5*(pin[2]/scale - ydelta)\n## \n## > plot(numeric(0), numeric(0),\n## +      xlim = range(x)+c(-1,1)*xadd, ylim = range(y)+c(-1,1)*yadd,\n## +      type = \"n\", ann = FALSE)## \n## > usr <- par(\"usr\")\n## \n## > rect(usr[1], usr[3], usr[2], usr[4], col=\"green3\")\n## \n## > contour(x, y, volcano, levels = lev, col=\"yellow\", lty=\"solid\", add=TRUE)\n## \n## > box()\n## \n## > title(\"A Topographic Map of Maunga Whau\", font= 4)\n## \n## > title(xlab = \"Meters North\", ylab = \"Meters West\", font= 3)\n## \n## > mtext(\"10 Meter Contour Spacing\", side=3, line=0.35, outer=FALSE,\n## +       at = mean(par(\"usr\")[1:2]), cex=0.7, font=3)\n## \n## > ## Conditioning plots\n## > \n## > par(bg=\"cornsilk\")\n## \n## > coplot(lat ~ long | depth, data = quakes, pch = 21, bg = \"green3\")## \n## > par(opar)\n#复数运算、求函数极值、多项式的根\n(2+4i)^-3.5+(2i+4.5)*(-1.7-2.3i)/((2.6-7i)*(-4+5.1i))#复数运算## [1] -0.2790593-0.091246i\n#下面构造一个10维复向量, 实部和虚部均为10个标准正态样本点:\n(z <-complex(real=rnorm(10), imaginary =rnorm(10)))##  [1] -0.4742553+0.5064816i -0.0698126+0.5236044i -0.7625232+0.6249499i\n##  [4] -0.5726097-2.9808548i -1.1276920+1.8869267i  0.1227265+0.4598803i\n##  [7]  1.2287895+0.3914276i -0.5875730-1.1872535i -1.8391681+0.4443236i\n## [10]  0.4978261-0.7539440i\ncomplex(re=rnorm(3),im=rnorm(3))#3维复向量## [1]  0.2110114+0.6801056i -0.1367521-0.0557254i  0.0132440-0.4990980i\nRe(z) #实部##  [1] -0.47425527 -0.06981258 -0.76252319 -0.57260970 -1.12769199  0.12272654\n##  [7]  1.22878953 -0.58757302 -1.83916811  0.49782614\nIm(z) #虚部##  [1]  0.5064816  0.5236044  0.6249499 -2.9808548  1.8869267  0.4598803\n##  [7]  0.3914276 -1.1872535  0.4443236 -0.7539440\nMod(z) #模##  [1] 0.6938600 0.5282380 0.9859026 3.0353545 2.1982224 0.4759744 1.2896276\n##  [8] 1.3246935 1.8920790 0.9034724\nArg(z) #辐角##  [1]  2.3233470  1.7033453  2.4550253 -1.7605803  2.1094745  1.3100076\n##  [7]  0.3083847 -2.0303565  2.9045454 -0.9872172\nchoose(3,2) #组合## [1] 3\nfactorial(6)#排列6!## [1] 720\n#求函数极值\nf=function(x) x^2+2*x+1 #定义一个二次函数\noptimize(f,c(-2,2))#在区间(-2,2)内求极值## $minimum\n## [1] -1\n## \n## $objective\n## [1] 0\ncurve(f, from = -3,to=2)#在区间(-3,2)内画上面定义的函数f图\n#求从常数项开始到5次方项的系数分别为1, 2, 2, 4, -9, 8的多项式的根: \npolyroot(c(1,2,2,4,-9,8))## [1] -0.1128081+0.4980033i -0.3912226+0.0000000i -0.1128081-0.4980033i\n## [4]  0.8709194-0.6833257i  0.8709194+0.6833257i\n#字符型向量和因子型变量\na=factor(letters[1:10]);a #letters:小写字母向量,LETTERS:大写##  [1] a b c d e f g h i j\n## Levels: a b c d e f g h i j\na[3]=\"w\" #不行! 会给出警告## Warning in `[<-.factor`(`*tmp*`, 3, value = \"w\"): invalid factor level, NA\n## generated\na=as.character(a) #转换一下\na[3]=\"w\" #可以了\na;factor(a) #两种不同的类型##  [1] \"a\" \"b\" \"w\" \"d\" \"e\" \"f\" \"g\" \"h\" \"i\" \"j\"##  [1] a b w d e f g h i j\n## Levels: a b d e f g h i j w\n#定性变量的水平:\nlevels(factor(a))##  [1] \"a\" \"b\" \"d\" \"e\" \"f\" \"g\" \"h\" \"i\" \"j\" \"w\"\nsex=sample(0:1,10,r=T)\nsex=factor(sex);levels(sex)## [1] \"0\" \"1\"\n#改变因子的水平:\nlevels(sex)=c(\"Male\",\"Female\");levels(sex)## [1] \"Male\"   \"Female\"\n#确定水平次序:\nsex=ordered(sex,c(\"Female\",\"Male\"));sex##  [1] Female Female Female Female Male   Male   Male   Female Female Female\n## Levels: Female < Male\nlevels(sex)## [1] \"Female\" \"Male\"\n#序列\n\n(z=seq(-1,10,length=100))#从-1到10等间隔的100个数组成的序列##   [1] -1.0000000 -0.8888889 -0.7777778 -0.6666667 -0.5555556 -0.4444444\n##   [7] -0.3333333 -0.2222222 -0.1111111  0.0000000  0.1111111  0.2222222\n##  [13]  0.3333333  0.4444444  0.5555556  0.6666667  0.7777778  0.8888889\n##  [19]  1.0000000  1.1111111  1.2222222  1.3333333  1.4444444  1.5555556\n##  [25]  1.6666667  1.7777778  1.8888889  2.0000000  2.1111111  2.2222222\n##  [31]  2.3333333  2.4444444  2.5555556  2.6666667  2.7777778  2.8888889\n##  [37]  3.0000000  3.1111111  3.2222222  3.3333333  3.4444444  3.5555556\n##  [43]  3.6666667  3.7777778  3.8888889  4.0000000  4.1111111  4.2222222\n##  [49]  4.3333333  4.4444444  4.5555556  4.6666667  4.7777778  4.8888889\n##  [55]  5.0000000  5.1111111  5.2222222  5.3333333  5.4444444  5.5555556\n##  [61]  5.6666667  5.7777778  5.8888889  6.0000000  6.1111111  6.2222222\n##  [67]  6.3333333  6.4444444  6.5555556  6.6666667  6.7777778  6.8888889\n##  [73]  7.0000000  7.1111111  7.2222222  7.3333333  7.4444444  7.5555556\n##  [79]  7.6666667  7.7777778  7.8888889  8.0000000  8.1111111  8.2222222\n##  [85]  8.3333333  8.4444444  8.5555556  8.6666667  8.7777778  8.8888889\n##  [91]  9.0000000  9.1111111  9.2222222  9.3333333  9.4444444  9.5555556\n##  [97]  9.6666667  9.7777778  9.8888889 10.0000000\nz=seq(-1,10,len=100)#和上面写法等价\n(z=seq(10,-1,-0.1)) #10到-1间隔为-0.1的序列##   [1] 10.0  9.9  9.8  9.7  9.6  9.5  9.4  9.3  9.2  9.1  9.0  8.9  8.8  8.7  8.6\n##  [16]  8.5  8.4  8.3  8.2  8.1  8.0  7.9  7.8  7.7  7.6  7.5  7.4  7.3  7.2  7.1\n##  [31]  7.0  6.9  6.8  6.7  6.6  6.5  6.4  6.3  6.2  6.1  6.0  5.9  5.8  5.7  5.6\n##  [46]  5.5  5.4  5.3  5.2  5.1  5.0  4.9  4.8  4.7  4.6  4.5  4.4  4.3  4.2  4.1\n##  [61]  4.0  3.9  3.8  3.7  3.6  3.5  3.4  3.3  3.2  3.1  3.0  2.9  2.8  2.7  2.6\n##  [76]  2.5  2.4  2.3  2.2  2.1  2.0  1.9  1.8  1.7  1.6  1.5  1.4  1.3  1.2  1.1\n##  [91]  1.0  0.9  0.8  0.7  0.6  0.5  0.4  0.3  0.2  0.1  0.0 -0.1 -0.2 -0.3 -0.4\n## [106] -0.5 -0.6 -0.7 -0.8 -0.9 -1.0\n(x=rep(1:3,3))  #三次重复1:3## [1] 1 2 3 1 2 3 1 2 3\n(x=rep(3:5,1:3)) #自己看, 这又是什么呢?## [1] 3 4 4 5 5 5\nx=rep(c(1,10),c(4,5))\nw=c(1,3,x,z);w[3]#把数据(包括向量)组合(combine)成一个向量## [1] 1\nx=rep(0,10);z=1:3;x+z #向量加法(如果长度不同, R给出警告和结果)## Warning in x + z: longer object length is not a multiple of shorter object\n## length##  [1] 1 2 3 1 2 3 1 2 3 1\nx*z   #向量乘法## Warning in x * z: longer object length is not a multiple of shorter object\n## length##  [1] 0 0 0 0 0 0 0 0 0 0\nrev(x)#颠倒次序##  [1] 0 0 0 0 0 0 0 0 0 0\nz=c(\"no cat\",\"has \",\"nine\",\"tails\") #字符向量\nz[1]==\"no cat\" #双等号为逻辑等式## [1] TRUE\nz=1:5\nz[7]=8;z #什么结果? 注:NA为缺失值(not available)## [1]  1  2  3  4  5 NA  8\nz=NULL\nz[c(1,3,5)]=1:3;\nz## [1]  1 NA  2 NA  3\nrnorm(10)[c(2,5)]## [1]  0.4232452 -1.2447383\nz[-c(1,3)]#去掉第1、3元素## [1] NA NA  3\nz=sample(1:100,10);z##  [1] 57 59 72 81 35 80 78 46  9 50\nwhich(z==max(z))#给出最大值的下标## [1] 4\n#矩阵\nx=sample(1:100,12);x #抽样##  [1] 74 77 82 90 35 53 73 32  9 97 25 87\nall(x>0);all(x!=0);any(x>0);(1:10)[x>0]#逻辑符号的应用## [1] TRUE## [1] TRUE## [1] TRUE##  [1]  1  2  3  4  5  6  7  8  9 10 NA NA\ndiff(x) #差分##  [1]   3   5   8 -55  18  20 -41 -23  88 -72  62\ndiff(x,lag=2) #差分##  [1]   8  13 -47 -37  38 -21 -64  65  16 -10\nx=matrix(1:20,4,5);x #矩阵的构造##      [,1] [,2] [,3] [,4] [,5]\n## [1,]    1    5    9   13   17\n## [2,]    2    6   10   14   18\n## [3,]    3    7   11   15   19\n## [4,]    4    8   12   16   20\nx=matrix(1:20,4,5,byrow=T);x#矩阵的构造, 按行排列##      [,1] [,2] [,3] [,4] [,5]\n## [1,]    1    2    3    4    5\n## [2,]    6    7    8    9   10\n## [3,]   11   12   13   14   15\n## [4,]   16   17   18   19   20\nt(x) #矩阵转置##      [,1] [,2] [,3] [,4]\n## [1,]    1    6   11   16\n## [2,]    2    7   12   17\n## [3,]    3    8   13   18\n## [4,]    4    9   14   19\n## [5,]    5   10   15   20\nx=matrix(sample(1:100,20),4,5)\n2*x##      [,1] [,2] [,3] [,4] [,5]\n## [1,]   10  156  180   42  192\n## [2,]  142   68   50   16   36\n## [3,]   92  188   34  160  116\n## [4,]  168   76  178   72    2\nx+5##      [,1] [,2] [,3] [,4] [,5]\n## [1,]   10   83   95   26  101\n## [2,]   76   39   30   13   23\n## [3,]   51   99   22   85   63\n## [4,]   89   43   94   41    6\ny=matrix(sample(1:100,20),5,4)\nx+t(y) #矩阵之间相加##      [,1] [,2] [,3] [,4] [,5]\n## [1,]   90  121  141  107  153\n## [2,]   75   88   38   41   73\n## [3,]   91  168   40  180   85\n## [4,]  178  134  123   48   54\n(z=x%*%y) #矩阵乘法##       [,1]  [,2]  [,3]  [,4]\n## [1,] 15647 11375 12759 16358\n## [2,] 10486  3699  7572 11838\n## [3,] 19005 11311 18983 17960\n## [4,] 16466  4788 12266 15055\nz1=solve(z) #用solve(a,b)可以解方程ax=b\nz1%*%z #应该是单位向量, 但浮点运算不可能得到干净的0##               [,1]          [,2]         [,3]          [,4]\n## [1,]  1.000000e+00  4.440892e-16 8.881784e-16  0.000000e+00\n## [2,]  6.661338e-16  1.000000e+00 1.665335e-16  7.216450e-16\n## [3,] -1.332268e-15 -2.220446e-16 1.000000e+00 -8.881784e-16\n## [4,] -8.881784e-16 -4.440892e-16 8.881784e-16  1.000000e+00\nround(z1%*%z,14)  #四舍五入##      [,1] [,2] [,3] [,4]\n## [1,]    1    0    0    0\n## [2,]    0    1    0    0\n## [3,]    0    0    1    0\n## [4,]    0    0    0    1\nb=solve(z,1:4); b #解联立方程## [1]  0.0003395198 -0.0004037309  0.0001621552 -0.0001093633\nnrow(x);ncol(x);dim(x)#行列数目## [1] 4## [1] 5## [1] 4 5\nx=matrix(rnorm(24),4,6)\nx[c(2,1),]#第2和第1行##            [,1]      [,2]        [,3]       [,4]       [,5]       [,6]\n## [1,] -0.9365147 0.1059030 -0.08914275  1.4195890 -0.4112898 -0.2461206\n## [2,] -0.3927860 0.7224822 -0.65481462 -0.5366891  0.4255549 -0.3605743\nx[,c(1,3)] #第1和第3列##            [,1]        [,2]\n## [1,] -0.3927860 -0.65481462\n## [2,] -0.9365147 -0.08914275\n## [3,] -1.7652404 -0.68941147\n## [4,] -1.7593115  0.14239838\nx[2,1] #第[2,1]元素## [1] -0.9365147\nx[x[,1]>0,1] #第1列大于0的元素## numeric(0)\nsum(x[,1]>0) #第1列大于0的元素的个数## [1] 0\nsum(x[,1]<=0) #第1列不大于0的元素的个数## [1] 4\nx[,-c(1,3)]#没有第1、3列的x.##            [,1]       [,2]       [,3]        [,4]\n## [1,]  0.7224822 -0.5366891  0.4255549 -0.36057432\n## [2,]  0.1059030  1.4195890 -0.4112898 -0.24612056\n## [3,]  0.3901370  0.5257376  1.0709248  2.63284399\n## [4,] -1.6439634 -0.3600024  1.0468222  0.08287321\ndiag(x)  #x的对角线元素## [1] -0.3927860  0.1059030 -0.6894115 -0.3600024\ndiag(1:5) #以1:5为对角线元素,其他元素为0的对角线矩阵##      [,1] [,2] [,3] [,4] [,5]\n## [1,]    1    0    0    0    0\n## [2,]    0    2    0    0    0\n## [3,]    0    0    3    0    0\n## [4,]    0    0    0    4    0\n## [5,]    0    0    0    0    5\ndiag(5) #5维单位矩阵##      [,1] [,2] [,3] [,4] [,5]\n## [1,]    1    0    0    0    0\n## [2,]    0    1    0    0    0\n## [3,]    0    0    1    0    0\n## [4,]    0    0    0    1    0\n## [5,]    0    0    0    0    1\nx[-2,-c(1,3)]#没有第2行, 第1、3列的x##            [,1]       [,2]      [,3]        [,4]\n## [1,]  0.7224822 -0.5366891 0.4255549 -0.36057432\n## [2,]  0.3901370  0.5257376 1.0709248  2.63284399\n## [3,] -1.6439634 -0.3600024 1.0468222  0.08287321\nx[x[,1]>0&x[,3]<=1,1]#第1列>0并且第3列<=1的第1列元素## numeric(0)\nx[x[,2]>0|x[,1]<.51,1]#第1列<.51或者第2列>0的第1列元素## [1] -0.3927860 -0.9365147 -1.7652404 -1.7593115\nx[!x[,2]<.51,1]#第1列中相应于第2列>=.51的元素## [1] -0.392786\napply(x,1,mean)#对行(第一维)求均值## [1] -0.13280450 -0.02626265  0.36083192 -0.41519726\napply(x,2,sum)#对列(第二维)求和## [1] -4.8538526 -0.4254413 -1.2909705  1.0486350  2.1320120  2.1090223\nx=matrix(rnorm(24),4,6)\nx[lower.tri(x)]=0;x #得到上三角阵##            [,1]     [,2]        [,3]       [,4]       [,5]       [,6]\n## [1,] -0.9937466 0.328458  0.12652026 -0.5102973 -0.4326447  0.8705996\n## [2,]  0.0000000 1.116416  1.08006177  0.9086136 -0.6296527  1.4198028\n## [3,]  0.0000000 0.000000 -0.03321312 -0.3875161 -0.7808975  0.6927386\n## [4,]  0.0000000 0.000000  0.00000000  2.0610544  0.1123042 -2.2616133\n#为得到下三角阵, 用x[upper.tri(x)]=0)\n\n#高维数组\nx=array(runif(24),c(4,3,2));x## , , 1\n## \n##           [,1]         [,2]       [,3]\n## [1,] 0.7621944 0.6249739686 0.66882891\n## [2,] 0.5977404 0.3937319745 0.03062896\n## [3,] 0.9377406 0.0006681741 0.26985517\n## [4,] 0.1647563 0.9758263885 0.58781404\n## \n## , , 2\n## \n##           [,1]      [,2]       [,3]\n## [1,] 0.9329398 0.3036185 0.08949422\n## [2,] 0.7366948 0.1091237 0.85924212\n## [3,] 0.1824314 0.7497612 0.56492248\n## [4,] 0.6861288 0.6995164 0.45189637\n#上面用24个服从均匀分布的样本点构造4乘3乘2的三维数组\nis.matrix(x)## [1] FALSE\ndim(x)#得到维数(4,3,2)## [1] 4 3 2\nis.matrix(x[1,,])#部分三维数组是矩阵## [1] TRUE\nx=array(1:24,c(4,3,2))\nx[c(1,3),,]## , , 1\n## \n##      [,1] [,2] [,3]\n## [1,]    1    5    9\n## [2,]    3    7   11\n## \n## , , 2\n## \n##      [,1] [,2] [,3]\n## [1,]   13   17   21\n## [2,]   15   19   23\nx=array(1:24,c(4,3,2))\napply(x,1,mean)   #可以对部分维做求均值运算## [1] 11 12 13 14\napply(x,1:2,sum)  #可以对部分维做求和运算##      [,1] [,2] [,3]\n## [1,]   14   22   30\n## [2,]   16   24   32\n## [3,]   18   26   34\n## [4,]   20   28   36\napply(x,c(1,3),prod) #可以对部分维做求乘积运算##      [,1] [,2]\n## [1,]   45 4641\n## [2,]  120 5544\n## [3,]  231 6555\n## [4,]  384 7680\n#矩阵与向量之间的运算\n\nx=matrix(1:20,5,4) #5乘4矩阵\nsweep(x,1,1:5,\"*\")#把向量1:5的每个元素乘到每一行##      [,1] [,2] [,3] [,4]\n## [1,]    1    6   11   16\n## [2,]    4   14   24   34\n## [3,]    9   24   39   54\n## [4,]   16   36   56   76\n## [5,]   25   50   75  100\nsweep(x,2,1:4,\"+\")#把向量1:4的每个元素加到每一列##      [,1] [,2] [,3] [,4]\n## [1,]    2    8   14   20\n## [2,]    3    9   15   21\n## [3,]    4   10   16   22\n## [4,]    5   11   17   23\n## [5,]    6   12   18   24\nx*1:5##      [,1] [,2] [,3] [,4]\n## [1,]    1    6   11   16\n## [2,]    4   14   24   34\n## [3,]    9   24   39   54\n## [4,]   16   36   56   76\n## [5,]   25   50   75  100\n#下面把x标准化,即每一元素减去该列均值,除以该列标准差\n(x=matrix(sample(1:100,24),6,4));(x1=scale(x))##      [,1] [,2] [,3] [,4]\n## [1,]   42   10    3    2\n## [2,]   21   50   92   30\n## [3,]   68   47   33   72\n## [4,]   36   98   86   39\n## [5,]   87   20   80   54\n## [6,]   45   56    8    4##            [,1]         [,2]       [,3]       [,4]\n## [1,] -0.3299111 -1.190175934 -1.1672959 -1.1414992\n## [2,] -1.2143536  0.102322818  1.0275492 -0.1268332\n## [3,]  0.7651129  0.005385411 -0.4274605  1.3951657\n## [4,] -0.5826089  1.653321320  0.8795821  0.1993094\n## [5,]  1.5653228 -0.867051246  0.7316150  0.7428804\n## [6,] -0.2035622  0.296197631 -1.0439900 -1.0690230\n## attr(,\"scaled:center\")\n## [1] 49.83333 46.83333 50.33333 33.50000\n## attr(,\"scaled:scale\")\n## [1] 23.74377 30.94781 40.54956 27.59529\n(x2=scale(x,scale=F))#自己观察并总结结果##            [,1]        [,2]      [,3]  [,4]\n## [1,]  -7.833333 -36.8333333 -47.33333 -31.5\n## [2,] -28.833333   3.1666667  41.66667  -3.5\n## [3,]  18.166667   0.1666667 -17.33333  38.5\n## [4,] -13.833333  51.1666667  35.66667   5.5\n## [5,]  37.166667 -26.8333333  29.66667  20.5\n## [6,]  -4.833333   9.1666667 -42.33333 -29.5\n## attr(,\"scaled:center\")\n## [1] 49.83333 46.83333 50.33333 33.50000\n(x3=scale(x,center=F)) #自己观察并总结结果##           [,1]      [,2]      [,3]       [,4]\n## [1,] 0.7055287 0.1669033 0.0438323 0.04355862\n## [2,] 0.3527644 0.8345164 1.3441906 0.65337927\n## [3,] 1.1422846 0.7844454 0.4821553 1.56811024\n## [4,] 0.6047389 1.6356522 1.2565260 0.84939305\n## [5,] 1.4614523 0.3338066 1.1688614 1.17608268\n## [6,] 0.7559236 0.9346584 0.1168861 0.08711724\n## attr(,\"scaled:scale\")\n## [1] 59.52982 59.91494 68.44268 45.91514\nround(apply(x1,2,mean),14) #自己观察并总结结果## [1] 0 0 0 0\napply(x1,2,sd)#自己观察并总结结果## [1] 1 1 1 1\nround(apply(x2,2,mean),14);apply(x2,2,sd)#自己观察并总结结果## [1] 0 0 0 0## [1] 23.74377 30.94781 40.54956 27.59529\nround(apply(x3,2,mean),14);apply(x3,2,sd)#自己观察并总结结果## [1] 0.8371154 0.7816637 0.7354086 0.7296068## [1] 0.3988551 0.5165290 0.5924601 0.6010063\n#缺失值, 数据的合并\nairquality #有缺失值(NA)的R自带数据##     Ozone Solar.R Wind Temp Month Day\n## 1      41     190  7.4   67     5   1\n## 2      36     118  8.0   72     5   2\n## 3      12     149 12.6   74     5   3\n## 4      18     313 11.5   62     5   4\n## 5      NA      NA 14.3   56     5   5\n## 6      28      NA 14.9   66     5   6\n## 7      23     299  8.6   65     5   7\n## 8      19      99 13.8   59     5   8\n## 9       8      19 20.1   61     5   9\n## 10     NA     194  8.6   69     5  10\n## 11      7      NA  6.9   74     5  11\n## 12     16     256  9.7   69     5  12\n## 13     11     290  9.2   66     5  13\n## 14     14     274 10.9   68     5  14\n## 15     18      65 13.2   58     5  15\n## 16     14     334 11.5   64     5  16\n## 17     34     307 12.0   66     5  17\n## 18      6      78 18.4   57     5  18\n## 19     30     322 11.5   68     5  19\n## 20     11      44  9.7   62     5  20\n## 21      1       8  9.7   59     5  21\n## 22     11     320 16.6   73     5  22\n## 23      4      25  9.7   61     5  23\n## 24     32      92 12.0   61     5  24\n## 25     NA      66 16.6   57     5  25\n## 26     NA     266 14.9   58     5  26\n## 27     NA      NA  8.0   57     5  27\n## 28     23      13 12.0   67     5  28\n## 29     45     252 14.9   81     5  29\n## 30    115     223  5.7   79     5  30\n## 31     37     279  7.4   76     5  31\n## 32     NA     286  8.6   78     6   1\n## 33     NA     287  9.7   74     6   2\n## 34     NA     242 16.1   67     6   3\n## 35     NA     186  9.2   84     6   4\n## 36     NA     220  8.6   85     6   5\n## 37     NA     264 14.3   79     6   6\n## 38     29     127  9.7   82     6   7\n## 39     NA     273  6.9   87     6   8\n## 40     71     291 13.8   90     6   9\n## 41     39     323 11.5   87     6  10\n## 42     NA     259 10.9   93     6  11\n## 43     NA     250  9.2   92     6  12\n## 44     23     148  8.0   82     6  13\n## 45     NA     332 13.8   80     6  14\n## 46     NA     322 11.5   79     6  15\n## 47     21     191 14.9   77     6  16\n## 48     37     284 20.7   72     6  17\n## 49     20      37  9.2   65     6  18\n## 50     12     120 11.5   73     6  19\n## 51     13     137 10.3   76     6  20\n## 52     NA     150  6.3   77     6  21\n## 53     NA      59  1.7   76     6  22\n## 54     NA      91  4.6   76     6  23\n## 55     NA     250  6.3   76     6  24\n## 56     NA     135  8.0   75     6  25\n## 57     NA     127  8.0   78     6  26\n## 58     NA      47 10.3   73     6  27\n## 59     NA      98 11.5   80     6  28\n## 60     NA      31 14.9   77     6  29\n## 61     NA     138  8.0   83     6  30\n## 62    135     269  4.1   84     7   1\n## 63     49     248  9.2   85     7   2\n## 64     32     236  9.2   81     7   3\n## 65     NA     101 10.9   84     7   4\n## 66     64     175  4.6   83     7   5\n## 67     40     314 10.9   83     7   6\n## 68     77     276  5.1   88     7   7\n## 69     97     267  6.3   92     7   8\n## 70     97     272  5.7   92     7   9\n## 71     85     175  7.4   89     7  10\n## 72     NA     139  8.6   82     7  11\n## 73     10     264 14.3   73     7  12\n## 74     27     175 14.9   81     7  13\n## 75     NA     291 14.9   91     7  14\n## 76      7      48 14.3   80     7  15\n## 77     48     260  6.9   81     7  16\n## 78     35     274 10.3   82     7  17\n## 79     61     285  6.3   84     7  18\n## 80     79     187  5.1   87     7  19\n## 81     63     220 11.5   85     7  20\n## 82     16       7  6.9   74     7  21\n## 83     NA     258  9.7   81     7  22\n## 84     NA     295 11.5   82     7  23\n## 85     80     294  8.6   86     7  24\n## 86    108     223  8.0   85     7  25\n## 87     20      81  8.6   82     7  26\n## 88     52      82 12.0   86     7  27\n## 89     82     213  7.4   88     7  28\n## 90     50     275  7.4   86     7  29\n## 91     64     253  7.4   83     7  30\n## 92     59     254  9.2   81     7  31\n## 93     39      83  6.9   81     8   1\n## 94      9      24 13.8   81     8   2\n## 95     16      77  7.4   82     8   3\n## 96     78      NA  6.9   86     8   4\n## 97     35      NA  7.4   85     8   5\n## 98     66      NA  4.6   87     8   6\n## 99    122     255  4.0   89     8   7\n## 100    89     229 10.3   90     8   8\n## 101   110     207  8.0   90     8   9\n## 102    NA     222  8.6   92     8  10\n## 103    NA     137 11.5   86     8  11\n## 104    44     192 11.5   86     8  12\n## 105    28     273 11.5   82     8  13\n## 106    65     157  9.7   80     8  14\n## 107    NA      64 11.5   79     8  15\n## 108    22      71 10.3   77     8  16\n## 109    59      51  6.3   79     8  17\n## 110    23     115  7.4   76     8  18\n## 111    31     244 10.9   78     8  19\n## 112    44     190 10.3   78     8  20\n## 113    21     259 15.5   77     8  21\n## 114     9      36 14.3   72     8  22\n## 115    NA     255 12.6   75     8  23\n## 116    45     212  9.7   79     8  24\n## 117   168     238  3.4   81     8  25\n## 118    73     215  8.0   86     8  26\n## 119    NA     153  5.7   88     8  27\n## 120    76     203  9.7   97     8  28\n## 121   118     225  2.3   94     8  29\n## 122    84     237  6.3   96     8  30\n## 123    85     188  6.3   94     8  31\n## 124    96     167  6.9   91     9   1\n## 125    78     197  5.1   92     9   2\n## 126    73     183  2.8   93     9   3\n## 127    91     189  4.6   93     9   4\n## 128    47      95  7.4   87     9   5\n## 129    32      92 15.5   84     9   6\n## 130    20     252 10.9   80     9   7\n## 131    23     220 10.3   78     9   8\n## 132    21     230 10.9   75     9   9\n## 133    24     259  9.7   73     9  10\n## 134    44     236 14.9   81     9  11\n## 135    21     259 15.5   76     9  12\n## 136    28     238  6.3   77     9  13\n## 137     9      24 10.9   71     9  14\n## 138    13     112 11.5   71     9  15\n## 139    46     237  6.9   78     9  16\n## 140    18     224 13.8   67     9  17\n## 141    13      27 10.3   76     9  18\n## 142    24     238 10.3   68     9  19\n## 143    16     201  8.0   82     9  20\n## 144    13     238 12.6   64     9  21\n## 145    23      14  9.2   71     9  22\n## 146    36     139 10.3   81     9  23\n## 147     7      49 10.3   69     9  24\n## 148    14      20 16.6   63     9  25\n## 149    30     193  6.9   70     9  26\n## 150    NA     145 13.2   77     9  27\n## 151    14     191 14.3   75     9  28\n## 152    18     131  8.0   76     9  29\n## 153    20     223 11.5   68     9  30\ncomplete.cases(airquality)#判断每行有没有缺失值##   [1]  TRUE  TRUE  TRUE  TRUE FALSE FALSE  TRUE  TRUE  TRUE FALSE FALSE  TRUE\n##  [13]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE\n##  [25] FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE\n##  [37] FALSE  TRUE FALSE  TRUE  TRUE FALSE FALSE  TRUE FALSE FALSE  TRUE  TRUE\n##  [49]  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n##  [61] FALSE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE\n##  [73]  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE\n##  [85]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE\n##  [97] FALSE FALSE  TRUE  TRUE  TRUE FALSE FALSE  TRUE  TRUE  TRUE FALSE  TRUE\n## [109]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE FALSE  TRUE\n## [121]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE\n## [133]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE\n## [145]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE\nwhich(complete.cases(airquality)==F) #有缺失值的行号##  [1]   5   6  10  11  25  26  27  32  33  34  35  36  37  39  42  43  45  46  52\n## [20]  53  54  55  56  57  58  59  60  61  65  72  75  83  84  96  97  98 102 103\n## [39] 107 115 119 150\nsum(complete.cases(airquality)) #完整观测值的个数## [1] 111\nna.omit(airquality) #删去缺失值的数据##     Ozone Solar.R Wind Temp Month Day\n## 1      41     190  7.4   67     5   1\n## 2      36     118  8.0   72     5   2\n## 3      12     149 12.6   74     5   3\n## 4      18     313 11.5   62     5   4\n## 7      23     299  8.6   65     5   7\n## 8      19      99 13.8   59     5   8\n## 9       8      19 20.1   61     5   9\n## 12     16     256  9.7   69     5  12\n## 13     11     290  9.2   66     5  13\n## 14     14     274 10.9   68     5  14\n## 15     18      65 13.2   58     5  15\n## 16     14     334 11.5   64     5  16\n## 17     34     307 12.0   66     5  17\n## 18      6      78 18.4   57     5  18\n## 19     30     322 11.5   68     5  19\n## 20     11      44  9.7   62     5  20\n## 21      1       8  9.7   59     5  21\n## 22     11     320 16.6   73     5  22\n## 23      4      25  9.7   61     5  23\n## 24     32      92 12.0   61     5  24\n## 28     23      13 12.0   67     5  28\n## 29     45     252 14.9   81     5  29\n## 30    115     223  5.7   79     5  30\n## 31     37     279  7.4   76     5  31\n## 38     29     127  9.7   82     6   7\n## 40     71     291 13.8   90     6   9\n## 41     39     323 11.5   87     6  10\n## 44     23     148  8.0   82     6  13\n## 47     21     191 14.9   77     6  16\n## 48     37     284 20.7   72     6  17\n## 49     20      37  9.2   65     6  18\n## 50     12     120 11.5   73     6  19\n## 51     13     137 10.3   76     6  20\n## 62    135     269  4.1   84     7   1\n## 63     49     248  9.2   85     7   2\n## 64     32     236  9.2   81     7   3\n## 66     64     175  4.6   83     7   5\n## 67     40     314 10.9   83     7   6\n## 68     77     276  5.1   88     7   7\n## 69     97     267  6.3   92     7   8\n## 70     97     272  5.7   92     7   9\n## 71     85     175  7.4   89     7  10\n## 73     10     264 14.3   73     7  12\n## 74     27     175 14.9   81     7  13\n## 76      7      48 14.3   80     7  15\n## 77     48     260  6.9   81     7  16\n## 78     35     274 10.3   82     7  17\n## 79     61     285  6.3   84     7  18\n## 80     79     187  5.1   87     7  19\n## 81     63     220 11.5   85     7  20\n## 82     16       7  6.9   74     7  21\n## 85     80     294  8.6   86     7  24\n## 86    108     223  8.0   85     7  25\n## 87     20      81  8.6   82     7  26\n## 88     52      82 12.0   86     7  27\n## 89     82     213  7.4   88     7  28\n## 90     50     275  7.4   86     7  29\n## 91     64     253  7.4   83     7  30\n## 92     59     254  9.2   81     7  31\n## 93     39      83  6.9   81     8   1\n## 94      9      24 13.8   81     8   2\n## 95     16      77  7.4   82     8   3\n## 99    122     255  4.0   89     8   7\n## 100    89     229 10.3   90     8   8\n## 101   110     207  8.0   90     8   9\n## 104    44     192 11.5   86     8  12\n## 105    28     273 11.5   82     8  13\n## 106    65     157  9.7   80     8  14\n## 108    22      71 10.3   77     8  16\n## 109    59      51  6.3   79     8  17\n## 110    23     115  7.4   76     8  18\n## 111    31     244 10.9   78     8  19\n## 112    44     190 10.3   78     8  20\n## 113    21     259 15.5   77     8  21\n## 114     9      36 14.3   72     8  22\n## 116    45     212  9.7   79     8  24\n## 117   168     238  3.4   81     8  25\n## 118    73     215  8.0   86     8  26\n## 120    76     203  9.7   97     8  28\n## 121   118     225  2.3   94     8  29\n## 122    84     237  6.3   96     8  30\n## 123    85     188  6.3   94     8  31\n## 124    96     167  6.9   91     9   1\n## 125    78     197  5.1   92     9   2\n## 126    73     183  2.8   93     9   3\n## 127    91     189  4.6   93     9   4\n## 128    47      95  7.4   87     9   5\n## 129    32      92 15.5   84     9   6\n## 130    20     252 10.9   80     9   7\n## 131    23     220 10.3   78     9   8\n## 132    21     230 10.9   75     9   9\n## 133    24     259  9.7   73     9  10\n## 134    44     236 14.9   81     9  11\n## 135    21     259 15.5   76     9  12\n## 136    28     238  6.3   77     9  13\n## 137     9      24 10.9   71     9  14\n## 138    13     112 11.5   71     9  15\n## 139    46     237  6.9   78     9  16\n## 140    18     224 13.8   67     9  17\n## 141    13      27 10.3   76     9  18\n## 142    24     238 10.3   68     9  19\n## 143    16     201  8.0   82     9  20\n## 144    13     238 12.6   64     9  21\n## 145    23      14  9.2   71     9  22\n## 146    36     139 10.3   81     9  23\n## 147     7      49 10.3   69     9  24\n## 148    14      20 16.6   63     9  25\n## 149    30     193  6.9   70     9  26\n## 151    14     191 14.3   75     9  28\n## 152    18     131  8.0   76     9  29\n## 153    20     223 11.5   68     9  30\n#附加, 横或竖合并数据: append,cbind,rbind\nx=1:10;x[12]=3\n(x1=append(x,77,after=5))##  [1]  1  2  3  4  5 77  6  7  8  9 10 NA  3\ncbind(1:5,rnorm(5))##      [,1]        [,2]\n## [1,]    1 -0.90721116\n## [2,]    2 -0.09268695\n## [3,]    3 -2.50332775\n## [4,]    4 -0.58279251\n## [5,]    5  1.12082699\nrbind(1:5,rnorm(5))##          [,1]      [,2]      [,3]      [,4]       [,5]\n## [1,] 1.000000  2.000000 3.0000000  4.000000  5.0000000\n## [2,] 1.165117 -1.013695 0.2718095 -0.910262 -0.7411211\ncbind(1:3,4:6);rbind(1:3,4:6) #去掉矩阵重复的行##      [,1] [,2]\n## [1,]    1    4\n## [2,]    2    5\n## [3,]    3    6##      [,1] [,2] [,3]\n## [1,]    1    2    3\n## [2,]    4    5    6\n(x=rbind(1:5,runif(5),runif(5),1:5,7:11))##           [,1]      [,2]         [,3]       [,4]       [,5]\n## [1,] 1.0000000 2.0000000 3.0000000000  4.0000000  5.0000000\n## [2,] 0.3347674 0.2420137 0.7735781306  0.3814162  0.7419370\n## [3,] 0.7229625 0.3269700 0.0009185066  0.8552947  0.2524031\n## [4,] 1.0000000 2.0000000 3.0000000000  4.0000000  5.0000000\n## [5,] 7.0000000 8.0000000 9.0000000000 10.0000000 11.0000000\nx[!duplicated(x),]##           [,1]      [,2]         [,3]       [,4]       [,5]\n## [1,] 1.0000000 2.0000000 3.0000000000  4.0000000  5.0000000\n## [2,] 0.3347674 0.2420137 0.7735781306  0.3814162  0.7419370\n## [3,] 0.7229625 0.3269700 0.0009185066  0.8552947  0.2524031\n## [4,] 7.0000000 8.0000000 9.0000000000 10.0000000 11.0000000\nunique(x)##           [,1]      [,2]         [,3]       [,4]       [,5]\n## [1,] 1.0000000 2.0000000 3.0000000000  4.0000000  5.0000000\n## [2,] 0.3347674 0.2420137 0.7735781306  0.3814162  0.7419370\n## [3,] 0.7229625 0.3269700 0.0009185066  0.8552947  0.2524031\n## [4,] 7.0000000 8.0000000 9.0000000000 10.0000000 11.0000000\n#列表 list\n#list可以是任何对象(包括list本身)的集合\nz=list(1:3,Tom=c(1:2,a=list(\"R\",letters[1:5]),w=\"hi!\"))\nz[[1]];z[[2]]## [1] 1 2 3## [[1]]\n## [1] 1\n## \n## [[2]]\n## [1] 2\n## \n## $a1\n## [1] \"R\"\n## \n## $a2\n## [1] \"a\" \"b\" \"c\" \"d\" \"e\"\n## \n## $w\n## [1] \"hi!\"\nz$T## [[1]]\n## [1] 1\n## \n## [[2]]\n## [1] 2\n## \n## $a1\n## [1] \"R\"\n## \n## $a2\n## [1] \"a\" \"b\" \"c\" \"d\" \"e\"\n## \n## $w\n## [1] \"hi!\"\nz$T$a2## [1] \"a\" \"b\" \"c\" \"d\" \"e\"\nz$T[[3]]## [1] \"R\"\nz$T$w## [1] \"hi!\"\nfor (i in z){\n  print(i)\n  for (j in i)\n    print(j)\n}## [1] 1 2 3\n## [1] 1\n## [1] 2\n## [1] 3\n## [[1]]\n## [1] 1\n## \n## [[2]]\n## [1] 2\n## \n## $a1\n## [1] \"R\"\n## \n## $a2\n## [1] \"a\" \"b\" \"c\" \"d\" \"e\"\n## \n## $w\n## [1] \"hi!\"\n## \n## [1] 1\n## [1] 2\n## [1] \"R\"\n## [1] \"a\" \"b\" \"c\" \"d\" \"e\"\n## [1] \"hi!\"\ny=list(1:5,rnorm(10))\nlapply(y, function(x) sum(x^2))#对list中的每个元素实施函数运算, 输出list## [[1]]\n## [1] 55\n## \n## [[2]]\n## [1] 14.28871\nsapply(y, function(x) sum(x^2))#同上, 但输出为向量或矩阵等形式## [1] 55.00000 14.28871\n#条形图和表格\n\nx=scan()#30个顾客在五个品牌中的挑选\nx <- c(3, 3, 3, 4, 1, 4, 2, 1, 3, 2, 5, 3, 1, 2, 5, 2, 3, 4, 2, 2, 5, 3, 1, 4, 2, 2, 4, 3, 5, 2)\n\nbarplot(x) #不合题意的图\ntable(x) #制表## x\n## 1 2 3 4 5 \n## 4 9 8 5 4\nbarplot(table(x)) #正确的图\nbarplot(table(x)/length(x)) #比例图(和上图形状一样)\ntable(x)/length(x)## x\n##         1         2         3         4         5 \n## 0.1333333 0.3000000 0.2666667 0.1666667 0.1333333\n#形成表格\nlibrary(MASS)#载入程序包MASS\nquine #MASS所带数据##     Eth Sex Age Lrn Days\n## 1     A   M  F0  SL    2\n## 2     A   M  F0  SL   11\n## 3     A   M  F0  SL   14\n## 4     A   M  F0  AL    5\n## 5     A   M  F0  AL    5\n## 6     A   M  F0  AL   13\n## 7     A   M  F0  AL   20\n## 8     A   M  F0  AL   22\n## 9     A   M  F1  SL    6\n## 10    A   M  F1  SL    6\n## 11    A   M  F1  SL   15\n## 12    A   M  F1  AL    7\n## 13    A   M  F1  AL   14\n## 14    A   M  F2  SL    6\n## 15    A   M  F2  SL   32\n## 16    A   M  F2  SL   53\n## 17    A   M  F2  SL   57\n## 18    A   M  F2  AL   14\n## 19    A   M  F2  AL   16\n## 20    A   M  F2  AL   16\n## 21    A   M  F2  AL   17\n## 22    A   M  F2  AL   40\n## 23    A   M  F2  AL   43\n## 24    A   M  F2  AL   46\n## 25    A   M  F3  AL    8\n## 26    A   M  F3  AL   23\n## 27    A   M  F3  AL   23\n## 28    A   M  F3  AL   28\n## 29    A   M  F3  AL   34\n## 30    A   M  F3  AL   36\n## 31    A   M  F3  AL   38\n## 32    A   F  F0  SL    3\n## 33    A   F  F0  AL    5\n## 34    A   F  F0  AL   11\n## 35    A   F  F0  AL   24\n## 36    A   F  F0  AL   45\n## 37    A   F  F1  SL    5\n## 38    A   F  F1  SL    6\n## 39    A   F  F1  SL    6\n## 40    A   F  F1  SL    9\n## 41    A   F  F1  SL   13\n## 42    A   F  F1  SL   23\n## 43    A   F  F1  SL   25\n## 44    A   F  F1  SL   32\n## 45    A   F  F1  SL   53\n## 46    A   F  F1  SL   54\n## 47    A   F  F1  AL    5\n## 48    A   F  F1  AL    5\n## 49    A   F  F1  AL   11\n## 50    A   F  F1  AL   17\n## 51    A   F  F1  AL   19\n## 52    A   F  F2  SL    8\n## 53    A   F  F2  SL   13\n## 54    A   F  F2  SL   14\n## 55    A   F  F2  SL   20\n## 56    A   F  F2  SL   47\n## 57    A   F  F2  SL   48\n## 58    A   F  F2  SL   60\n## 59    A   F  F2  SL   81\n## 60    A   F  F2  AL    2\n## 61    A   F  F3  AL    0\n## 62    A   F  F3  AL    2\n## 63    A   F  F3  AL    3\n## 64    A   F  F3  AL    5\n## 65    A   F  F3  AL   10\n## 66    A   F  F3  AL   14\n## 67    A   F  F3  AL   21\n## 68    A   F  F3  AL   36\n## 69    A   F  F3  AL   40\n## 70    N   M  F0  SL    6\n## 71    N   M  F0  SL   17\n## 72    N   M  F0  SL   67\n## 73    N   M  F0  AL    0\n## 74    N   M  F0  AL    0\n## 75    N   M  F0  AL    2\n## 76    N   M  F0  AL    7\n## 77    N   M  F0  AL   11\n## 78    N   M  F0  AL   12\n## 79    N   M  F1  SL    0\n## 80    N   M  F1  SL    0\n## 81    N   M  F1  SL    5\n## 82    N   M  F1  SL    5\n## 83    N   M  F1  SL    5\n## 84    N   M  F1  SL   11\n## 85    N   M  F1  SL   17\n## 86    N   M  F1  AL    3\n## 87    N   M  F1  AL    4\n## 88    N   M  F2  SL   22\n## 89    N   M  F2  SL   30\n## 90    N   M  F2  SL   36\n## 91    N   M  F2  AL    8\n## 92    N   M  F2  AL    0\n## 93    N   M  F2  AL    1\n## 94    N   M  F2  AL    5\n## 95    N   M  F2  AL    7\n## 96    N   M  F2  AL   16\n## 97    N   M  F2  AL   27\n## 98    N   M  F3  AL    0\n## 99    N   M  F3  AL   30\n## 100   N   M  F3  AL   10\n## 101   N   M  F3  AL   14\n## 102   N   M  F3  AL   27\n## 103   N   M  F3  AL   41\n## 104   N   M  F3  AL   69\n## 105   N   F  F0  SL   25\n## 106   N   F  F0  AL   10\n## 107   N   F  F0  AL   11\n## 108   N   F  F0  AL   20\n## 109   N   F  F0  AL   33\n## 110   N   F  F1  SL    5\n## 111   N   F  F1  SL    7\n## 112   N   F  F1  SL    0\n## 113   N   F  F1  SL    1\n## 114   N   F  F1  SL    5\n## 115   N   F  F1  SL    5\n## 116   N   F  F1  SL    5\n## 117   N   F  F1  SL    5\n## 118   N   F  F1  SL    7\n## 119   N   F  F1  SL   11\n## 120   N   F  F1  SL   15\n## 121   N   F  F1  AL    5\n## 122   N   F  F1  AL   14\n## 123   N   F  F1  AL    6\n## 124   N   F  F1  AL    6\n## 125   N   F  F1  AL    7\n## 126   N   F  F1  AL   28\n## 127   N   F  F2  SL    0\n## 128   N   F  F2  SL    5\n## 129   N   F  F2  SL   14\n## 130   N   F  F2  SL    2\n## 131   N   F  F2  SL    2\n## 132   N   F  F2  SL    3\n## 133   N   F  F2  SL    8\n## 134   N   F  F2  SL   10\n## 135   N   F  F2  SL   12\n## 136   N   F  F2  AL    1\n## 137   N   F  F3  AL    1\n## 138   N   F  F3  AL    9\n## 139   N   F  F3  AL   22\n## 140   N   F  F3  AL    3\n## 141   N   F  F3  AL    3\n## 142   N   F  F3  AL    5\n## 143   N   F  F3  AL   15\n## 144   N   F  F3  AL   18\n## 145   N   F  F3  AL   22\n## 146   N   F  F3  AL   37\nattach(quine)#把数据变量的名字放入内存\n#下面语句产生从该数据得到的各种表格\ntable(Age)## Age\n## F0 F1 F2 F3 \n## 27 46 40 33\ntable(Sex, Age); tab=xtabs(~ Sex + Age, quine); unclass(tab)##    Age\n## Sex F0 F1 F2 F3\n##   F 10 32 19 19\n##   M 17 14 21 14##    Age\n## Sex F0 F1 F2 F3\n##   F 10 32 19 19\n##   M 17 14 21 14\n## attr(,\"call\")\n## xtabs(formula = ~Sex + Age, data = quine)\ntapply(Days, Age, mean)##       F0       F1       F2       F3 \n## 14.85185 11.15217 21.05000 19.60606\ntapply(Days, list(Sex, Age), mean)##         F0       F1       F2       F3\n## F 18.70000 12.96875 18.42105 14.00000\n## M 12.58824  7.00000 23.42857 27.21429\n#编写简单的函数\n#下面这个函数是按照定义(编程简单, 但效率不高)求n以内的素数\nss=function(n=100){\n  z=2\n  for (i in 2:n)\n    if(any(i%%2:(i-1)==0)==F)z=c(z,i)\n  return(z) \n}\n#fix(ss) #用来修改任何函数或编写一个新函数\nss() #计算100以内的素数##  [1]  2  3  5  7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97\n#t1=Sys.time() #记录时间点\n#ss(10000) #计算10000以内的素数\n#Sys.time()-t1 #计算费了多少时间\n#system.time(ss(10000))#计算执行ss(10000)所用时间\n#函数可以不写return,这时最后一个值为return的值\n#为了输出多个值最好使用list输出\ndetach(quine) #attach的逆运行\n\n#画图\n\nx=seq(-3,3,len=20);y=dnorm(x)#产生数据\nw= data.frame(x,y)#合并x,成为数据w\npar(mfcol=c(2,2))#准备画四个图的地方\nplot(y ~ x, w,main=\"正态密度函数\")\nplot(y ~ x,w,type=\"l\", main=\"正态密度函数\")\nplot(y ~ x,w,type=\"o\", main=\"正态密度函数\")\nplot(y ~ x,w,type=\"b\",main=\"正态密度函数\")\npar(mfcol=c(1,1))#取消par(mfcol=c(2,2))\n\n#色彩和符号等的调整\nplot(1,1,xlim=c(1,7.5),ylim=c(0,5),type=\"n\") #画出框架\n#在plot命令后面追加点(如要追加线可用lines函数):\npoints(1:7,rep(4.5,7),cex=seq(1,4,l=7),col=1:7, pch=0:6)\ntext(1:7,rep(3.5,7),labels=paste(0:6,letters[1:7]),\ncex=seq(1,4,l=7),col=1:7)#在指定位置加文字\npoints(1:7,rep(2,7), pch=(0:6)+7)#点出符号7到13\ntext((1:7)+0.25, rep(2,7), paste((0:6)+7))#加符号号码\npoints(1:7,rep(1,7), pch=(0:6)+14) #点出符号14到20\ntext((1:7)+0.25, rep(1,7), paste((0:6)+14)) #加符号号码\n#关于符号形状、大小、颜色以及其他画图选项的说明可用\"?par\"来查看"},{"path":"r及python语言简介.html","id":"python语言安装及环境配置","chapter":"2 R及Python语言简介","heading":"2.0.5 python语言安装及环境配置","text":"直接安装Anaconda编辑环境；python基础；","code":"x = [1,2,3,4]\nprint(x[2])## 3"},{"path":"数据描述.html","id":"数据描述","chapter":"3 数据描述","heading":"3 数据描述","text":"","code":""},{"path":"数据描述.html","id":"数据的意义及获取","chapter":"3 数据描述","heading":"3.0.1 数据的意义及获取","text":"数据的类型：使用不同的标准，可将数据分成不同的类型，如数量型和质量型；\n质量型(Categorical)：定类变量(Nominal)、定序变量(Ordinal)；\n数量型(Numerical)：定距数据(interval data)、等比变量(ratio);\n质量型(Categorical)：定类变量(Nominal)、定序变量(Ordinal)；数量型(Numerical)：定距数据(interval data)、等比变量(ratio);数据的获取：实验数据、观察数据、网络抓取及公用数据库(UCI,kaggle)等；\ndatalist(datalist)汇集了多 个网站上的数据集;\nUCI数据库(uci dataset):创建于1987年，是一个比较有历史的数据集数据库，是一个含有数据库、领域知识及数据产生器的网站；\nFastai(Fastai):进行图像分类、NLP及图像定位(image localization)的数据集；\nKaggle(kaggle)：数据科学竞赛的主要网站；\nSklearn(Skearn)：数据科学非常重要的包；\ndatalist(datalist)汇集了多 个网站上的数据集;UCI数据库(uci dataset):创建于1987年，是一个比较有历史的数据集数据库，是一个含有数据库、领域知识及数据产生器的网站；Fastai(Fastai):进行图像分类、NLP及图像定位(image localization)的数据集；Kaggle(kaggle)：数据科学竞赛的主要网站；Sklearn(Skearn)：数据科学非常重要的包；数据的产生过程：总体(有限、无限，未知）和样本（总体的子集，随机性，已知）；\n表格型数据（结构化数据）：行(样本数量,rows), 列(变量名,columns)","code":"\nlibrary(ISLR)\n#View(Auto)\nhead(Auto) # 查看数据的前5行##   mpg cylinders displacement horsepower weight acceleration year origin\n## 1  18         8          307        130   3504         12.0   70      1\n## 2  15         8          350        165   3693         11.5   70      1\n## 3  18         8          318        150   3436         11.0   70      1\n## 4  16         8          304        150   3433         12.0   70      1\n## 5  17         8          302        140   3449         10.5   70      1\n## 6  15         8          429        198   4341         10.0   70      1\n##                        name\n## 1 chevrolet chevelle malibu\n## 2         buick skylark 320\n## 3        plymouth satellite\n## 4             amc rebel sst\n## 5               ford torino\n## 6          ford galaxie 500\nnames(Auto) # 查看变量名## [1] \"mpg\"          \"cylinders\"    \"displacement\" \"horsepower\"   \"weight\"      \n## [6] \"acceleration\" \"year\"         \"origin\"       \"name\""},{"path":"数据描述.html","id":"简单的数据汇总","chapter":"3 数据描述","heading":"3.0.2 简单的数据汇总","text":"样本平均值的计算：\\[\\bar{Y}=\\frac{1}{n}\\sum\\limits_{=1}^ny_i\\]样本平均值的计算：\\[\\bar{Y}=\\frac{1}{n}\\sum\\limits_{=1}^ny_i\\]样本的方差：\\[s^2=\\frac{1}{n-1}\\sum\\limits_{=1}^n(x_i-\\bar{x})^2\\]样本的方差：\\[s^2=\\frac{1}{n-1}\\sum\\limits_{=1}^n(x_i-\\bar{x})^2\\]线性相关系数：\\[r=\\frac{\\sum\\limits_{=1}^n(x_i-\\bar{x})(y_i-\\bar{y})}{\\sqrt{\\sum\\limits_{=1}^n(x_i-\\bar{x})^2}\\sqrt{\\sum\\limits_{=1}^n(y_i-\\bar{y})^2}}\\]线性相关系数：\\[r=\\frac{\\sum\\limits_{=1}^n(x_i-\\bar{x})(y_i-\\bar{y})}{\\sqrt{\\sum\\limits_{=1}^n(x_i-\\bar{x})^2}\\sqrt{\\sum\\limits_{=1}^n(y_i-\\bar{y})^2}}\\]课堂练习：\n统计7位同学周未的学习时间，数据为：8，11，7，13，9，5，9，计算同学学习时间的均值，中位数、四分位数、标准差和极差（使用手算）。\n\\(\\bar{x}=\\frac{8+11+7+13+9+5+9}{7}=8.85\\)\n\\(s^2=\\frac{(8-8.85)^2+\\cdots+(9-8.85)^2}{7-1}=6.81\\)\n\\(s=\\sqrt{s^2}=\\sqrt{6.81}=2.6\\)\nMedian = 9; Mode = 9; Range = Max - min = 13-5=8\n课堂练习：\n统计7位同学周未的学习时间，数据为：8，11，7，13，9，5，9，计算同学学习时间的均值，中位数、四分位数、标准差和极差（使用手算）。\\(\\bar{x}=\\frac{8+11+7+13+9+5+9}{7}=8.85\\)\\(s^2=\\frac{(8-8.85)^2+\\cdots+(9-8.85)^2}{7-1}=6.81\\)\\(s=\\sqrt{s^2}=\\sqrt{6.81}=2.6\\)Median = 9; Mode = 9; Range = Max - min = 13-5=8","code":"\nlibrary(ISLR)\nsummary(Auto)##       mpg          cylinders      displacement     horsepower        weight    \n##  Min.   : 9.00   Min.   :3.000   Min.   : 68.0   Min.   : 46.0   Min.   :1613  \n##  1st Qu.:17.00   1st Qu.:4.000   1st Qu.:105.0   1st Qu.: 75.0   1st Qu.:2225  \n##  Median :22.75   Median :4.000   Median :151.0   Median : 93.5   Median :2804  \n##  Mean   :23.45   Mean   :5.472   Mean   :194.4   Mean   :104.5   Mean   :2978  \n##  3rd Qu.:29.00   3rd Qu.:8.000   3rd Qu.:275.8   3rd Qu.:126.0   3rd Qu.:3615  \n##  Max.   :46.60   Max.   :8.000   Max.   :455.0   Max.   :230.0   Max.   :5140  \n##                                                                                \n##   acceleration        year           origin                      name    \n##  Min.   : 8.00   Min.   :70.00   Min.   :1.000   amc matador       :  5  \n##  1st Qu.:13.78   1st Qu.:73.00   1st Qu.:1.000   ford pinto        :  5  \n##  Median :15.50   Median :76.00   Median :1.000   toyota corolla    :  5  \n##  Mean   :15.54   Mean   :75.98   Mean   :1.577   amc gremlin       :  4  \n##  3rd Qu.:17.02   3rd Qu.:79.00   3rd Qu.:2.000   amc hornet        :  4  \n##  Max.   :24.80   Max.   :82.00   Max.   :3.000   chevrolet chevette:  4  \n##                                                  (Other)           :365\nmean(Auto$mpg)## [1] 23.44592\nd <- c(8,11,7,13,9,5,9)\nmean(d)## [1] 8.857143\nmedian(d)## [1] 9\nmode(d)## [1] \"numeric\"\nquantile(d)##   0%  25%  50%  75% 100% \n##  5.0  7.5  9.0 10.0 13.0\nsd(d)## [1] 2.609506"},{"path":"数据描述.html","id":"数据的可视化","chapter":"3 数据描述","heading":"3.0.3 数据的可视化","text":"两个变量之间的关系：散点图(scatter)\n4. 把一些数目以矩形形式显示, 表面上类似于直方图, 但直方图是描述连续数量变量的, 而条形图描述离散变量或分类变量各个水平计数(频数):条形图(barplot)。ggplot2(ggplot2):ggplot2是一个用于声明性地创建图形的系统，基于图形语法。你提供数据，告诉ggplot2如何将变量映射到美学上，使用什么图形基元，它就会处理好这些细节。一个简单的ggplot2例子漂亮图形的几大要素：\n数据类型（Data Component）: 不同的数据类型使用合适的图形来表示，条形图（离散型数据）、直方图（连续型数据）等。\n几何要素（Geometric Component）: 根据数据选择合适的的图形scatter plot, line graphs, barplots, histograms, qqplots, smooth densities, boxplots, pairplots, heatmaps, etc.\n坐标要素（Mapping Component）: 选择合适的横坐标和纵坐标.\n刻度要素（Scale Component）:选择合适的刻度. linear scale, log scale, etc.\n标识要素（Labels Component）: include things like axes labels, titles, legends, font size use, etc.\nEthical Component: , want make sure visualization tells true story. need aware actions cleaning, summarizing, manipulating producing data visualization ensure aren’t using visualization mislead manipulate audience.\n数据类型（Data Component）: 不同的数据类型使用合适的图形来表示，条形图（离散型数据）、直方图（连续型数据）等。几何要素（Geometric Component）: 根据数据选择合适的的图形scatter plot, line graphs, barplots, histograms, qqplots, smooth densities, boxplots, pairplots, heatmaps, etc.坐标要素（Mapping Component）: 选择合适的横坐标和纵坐标.刻度要素（Scale Component）:选择合适的刻度. linear scale, log scale, etc.标识要素（Labels Component）: include things like axes labels, titles, legends, font size use, etc.Ethical Component: , want make sure visualization tells true story. need aware actions cleaning, summarizing, manipulating producing data visualization ensure aren’t using visualization mislead manipulate audience.","code":"\nlibrary(ISLR)\nplot(Auto$mpg,Auto$horsepower)\npar(mfrow=c(1,2))\nhist(Auto$horsepower)\nhist(Auto$mpg)\nboxplot(Auto$horsepower)\n# Simple Bar Plot\ncounts <- table(mtcars$gear)\nbarplot(counts, main=\"Car Distribution\",\n   xlab=\"Number of Gears\")\nlibrary(ggplot2)\nggplot(mpg, aes(displ, hwy, colour = class)) + \n  geom_point()\n# Generate some sample data, then compute mean and standard deviation\n# in each group\ndf <- data.frame(\n  gp = factor(rep(letters[1:3], each = 10)),\n  y = rnorm(30)\n)\nds <- do.call(rbind, lapply(split(df, df$gp), function(d) {\n  data.frame(mean = mean(d$y), sd = sd(d$y), gp = d$gp)\n}))\n\n# The summary data frame ds is used to plot larger red points on top\n# of the raw data. Note that we don't need to supply `data` or `mapping`\n# in each layer because the defaults from ggplot() are used.\nggplot(df, aes(gp, y)) +\n  geom_point() +\n  geom_point(data = ds, aes(y = mean), colour = 'red', size = 3)"},{"path":"数据整理和清理.html","id":"数据整理和清理","chapter":"4 数据整理和清理","heading":"4 数据整理和清理","text":"从各种不同来源得到的数据可能存在数据的格式混乱、数据冗余（重复）、含缺失值(missing data)、异常值(outlier)等问题，无法直接用于模型构建，所以建模的第一步就是完成数据清洗和重构。从各种不同来源得到的数据可能存在数据的格式混乱、数据冗余（重复）、含缺失值(missing data)、异常值(outlier)等问题，无法直接用于模型构建，所以建模的第一步就是完成数据清洗和重构。数据科学家日常的工作大约有80%的时间都用于清洗数据。数据科学家日常的工作大约有80%的时间都用于清洗数据。","code":""},{"path":"数据整理和清理.html","id":"数据的筛选","chapter":"4 数据整理和清理","heading":"4.1 数据的筛选","text":"选出符合条件的数据：根据一定的条件筛选出符合条件的数据子集；","code":"\n# download data from http://data.un.org/Data.aspx?q=GDP&d=SNAAMA&f=grID%3a101%3bcurrID%3aNCU%3bpcFlag%3a0\nlibrary(tidyverse)## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4\n## ✓ tibble  3.1.6     ✓ dplyr   1.0.8\n## ✓ tidyr   1.2.0     ✓ stringr 1.4.0\n## ✓ readr   2.1.2     ✓ forcats 0.5.1## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n## x dplyr::filter() masks stats::filter()\n## x dplyr::lag()    masks stats::lag()\nlibrary(ggplot2)\n\ngdp1 <- read.csv(\"./data/UNdata_Export_20220406_093714228.csv\")\n\nhead(gdp1)##   Country.or.Area Year\n## 1     Afghanistan 2020\n## 2     Afghanistan 2020\n## 3     Afghanistan 2020\n## 4     Afghanistan 2020\n## 5     Afghanistan 2020\n## 6     Afghanistan 2020\n##                                                                                       Item\n## 1                                                            Final consumption expenditure\n## 2 Household consumption expenditure (including Non-profit institutions serving households)\n## 3                                         General government final consumption expenditure\n## 4                                                                  Gross capital formation\n## 5       Gross fixed capital formation (including Acquisitions less disposals of valuables)\n## 6                                                            Exports of goods and services\n##          Value\n## 1 1.628089e+12\n## 2 1.354293e+12\n## 3 2.737961e+11\n## 4 1.816860e+11\n## 5 1.816860e+11\n## 6 2.043364e+11\nnames(gdp1)## [1] \"Country.or.Area\" \"Year\"            \"Item\"            \"Value\"\n#levels(as.factor(gdp1[,3]))=paste0(\"V\",1:9)\ntb <- as.tibble(gdp1)## Warning: `as.tibble()` was deprecated in tibble 2.0.0.\n## Please use `as_tibble()` instead.\n## The signature and semantics have changed, see `?as_tibble`.\n## This warning is displayed once every 8 hours.\n## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.\nhead(tb)## # A tibble: 6 × 4\n##   Country.or.Area  Year Item                                               Value\n##   <chr>           <int> <chr>                                              <dbl>\n## 1 Afghanistan      2020 Final consumption expenditure                    1.63e12\n## 2 Afghanistan      2020 Household consumption expenditure (including No… 1.35e12\n## 3 Afghanistan      2020 General government final consumption expenditure 2.74e11\n## 4 Afghanistan      2020 Gross capital formation                          1.82e11\n## 5 Afghanistan      2020 Gross fixed capital formation (including Acquis… 1.82e11\n## 6 Afghanistan      2020 Exports of goods and services                    2.04e11\nnames(tb)## [1] \"Country.or.Area\" \"Year\"            \"Item\"            \"Value\"\n# filter year 2016 data\ntb2016 <- tb[tb$Year==2016,-2]%>%spread(key=\"Item\",value=\"Value\")\nhead(tb2016,3)## # A tibble: 3 × 10\n##   Country.or.Area `Changes in inventories` `Exports of goods …` `Final consump…`\n##   <chr>                              <dbl>                <dbl>            <dbl>\n## 1 Afghanistan                           NA         203769211430          1.26e12\n## 2 Albania                      12602872911         426693482069          1.36e12\n## 3 Algeria                    1349202900000        3655739600000          1.11e13\n## # … with 6 more variables:\n## #   `General government final consumption expenditure` <dbl>,\n## #   `Gross capital formation` <dbl>, `Gross Domestic Product (GDP)` <dbl>,\n## #   `Gross fixed capital formation (including Acquisitions less disposals of valuables)` <dbl>,\n## #   `Household consumption expenditure (including Non-profit institutions serving households)` <dbl>,\n## #   `Imports of goods and services` <dbl>\nnames(tb2016)[2:10] <- paste0(\"V\",1:9)\nhead(tb2016)## # A tibble: 6 × 10\n##   Country.or.Area            V1       V2      V3      V4      V5      V6      V7\n##   <chr>                   <dbl>    <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>\n## 1 Afghanistan                NA  2.04e11 1.26e12 2.81e11 1.54e11 1.22e12 1.54e11\n## 2 Albania           12602872911  4.27e11 1.36e12 1.66e11 3.71e11 1.47e12 3.59e11\n## 3 Algeria         1349202900000  3.66e12 1.11e13 3.66e12 8.89e12 1.75e13 7.54e12\n## 4 Andorra              20754648  8.87e 8 2.02e 9 4.99e 8 4.91e 8 2.62e 9 4.70e 8\n## 5 Angola           165743151505  4.65e12 1.16e13 2.30e12 4.50e12 1.65e13 4.34e12\n## 6 Anguilla                   NA  5.62e 8 8.62e 8 1.41e 8 1.80e 8 8.61e 8 1.80e 8\n## # … with 2 more variables: V8 <dbl>, V9 <dbl>\nggplot(tb2016,aes(x=V4,y=V5))+\n  geom_point()+\n  geom_smooth()## `geom_smooth()` using method = 'loess' and formula 'y ~ x'## Warning: Removed 1 rows containing non-finite values (stat_smooth).## Warning: Removed 1 rows containing missing values (geom_point).\n# Draw time series chart\ntb %>% subset(Country.or.Area==\"Japan\") %>%\n  ggplot(aes(x=Year,y=Value))+\n    geom_line(aes(color=Item),size=1)+\n    theme_minimal()"},{"path":"数据整理和清理.html","id":"数据合并","chapter":"4 数据整理和清理","heading":"4.2 数据合并","text":"把多个数据合并在一起；","code":"\nNN <-  c(\"./data/D1.csv\",\"./data/D2.csv\",\"./data/D3.csv\")\ndf <- lapply(NN,read.csv)\nhead(df)## [[1]]\n##                               Country.or.Area Year.s. Value Value.Footnotes\n## 1                                 Afghanistan    2012  -2.4              NA\n## 2                                     Albania    2012  -0.3              NA\n## 3                                     Algeria    2012  -1.9              NA\n## 4                                     Andorra    2012   0.0              NA\n## 5                                      Angola    2012  -3.1              NA\n## 6                         Antigua and Barbuda    2012  -1.1              NA\n## 7                                   Argentina    2012  -0.9              NA\n## 8                                     Armenia    2012  -0.2              NA\n## 9                                   Australia    2012  -1.3              NA\n## 10                                    Austria    2012  -0.4              NA\n## 11                                 Azerbaijan    2012  -1.2              NA\n## 12                                    Bahamas    2012  -1.6              NA\n## 13                                    Bahrain    2012  -1.9              NA\n## 14                                 Bangladesh    2012  -1.3              NA\n## 15                                   Barbados    2012  -0.4              NA\n## 16                                    Belarus    2012   0.5              NA\n## 17                                    Belgium    2012  -0.5              NA\n## 18                                     Belize    2012  -2.5              NA\n## 19                                      Benin    2012  -2.7              NA\n## 20                                     Bhutan    2012  -1.8              NA\n## 21           Bolivia (Plurinational State of)    2012  -1.7              NA\n## 22                     Bosnia and Herzegovina    2012   0.1              NA\n## 23                                   Botswana    2012  -0.9              NA\n## 24                                     Brazil    2012  -1.0              NA\n## 25                          Brunei Darussalam    2012  -1.2              NA\n## 26                                   Bulgaria    2012   0.8              NA\n## 27                               Burkina Faso    2012  -2.9              NA\n## 28                                    Burundi    2012  -3.2              NA\n## 29                                 Cabo Verde    2012  -0.6              NA\n## 30                                   Cambodia    2012  -1.8              NA\n## 31                                   Cameroon    2012  -2.5              NA\n## 32                                     Canada    2012  -1.0              NA\n## 33                   Central African Republic    2012  -2.0              NA\n## 34                                       Chad    2012  -3.0              NA\n## 35                                      Chile    2012  -0.9              NA\n## 36                                      China    2012  -0.7              NA\n## 37                                   Colombia    2012  -1.3              NA\n## 38                                    Comoros    2012  -2.5              NA\n## 39                                      Congo    2012  -2.6              NA\n## 40                               Cook Islands    2012  -4.9              NA\n## 41                                 Costa Rica    2012  -1.4              NA\n## 42                              Côte d’Ivoire    2012  -2.3              NA\n## 43                                    Croatia    2012   0.4              NA\n## 44                                       Cuba    2012   0.0              NA\n## 45                                     Cyprus    2012  -1.1              NA\n## 46                             Czech Republic    2012  -0.5              NA\n## 47      Democratic People's Republic of Korea    2012  -0.5              NA\n## 48           Democratic Republic of the Congo    2012  -2.7              NA\n## 49                                    Denmark    2012  -0.4              NA\n## 50                                   Djibouti    2012  -1.5              NA\n## 51                                   Dominica    2012  -1.4              NA\n## 52                         Dominican Republic    2012  -1.3              NA\n## 53                                    Ecuador    2012  -1.6              NA\n## 54                                      Egypt    2012  -1.7              NA\n## 55                                El Salvador    2012  -0.7              NA\n## 56                          Equatorial Guinea    2012  -2.8              NA\n## 57                                    Eritrea    2012  -3.3              NA\n## 58                                    Estonia    2012   0.2              NA\n## 59                                   Ethiopia    2012  -2.6              NA\n## 60                                       Fiji    2012  -0.8              NA\n## 61                                    Finland    2012  -0.4              NA\n## 62                                     France    2012  -0.6              NA\n## 63                                      Gabon    2012  -2.4              NA\n## 64                                     Gambia    2012  -3.2              NA\n## 65                                    Georgia    2012   0.4              NA\n## 66                                    Germany    2012   0.1              NA\n## 67                                      Ghana    2012  -2.2              NA\n## 68                                     Greece    2012  -0.1              NA\n## 69                                    Grenada    2012   0.0              NA\n## 70                                  Guatemala    2012  -2.5              NA\n## 71                                     Guinea    2012  -2.6              NA\n## 72                              Guinea-Bissau    2012  -2.4              NA\n## 73                                     Guyana    2012  -0.5              NA\n## 74                                      Haiti    2012  -1.4              NA\n## 75                                   Honduras    2012  -2.0              NA\n## 76                                    Hungary    2012   0.2              NA\n## 77                                    Iceland    2012  -1.2              NA\n## 78                                      India    2012  -1.6              NA\n## 79                                  Indonesia    2012  -1.2              NA\n## 80                 Iran (Islamic Republic of)    2012  -1.3              NA\n## 81                                       Iraq    2012  -2.9              NA\n## 82                                    Ireland    2012  -1.2              NA\n## 83                                     Israel    2012  -1.3              NA\n## 84                                      Italy    2012  -0.3              NA\n## 85                                    Jamaica    2012  -0.5              NA\n## 86                                      Japan    2012   0.0              NA\n## 87                                     Jordan    2012  -4.0              NA\n## 88                                 Kazakhstan    2012  -1.1              NA\n## 89                                      Kenya    2012  -2.7              NA\n## 90                                   Kiribati    2012  -2.0              NA\n## 91                                     Kuwait    2012  -3.9              NA\n## 92                                 Kyrgyzstan    2012  -1.3              NA\n## 93           Lao People's Democratic Republic    2012  -1.9              NA\n## 94                                     Latvia    2012   0.6              NA\n## 95                                    Lebanon    2012  -3.7              NA\n## 96                                    Lesotho    2012  -1.1              NA\n## 97                                    Liberia    2012  -2.7              NA\n## 98                                      Libya    2012  -0.8              NA\n## 99                                  Lithuania    2012   0.5              NA\n## 100                                Luxembourg    2012  -1.5              NA\n## 101                                Madagascar    2012  -2.8              NA\n## 102                                    Malawi    2012  -2.9              NA\n## 103                                  Malaysia    2012  -1.7              NA\n## 104                                  Maldives    2012  -1.8              NA\n## 105                                      Mali    2012  -3.0              NA\n## 106                                     Malta    2012  -0.5              NA\n## 107                          Marshall Islands    2012  -1.9              NA\n## 108                                Mauritania    2012  -2.5              NA\n## 109                                 Mauritius    2012  -0.4              NA\n## 110                                    Mexico    2012  -1.7              NA\n## 111          Micronesia (Federated States of)    2012   0.0              NA\n## 112                                    Monaco    2012  -2.7              NA\n## 113                                  Mongolia    2012  -1.5              NA\n## 114                                Montenegro    2012   0.0              NA\n## 115                                   Morocco    2012  -1.4              NA\n## 116                                Mozambique    2012  -2.5              NA\n## 117                                   Myanmar    2012  -0.8              NA\n## 118                                   Namibia    2012  -1.8              NA\n## 119                                     Nauru    2012   0.0              NA\n## 120                                     Nepal    2012  -1.2              NA\n## 121                               Netherlands    2012  -0.3              NA\n## 122                               New Zealand    2012  -1.0              NA\n## 123                                 Nicaragua    2012  -1.5              NA\n## 124                                     Niger    2012  -3.8              NA\n## 125                                   Nigeria    2012  -3.0              NA\n## 126                                      Niue    2012   0.0              NA\n## 127                                    Norway    2012  -1.0              NA\n## 128                                      Oman    2012  -9.1              NA\n## 129                                  Pakistan    2012  -1.7              NA\n## 130                                     Palau    2012   0.0              NA\n## 131                                    Panama    2012  -1.6              NA\n## 132                          Papua New Guinea    2012  -2.2              NA\n## 133                                  Paraguay    2012  -1.7              NA\n## 134                                      Peru    2012  -1.3              NA\n## 135                               Philippines    2012  -1.7              NA\n## 136                                    Poland    2012   0.0              NA\n## 137                                  Portugal    2012  -0.1              NA\n## 138                                     Qatar    2012  -7.1              NA\n## 139                         Republic of Korea    2012  -0.6              NA\n## 140                       Republic of Moldova    2012   0.8              NA\n## 141                                   Romania    2012   0.2              NA\n## 142                        Russian Federation    2012   0.0              NA\n## 143                                    Rwanda    2012  -2.8              NA\n## 144                     Saint Kitts and Nevis    2012  -1.9              NA\n## 145                               Saint Lucia    2012  -1.1              NA\n## 146          Saint Vincent and the Grenadines    2012   0.0              NA\n## 147                                     Samoa    2012  -1.1              NA\n## 148                                San Marino    2012   0.0              NA\n## 149                     Sao Tome and Principe    2012  -2.7              NA\n## 150                              Saudi Arabia    2012  -1.9              NA\n## 151                                   Senegal    2012  -2.9              NA\n## 152                                    Serbia    2012   0.5              NA\n## 153                                Seychelles    2012   0.0              NA\n## 154                              Sierra Leone    2012  -1.9              NA\n## 155                                 Singapore    2012  -2.1              NA\n## 156                                  Slovakia    2012  -0.1              NA\n## 157                                  Slovenia    2012  -0.3              NA\n## 158                           Solomon Islands    2012  -2.2              NA\n## 159                                   Somalia    2012  -2.9              NA\n## 160                              South Africa    2012  -0.8              NA\n## 161                               South Sudan    2012  -4.3              NA\n## 162                                     Spain    2012  -0.5              NA\n## 163                                 Sri Lanka    2012  -0.8              NA\n## 164                                     Sudan    2012  -2.1              NA\n## 165                                  Suriname    2012  -0.9              NA\n## 166                                 Swaziland    2012  -1.6              NA\n## 167                                    Sweden    2012  -0.7              NA\n## 168                               Switzerland    2012  -1.0              NA\n## 169                      Syrian Arab Republic    2012  -0.4              NA\n## 170                                Tajikistan    2012  -2.5              NA\n## 171                                  Thailand    2012  -0.3              NA\n## 172 The former Yugoslav Republic of Macedonia    2012  -0.1              NA\n## 173                               Timor-Leste    2012  -1.6              NA\n## 174                                      Togo    2012  -2.6              NA\n## 175                                     Tonga    2012   0.0              NA\n## 176                       Trinidad and Tobago    2012  -0.3              NA\n## 177                                   Tunisia    2012  -1.1              NA\n## 178                                    Turkey    2012  -1.3              NA\n## 179                              Turkmenistan    2012  -1.3              NA\n## 180                                    Tuvalu    2012   0.0              NA\n## 181                                    Uganda    2012  -3.4              NA\n## 182                                   Ukraine    2012   0.6              NA\n## 183                      United Arab Emirates    2012  -3.1              NA\n## 184                            United Kingdom    2012  -0.6              NA\n## 185               United Republic of Tanzania    2012  -3.0              NA\n## 186                  United States of America    2012  -0.9              NA\n## 187                                   Uruguay    2012  -0.4              NA\n## 188                                Uzbekistan    2012  -1.4              NA\n## 189                                   Vanuatu    2012  -2.0              NA\n## 190        Venezuela (Bolivarian Republic of)    2012  -1.5              NA\n## 191                                  Viet Nam    2012  -1.0              NA\n## 192                                     Yemen    2012  -2.3              NA\n## 193                                    Zambia    2012  -3.2              NA\n## 194                                  Zimbabwe    2012  -2.7              NA\n## \n## [[2]]\n##                               Country.or.Area Year.s. Value Value.Footnotes\n## 1                                 Afghanistan    2012    60              NA\n## 2                                 Afghanistan    2011    54              NA\n## 3                                 Afghanistan    2010    41              NA\n## 4                                     Albania    2012   111              NA\n## 5                                     Albania    2011    96              NA\n## 6                                     Albania    2010   142              NA\n## 7                                     Algeria    2012    98              NA\n## 8                                     Algeria    2011    99              NA\n## 9                                     Algeria    2010    92              NA\n## 10                                    Andorra    2012    81              NA\n## 11                                    Andorra    2011    75              NA\n## 12                                    Andorra    2010    77              NA\n## 13                                     Angola    2012    47              NA\n## 14                                     Angola    2011    48              NA\n## 15                                     Angola    2010    47              NA\n## 16                        Antigua and Barbuda    2012   143              NA\n## 17                        Antigua and Barbuda    2011   196              NA\n## 18                        Antigua and Barbuda    2010   189              NA\n## 19                                  Argentina    2012   152              NA\n## 20                                  Argentina    2011   135              NA\n## 21                                  Argentina    2010   142              NA\n## 22                                    Armenia    2012   112              NA\n## 23                                    Armenia    2011   104              NA\n## 24                                    Armenia    2010   125              NA\n## 25                                  Australia    2012   106              NA\n## 26                                  Australia    2011   108              NA\n## 27                                  Australia    2010   101              NA\n## 28                                    Austria    2012   161              NA\n## 29                                    Austria    2011   155              NA\n## 30                                    Austria    2010   146              NA\n## 31                                 Azerbaijan    2012   109              NA\n## 32                                 Azerbaijan    2011   109              NA\n## 33                                 Azerbaijan    2010    99              NA\n## 34                                    Bahamas    2012    81              NA\n## 35                                    Bahamas    2011    86              NA\n## 36                                    Bahamas    2010   125              NA\n## 37                                    Bahrain    2012   161              NA\n## 38                                    Bahrain    2011   128              NA\n## 39                                    Bahrain    2010   124              NA\n## 40                                 Bangladesh    2012    63              NA\n## 41                                 Bangladesh    2011    56              NA\n## 42                                 Bangladesh    2010    46              NA\n## 43                                   Barbados    2012   123              NA\n## 44                                   Barbados    2011   127              NA\n## 45                                   Barbados    2010   128              NA\n## 46                                    Belarus    2012   114              NA\n## 47                                    Belarus    2011   112              NA\n## 48                                    Belarus    2010   108              NA\n## 49                                    Belgium    2012   111              NA\n## 50                                    Belgium    2011   117              NA\n## 51                                    Belgium    2010   113              NA\n## 52                                     Belize    2012    53              NA\n## 53                                     Belize    2011    70              NA\n## 54                                     Belize    2010    62              NA\n## 55                                      Benin    2012    84              NA\n## 56                                      Benin    2011    85              NA\n## 57                                      Benin    2010    80              NA\n## 58                                     Bhutan    2012    76              NA\n## 59                                     Bhutan    2011    66              NA\n## 60                                     Bhutan    2010    54              NA\n## 61           Bolivia (Plurinational State of)    2012    90              NA\n## 62           Bolivia (Plurinational State of)    2011    83              NA\n## 63           Bolivia (Plurinational State of)    2010    72              NA\n## 64                     Bosnia and Herzegovina    2012    88              NA\n## 65                     Bosnia and Herzegovina    2011    85              NA\n## 66                     Bosnia and Herzegovina    2010    83              NA\n## 67                                   Botswana    2012   154              NA\n## 68                                   Botswana    2011   143              NA\n## 69                                   Botswana    2010   118              NA\n## 70                                     Brazil    2012   125              NA\n## 71                                     Brazil    2011   124              NA\n## 72                                     Brazil    2010   104              NA\n## 73                          Brunei Darussalam    2012   114              NA\n## 74                          Brunei Darussalam    2011   109              NA\n## 75                          Brunei Darussalam    2010   109              NA\n## 76                                   Bulgaria    2012   148              NA\n## 77                                   Bulgaria    2011   141              NA\n## 78                                   Bulgaria    2010   136              NA\n## 79                               Burkina Faso    2012    61              NA\n## 80                               Burkina Faso    2011    45              NA\n## 81                               Burkina Faso    2010    35              NA\n## 82                                    Burundi    2012    23              NA\n## 83                                    Burundi    2011    22              NA\n## 84                                    Burundi    2010    14              NA\n## 85                                 Cabo Verde    2012    86              NA\n## 86                                 Cabo Verde    2011    79              NA\n## 87                                 Cabo Verde    2010    75              NA\n## 88                                   Cambodia    2012   129              NA\n## 89                                   Cambodia    2011    96              NA\n## 90                                   Cambodia    2010    58              NA\n## 91                                   Cameroon    2012    60              NA\n## 92                                   Cameroon    2011    52              NA\n## 93                                   Cameroon    2010    44              NA\n## 94                                     Canada    2012    80              NA\n## 95                                     Canada    2011    80              NA\n## 96                                     Canada    2010    71              NA\n## 97                   Central African Republic    2012    25              NA\n## 98                   Central African Republic    2011    41              NA\n## 99                   Central African Republic    2010    22              NA\n## 100                                      Chad    2012    35              NA\n## 101                                      Chad    2011    32              NA\n## 102                                      Chad    2010    24              NA\n## 103                                     Chile    2012   138              NA\n## 104                                     Chile    2011   130              NA\n## 105                                     Chile    2010   116              NA\n## 106                                     China    2012    80              NA\n## 107                                     China    2011    73              NA\n## 108                                     China    2010    64              NA\n## 109                                  Colombia    2012   103              NA\n## 110                                  Colombia    2011    98              NA\n## 111                                  Colombia    2010    96              NA\n## 112                                   Comoros    2012    40              NA\n## 113                                   Comoros    2011    29              NA\n## 114                                   Comoros    2010    22              NA\n## 115                                     Congo    2012    99              NA\n## 116                                     Congo    2011    94              NA\n## 117                                     Congo    2010    94              NA\n## 118                              Cook Islands    2010    38              NA\n## 119                                Costa Rica    2012   112              NA\n## 120                                Costa Rica    2011    92              NA\n## 121                                Costa Rica    2010    65              NA\n## 122                             Côte d’Ivoire    2012    91              NA\n## 123                             Côte d’Ivoire    2011    86              NA\n## 124                             Côte d’Ivoire    2010    76              NA\n## 125                                   Croatia    2012   115              NA\n## 126                                   Croatia    2011   116              NA\n## 127                                   Croatia    2010   144              NA\n## 128                                      Cuba    2012    15              NA\n## 129                                      Cuba    2011    12              NA\n## 130                                      Cuba    2010     9              NA\n## 131                                    Cyprus    2012    98              NA\n## 132                                    Cyprus    2011    98              NA\n## 133                                    Cyprus    2010    94              NA\n## 134                            Czech Republic    2012   127              NA\n## 135                            Czech Republic    2011   123              NA\n## 136                            Czech Republic    2010   137              NA\n## 137     Democratic People's Republic of Korea    2012     7              NA\n## 138     Democratic People's Republic of Korea    2011     4              NA\n## 139     Democratic People's Republic of Korea    2010     2              NA\n## 140          Democratic Republic of the Congo    2012    31              NA\n## 141          Democratic Republic of the Congo    2011    23              NA\n## 142          Democratic Republic of the Congo    2010    18              NA\n## 143                                   Denmark    2012   118              NA\n## 144                                   Denmark    2011   128              NA\n## 145                                   Denmark    2010   125              NA\n## 146                                  Djibouti    2012    25              NA\n## 147                                  Djibouti    2011    21              NA\n## 148                                  Djibouti    2010    19              NA\n## 149                                  Dominica    2012   152              NA\n## 150                                  Dominica    2011   164              NA\n## 151                                  Dominica    2010   156              NA\n## 152                        Dominican Republic    2012    87              NA\n## 153                        Dominican Republic    2011    87              NA\n## 154                        Dominican Republic    2010    90              NA\n## 155                                   Ecuador    2012   106              NA\n## 156                                   Ecuador    2011   105              NA\n## 157                                   Ecuador    2010   102              NA\n## 158                                     Egypt    2012   120              NA\n## 159                                     Egypt    2011   101              NA\n## 160                                     Egypt    2010    87              NA\n## 161                               El Salvador    2012   137              NA\n## 162                               El Salvador    2011   134              NA\n## 163                               El Salvador    2010   124              NA\n## 164                         Equatorial Guinea    2012    68              NA\n## 165                         Equatorial Guinea    2011    59              NA\n## 166                         Equatorial Guinea    2010    57              NA\n## 167                                   Eritrea    2012     5              NA\n## 168                                   Eritrea    2011     4              NA\n## 169                                   Eritrea    2010     4              NA\n## 170                                   Estonia    2012   160              NA\n## 171                                   Estonia    2011   139              NA\n## 172                                   Estonia    2010   123              NA\n## 173                                  Ethiopia    2012    22              NA\n## 174                                  Ethiopia    2011    17              NA\n## 175                                  Ethiopia    2010     8              NA\n## 176                                      Fiji    2012    98              NA\n## 177                                      Fiji    2011    84              NA\n## 178                                      Fiji    2010    81              NA\n## 179                                   Finland    2012   172              NA\n## 180                                   Finland    2011   166              NA\n## 181                                   Finland    2010   156              NA\n## 182                                    France    2012    97              NA\n## 183                                    France    2011    95              NA\n## 184                                    France    2010   101              NA\n## 185                                     Gabon    2012   179              NA\n## 186                                     Gabon    2011   117              NA\n## 187                                     Gabon    2010   107              NA\n## 188                                    Gambia    2012    85              NA\n## 189                                    Gambia    2011    79              NA\n## 190                                    Gambia    2010    86              NA\n## 191                                   Georgia    2012   108              NA\n## 192                                   Georgia    2011   102              NA\n## 193                                   Georgia    2010    91              NA\n## 194                                   Germany    2012   112              NA\n## 195                                   Germany    2011   132              NA\n## 196                                   Germany    2010   127              NA\n## 197                                     Ghana    2012   101              NA\n## 198                                     Ghana    2011    85              NA\n## 199                                     Ghana    2010    71              NA\n## 200                                    Greece    2012   120              NA\n## 201                                    Greece    2011   106              NA\n## 202                                    Greece    2010   108              NA\n## 203                                   Grenada    2012   121              NA\n## 204                                   Grenada    2010   117              NA\n## 205                                 Guatemala    2012   138              NA\n## 206                                 Guatemala    2011   140              NA\n## 207                                 Guatemala    2010   126              NA\n## 208                                    Guinea    2012    42              NA\n## 209                                    Guinea    2011    44              NA\n## 210                                    Guinea    2010    40              NA\n## 211                             Guinea-Bissau    2012    63              NA\n## 212                             Guinea-Bissau    2011    56              NA\n## 213                             Guinea-Bissau    2010    39              NA\n## 214                                    Guyana    2012    69              NA\n## 215                                    Guyana    2011    70              NA\n## 216                                    Guyana    2010    74              NA\n## 217                                     Haiti    2012    60              NA\n## 218                                     Haiti    2011    41              NA\n## 219                                     Haiti    2010    40              NA\n## 220                                  Honduras    2012    93              NA\n## 221                                  Honduras    2011   104              NA\n## 222                                  Honduras    2010   125              NA\n## 223                                   Hungary    2012   116              NA\n## 224                                   Hungary    2011   117              NA\n## 225                                   Hungary    2010   120              NA\n## 226                                   Iceland    2012   108              NA\n## 227                                   Iceland    2011   106              NA\n## 228                                   Iceland    2010   107              NA\n## 229                                     India    2012    70              NA\n## 230                                     India    2011    72              NA\n## 231                                     India    2010    61              NA\n## 232                                 Indonesia    2012   114              NA\n## 233                                 Indonesia    2011   103              NA\n## 234                                 Indonesia    2010    92              NA\n## 235                Iran (Islamic Republic of)    2012    76              NA\n## 236                Iran (Islamic Republic of)    2011    75              NA\n## 237                Iran (Islamic Republic of)    2010    91              NA\n## 238                                      Iraq    2012    82              NA\n## 239                                      Iraq    2011    78              NA\n## 240                                      Iraq    2010    76              NA\n## 241                                   Ireland    2012   107              NA\n## 242                                   Ireland    2011   108              NA\n## 243                                   Ireland    2010   105              NA\n## 244                                    Israel    2012   121              NA\n## 245                                    Israel    2011   122              NA\n## 246                                    Israel    2010   133              NA\n## 247                                     Italy    2012   160              NA\n## 248                                     Italy    2011   158              NA\n## 249                                     Italy    2010   150              NA\n## 250                                   Jamaica    2012    96              NA\n## 251                                   Jamaica    2011   108              NA\n## 252                                   Jamaica    2010   116              NA\n## 253                                     Japan    2012   111              NA\n## 254                                     Japan    2011   105              NA\n## 255                                     Japan    2010    95              NA\n## 256                                    Jordan    2012   128              NA\n## 257                                    Jordan    2011   118              NA\n## 258                                    Jordan    2010   107              NA\n## 259                                Kazakhstan    2012   186              NA\n## 260                                Kazakhstan    2011   156              NA\n## 261                                Kazakhstan    2010   121              NA\n## 262                                     Kenya    2012    71              NA\n## 263                                     Kenya    2011    67              NA\n## 264                                     Kenya    2010    62              NA\n## 265                                  Kiribati    2012    16              NA\n## 266                                  Kiribati    2011    14              NA\n## 267                                  Kiribati    2010    10              NA\n## 268                                    Kuwait    2012   157              NA\n## 269                                    Kuwait    2011   175              NA\n## 270                                    Kuwait    2010   161              NA\n## 271                                Kyrgyzstan    2012   124              NA\n## 272                                Kyrgyzstan    2011   116              NA\n## 273                                Kyrgyzstan    2010    99              NA\n## 274          Lao People's Democratic Republic    2012    65              NA\n## 275          Lao People's Democratic Republic    2011    87              NA\n## 276          Lao People's Democratic Republic    2010    65              NA\n## 277                                    Latvia    2012   112              NA\n## 278                                    Latvia    2011   103              NA\n## 279                                    Latvia    2010   102              NA\n## 280                                   Lebanon    2012    81              NA\n## 281                                   Lebanon    2011    79              NA\n## 282                                   Lebanon    2010    68              NA\n## 283                                   Lesotho    2012    75              NA\n## 284                                   Lesotho    2011    56              NA\n## 285                                   Lesotho    2010    45              NA\n## 286                                   Liberia    2012    57              NA\n## 287                                   Liberia    2011    49              NA\n## 288                                   Liberia    2010    39              NA\n## 289                                     Libya    2012   156              NA\n## 290                                     Libya    2011   156              NA\n## 291                                     Libya    2010   172              NA\n## 292                                 Lithuania    2012   165              NA\n## 293                                 Lithuania    2011   151              NA\n## 294                                 Lithuania    2010   147              NA\n## 295                                Luxembourg    2012   145              NA\n## 296                                Luxembourg    2011   148              NA\n## 297                                Luxembourg    2010   143              NA\n## 298                                Madagascar    2012    39              NA\n## 299                                Madagascar    2011    41              NA\n## 300                                Madagascar    2010    37              NA\n## 301                                    Malawi    2012    29              NA\n## 302                                    Malawi    2011    26              NA\n## 303                                    Malawi    2010    20              NA\n## 304                                  Malaysia    2012   141              NA\n## 305                                  Malaysia    2011   127              NA\n## 306                                  Malaysia    2010   119              NA\n## 307                                  Maldives    2012   166              NA\n## 308                                  Maldives    2011   166              NA\n## 309                                  Maldives    2010   157              NA\n## 310                                      Mali    2012    98              NA\n## 311                                      Mali    2011    68              NA\n## 312                                      Mali    2010    48              NA\n## 313                                     Malta    2012   127              NA\n## 314                                     Malta    2011   125              NA\n## 315                                     Malta    2010   109              NA\n## 316                          Marshall Islands    2010     7              NA\n## 317                                Mauritania    2012   106              NA\n## 318                                Mauritania    2011    94              NA\n## 319                                Mauritania    2010    79              NA\n## 320                                 Mauritius    2012   120              NA\n## 321                                 Mauritius    2011    99              NA\n## 322                                 Mauritius    2010    92              NA\n## 323                                    Mexico    2012    83              NA\n## 324                                    Mexico    2011    82              NA\n## 325                                    Mexico    2010    81              NA\n## 326          Micronesia (Federated States of)    2012    30              NA\n## 327          Micronesia (Federated States of)    2010    25              NA\n## 328                                    Monaco    2012    88              NA\n## 329                                    Monaco    2011    90              NA\n## 330                                    Monaco    2010    74              NA\n## 331                                  Mongolia    2012   121              NA\n## 332                                  Mongolia    2011   105              NA\n## 333                                  Mongolia    2010    91              NA\n## 334                                Montenegro    2012   181              NA\n## 335                                Montenegro    2010   185              NA\n## 336                                   Morocco    2012   120              NA\n## 337                                   Morocco    2011   113              NA\n## 338                                   Morocco    2010   100              NA\n## 339                                Mozambique    2012    36              NA\n## 340                                Mozambique    2011    33              NA\n## 341                                Mozambique    2010    31              NA\n## 342                                   Myanmar    2012    10              NA\n## 343                                   Myanmar    2011     3              NA\n## 344                                   Myanmar    2010     1              NA\n## 345                                   Namibia    2012    95              NA\n## 346                                   Namibia    2011    96              NA\n## 347                                   Namibia    2010    67              NA\n## 348                                     Nauru    2012    68              NA\n## 349                                     Nauru    2011    65              NA\n## 350                                     Nauru    2010    60              NA\n## 351                                     Nepal    2012    60              NA\n## 352                                     Nepal    2011    44              NA\n## 353                                     Nepal    2010    31              NA\n## 354                               Netherlands    2012   118              NA\n## 355                               Netherlands    2010   115              NA\n## 356                               New Zealand    2012   110              NA\n## 357                               New Zealand    2011   109              NA\n## 358                               New Zealand    2010   115              NA\n## 359                                 Nicaragua    2012    86              NA\n## 360                                 Nicaragua    2011    82              NA\n## 361                                 Nicaragua    2010    65              NA\n## 362                                     Niger    2012    31              NA\n## 363                                     Niger    2011    30              NA\n## 364                                     Niger    2010    25              NA\n## 365                                   Nigeria    2012    67              NA\n## 366                                   Nigeria    2011    59              NA\n## 367                                   Nigeria    2010    55              NA\n## 368                                      Niue    2010     0              NA\n## 369                                    Norway    2012   117              NA\n## 370                                    Norway    2011   116              NA\n## 371                                    Norway    2010   116              NA\n## 372                                      Oman    2012   159              NA\n## 373                                      Oman    2011   169              NA\n## 374                                      Oman    2010   166              NA\n## 375                                  Pakistan    2012    67              NA\n## 376                                  Pakistan    2011    62              NA\n## 377                                  Pakistan    2010    57              NA\n## 378                                     Palau    2012    83              NA\n## 379                                     Palau    2011    75              NA\n## 380                                     Palau    2010    71              NA\n## 381                                    Panama    2012   178              NA\n## 382                                    Panama    2011   189              NA\n## 383                                    Panama    2010   185              NA\n## 384                          Papua New Guinea    2012    38              NA\n## 385                          Papua New Guinea    2011    34              NA\n## 386                          Papua New Guinea    2010    28              NA\n## 387                                  Paraguay    2012   102              NA\n## 388                                  Paraguay    2011    99              NA\n## 389                                  Paraguay    2010    92              NA\n## 390                                      Peru    2012    98              NA\n## 391                                      Peru    2011   110              NA\n## 392                                      Peru    2010   100              NA\n## 393                               Philippines    2012   107              NA\n## 394                               Philippines    2011    99              NA\n## 395                               Philippines    2010    86              NA\n## 396                                    Poland    2012   140              NA\n## 397                                    Poland    2011   131              NA\n## 398                                    Poland    2010   123              NA\n## 399                                  Portugal    2012   116              NA\n## 400                                  Portugal    2011   115              NA\n## 401                                  Portugal    2010   142              NA\n## 402                                     Qatar    2012   127              NA\n## 403                                     Qatar    2011   123              NA\n## 404                                     Qatar    2010   132              NA\n## 405                         Republic of Korea    2012   109              NA\n## 406                         Republic of Korea    2011   109              NA\n## 407                         Republic of Korea    2010   105              NA\n## 408                       Republic of Moldova    2012   102              NA\n## 409                       Republic of Moldova    2011   105              NA\n## 410                       Republic of Moldova    2010    89              NA\n## 411                                   Romania    2012   105              NA\n## 412                                   Romania    2011   109              NA\n## 413                                   Romania    2010   115              NA\n## 414                        Russian Federation    2012   183              NA\n## 415                        Russian Federation    2011   179              NA\n## 416                        Russian Federation    2010   166              NA\n## 417                                    Rwanda    2012    50              NA\n## 418                                    Rwanda    2011    41              NA\n## 419                                    Rwanda    2010    33              NA\n## 420                     Saint Kitts and Nevis    2012   157              NA\n## 421                     Saint Kitts and Nevis    2010   153              NA\n## 422                               Saint Lucia    2012   126              NA\n## 423                               Saint Lucia    2011   123              NA\n## 424                               Saint Lucia    2010   114              NA\n## 425          Saint Vincent and the Grenadines    2012   124              NA\n## 426          Saint Vincent and the Grenadines    2011   121              NA\n## 427          Saint Vincent and the Grenadines    2010   121              NA\n## 428                                     Samoa    2010    91              NA\n## 429                                San Marino    2012   115              NA\n## 430                                San Marino    2011   112              NA\n## 431                                San Marino    2010    76              NA\n## 432                     Sao Tome and Principe    2012    65              NA\n## 433                     Sao Tome and Principe    2011    68              NA\n## 434                     Sao Tome and Principe    2010    62              NA\n## 435                              Saudi Arabia    2012   187              NA\n## 436                              Saudi Arabia    2011   191              NA\n## 437                              Saudi Arabia    2010   188              NA\n## 438                                   Senegal    2012    84              NA\n## 439                                   Senegal    2011    73              NA\n## 440                                   Senegal    2010    67              NA\n## 441                                    Serbia    2012    96              NA\n## 442                                    Serbia    2011   125              NA\n## 443                                    Serbia    2010   129              NA\n## 444                                Seychelles    2012   148              NA\n## 445                                Seychelles    2011   146              NA\n## 446                                Seychelles    2010   136              NA\n## 447                              Sierra Leone    2012    37              NA\n## 448                              Sierra Leone    2011    36              NA\n## 449                              Sierra Leone    2010    34              NA\n## 450                                 Singapore    2012   152              NA\n## 451                                 Singapore    2011   150              NA\n## 452                                 Singapore    2010   145              NA\n## 453                                  Slovakia    2012   112              NA\n## 454                                  Slovakia    2011   109              NA\n## 455                                  Slovakia    2010   108              NA\n## 456                                  Slovenia    2012   109              NA\n## 457                                  Slovenia    2011   107              NA\n## 458                                  Slovenia    2010   105              NA\n## 459                           Solomon Islands    2012    55              NA\n## 460                           Solomon Islands    2011    50              NA\n## 461                           Solomon Islands    2010     6              NA\n## 462                                   Somalia    2012    23              NA\n## 463                                   Somalia    2011     7              NA\n## 464                                   Somalia    2010     7              NA\n## 465                              South Africa    2012   131              NA\n## 466                              South Africa    2011   127              NA\n## 467                              South Africa    2010   100              NA\n## 468                               South Sudan    2012    21              NA\n## 469                                     Spain    2012   108              NA\n## 470                                     Spain    2011   113              NA\n## 471                                     Spain    2010   112              NA\n## 472                                 Sri Lanka    2012    92              NA\n## 473                                 Sri Lanka    2011    87              NA\n## 474                                 Sri Lanka    2010    83              NA\n## 475                                     Sudan    2012    74              NA\n## 476                                     Sudan    2011    56              NA\n## 477                                     Sudan    2010    41              NA\n## 478                                  Suriname    2012   106              NA\n## 479                                  Suriname    2011   179              NA\n## 480                                  Suriname    2010   170              NA\n## 481                                 Swaziland    2012    65              NA\n## 482                                 Swaziland    2011    64              NA\n## 483                                 Swaziland    2010    62              NA\n## 484                                    Sweden    2012   125              NA\n## 485                                    Sweden    2011   119              NA\n## 486                                    Sweden    2010   116              NA\n## 487                               Switzerland    2012   130              NA\n## 488                               Switzerland    2011   131              NA\n## 489                               Switzerland    2010   124              NA\n## 490                      Syrian Arab Republic    2012    59              NA\n## 491                      Syrian Arab Republic    2011    63              NA\n## 492                      Syrian Arab Republic    2010    58              NA\n## 493                                Tajikistan    2012    82              NA\n## 494                                Tajikistan    2011    91              NA\n## 495                                Tajikistan    2010    86              NA\n## 496                                  Thailand    2012   127              NA\n## 497                                  Thailand    2011   112              NA\n## 498                                  Thailand    2010   104              NA\n## 499 The former Yugoslav Republic of Macedonia    2012   106              NA\n## 500 The former Yugoslav Republic of Macedonia    2011   107              NA\n## 501 The former Yugoslav Republic of Macedonia    2010   105              NA\n## 502                               Timor-Leste    2012    56              NA\n## 503                               Timor-Leste    2011    53              NA\n## 504                               Timor-Leste    2010    53              NA\n## 505                                      Togo    2012    50              NA\n## 506                                      Togo    2011    50              NA\n## 507                                      Togo    2010    41              NA\n## 508                                     Tonga    2012    53              NA\n## 509                                     Tonga    2011    53              NA\n## 510                                     Tonga    2010    52              NA\n## 511                       Trinidad and Tobago    2012   141              NA\n## 512                       Trinidad and Tobago    2011   136              NA\n## 513                       Trinidad and Tobago    2010   141              NA\n## 514                                   Tunisia    2012   118              NA\n## 515                                   Tunisia    2011   117              NA\n## 516                                   Tunisia    2010   106              NA\n## 517                                    Turkey    2012    91              NA\n## 518                                    Turkey    2011    89              NA\n## 519                                    Turkey    2010    85              NA\n## 520                              Turkmenistan    2012    76              NA\n## 521                              Turkmenistan    2011    69              NA\n## 522                              Turkmenistan    2010    63              NA\n## 523                                    Tuvalu    2012    28              NA\n## 524                                    Tuvalu    2011    22              NA\n## 525                                    Tuvalu    2010    25              NA\n## 526                                    Uganda    2012    45              NA\n## 527                                    Uganda    2011    48              NA\n## 528                                    Uganda    2010    38              NA\n## 529                                   Ukraine    2012   130              NA\n## 530                                   Ukraine    2011   123              NA\n## 531                                   Ukraine    2010   119              NA\n## 532                      United Arab Emirates    2012   150              NA\n## 533                      United Arab Emirates    2011   149              NA\n## 534                      United Arab Emirates    2010   145              NA\n## 535                            United Kingdom    2012   135              NA\n## 536                            United Kingdom    2011   131              NA\n## 537                            United Kingdom    2010   131              NA\n## 538               United Republic of Tanzania    2012    57              NA\n## 539               United Republic of Tanzania    2011    56              NA\n## 540               United Republic of Tanzania    2010    47              NA\n## 541                  United States of America    2012    95              NA\n## 542                  United States of America    2011    93              NA\n## 543                  United States of America    2010    90              NA\n## 544                                   Uruguay    2012   147              NA\n## 545                                   Uruguay    2011   141              NA\n## 546                                   Uruguay    2010   132              NA\n## 547                                Uzbekistan    2012    71              NA\n## 548                                Uzbekistan    2011    92              NA\n## 549                                Uzbekistan    2010    76              NA\n## 550                                   Vanuatu    2012    59              NA\n## 551                                   Vanuatu    2011    56              NA\n## 552                                   Vanuatu    2010   119              NA\n## 553        Venezuela (Bolivarian Republic of)    2012   102              NA\n## 554        Venezuela (Bolivarian Republic of)    2011    98              NA\n## 555        Venezuela (Bolivarian Republic of)    2010    96              NA\n## 556                                  Viet Nam    2012   148              NA\n## 557                                  Viet Nam    2011   143              NA\n## 558                                  Viet Nam    2010   175              NA\n## 559                                     Yemen    2012    58              NA\n## 560                                     Yemen    2011    47              NA\n## 561                                     Yemen    2010    46              NA\n## 562                                    Zambia    2012    75              NA\n## 563                                    Zambia    2011    61              NA\n## 564                                    Zambia    2010    42              NA\n## 565                                  Zimbabwe    2012    92              NA\n## 566                                  Zimbabwe    2011    72              NA\n## 567                                  Zimbabwe    2010    61              NA\n## \n## [[3]]\n##                               Country.or.Area   Year.s. Value Value.Footnotes\n## 1                                 Afghanistan 2010-2011  37.4              NA\n## 2                                     Albania 2008-2009  98.6              NA\n## 3                                     Algeria      2006  99.3              NA\n## 4                                     Andorra      2010   >90              NA\n## 5                         Antigua and Barbuda      2010   >90              NA\n## 6                                   Argentina      2010   >90              NA\n## 7                                     Armenia      2010  99.6              NA\n## 8                                   Australia      2010   >90              NA\n## 9                                     Austria      2011   >90              NA\n## 10                                 Azerbaijan      2006  93.6              NA\n## 11                                    Bahrain      2009   >90              NA\n## 12                                 Bangladesh      2006   9.8              NA\n## 13                                   Barbados      2007   >90              NA\n## 14                                    Belarus      2011   >90              NA\n## 15                                    Belgium      2011   >90              NA\n## 16                                     Belize      2011  95.2              NA\n## 17                                      Benin      2006  60.3              NA\n## 18                                     Bhutan      2010  99.9              NA\n## 19           Bolivia (Plurinational State of)      2008  75.8              NA\n## 20                     Bosnia and Herzegovina      2006  99.5              NA\n## 21                                   Botswana 2007-2008  72.2              NA\n## 22                                     Brazil      2010  93.4              NA\n## 23                          Brunei Darussalam      2008   >90              NA\n## 24                                   Bulgaria      2011   >90              NA\n## 25                               Burkina Faso      2010  76.9              NA\n## 26                                    Burundi      2010  75.2              NA\n## 27                                 Cabo Verde      2010  91.4              NA\n## 28                                   Cambodia      2010  62.1              NA\n## 29                                   Cameroon      2006  70.1              NA\n## 30                                     Canada      2009   >90              NA\n## 31                   Central African Republic      2010    61              NA\n## 32                                       Chad      2010  15.7              NA\n## 33                                      Chile      2009  99.5              NA\n## 34                                   Colombia      2010  96.5              NA\n## 35                                      Congo      2005  81.1              NA\n## 36                               Cook Islands      2010   >90              NA\n## 37                                 Costa Rica      2011   >90              NA\n## 38                              Côte d’Ivoire      2006  54.9              NA\n## 39                                    Croatia      2011   >90              NA\n## 40                                       Cuba      2011   100              NA\n## 41                                     Cyprus      2011   >90              NA\n## 42                             Czech Republic      2011   >90              NA\n## 43      Democratic People's Republic of Korea      2009   100              NA\n## 44           Democratic Republic of the Congo      2010  27.8              NA\n## 45                                    Denmark      2011   >90              NA\n## 46                                   Djibouti      2006  89.2              NA\n## 47                                   Dominica      2010   >90              NA\n## 48                         Dominican Republic 2009-2010  79.2              NA\n## 49                                    Ecuador      2010    90              NA\n## 50                                      Egypt      2005    99              NA\n## 51                                El Salvador      2008  98.6              NA\n## 52                                    Estonia      2011   >90              NA\n## 53                                   Ethiopia      2005   6.6              NA\n## 54                                       Fiji      2009   >90              NA\n## 55                                    Finland      2011   >90              NA\n## 56                                     France      2011   >90              NA\n## 57                                     Gambia      2010  52.5              NA\n## 58                                    Georgia      2011  98.5              NA\n## 59                                    Germany      2011   >90              NA\n## 60                                      Ghana      2011  62.5              NA\n## 61                                     Greece      2011   >90              NA\n## 62                                  Guatemala      2008  96.7              NA\n## 63                                     Guinea      2005  43.2              NA\n## 64                              Guinea-Bissau      2010  24.1              NA\n## 65                                     Guyana      2009  87.9              NA\n## 66                                      Haiti 2005-2006  81.1              NA\n## 67                                   Honduras 2005-2006  93.5              NA\n## 68                                    Hungary      2011   >90              NA\n## 69                                    Iceland      2011   >90              NA\n## 70                                      India 2005-2006  41.1              NA\n## 71                                  Indonesia      2007  53.1              NA\n## 72                 Iran (Islamic Republic of)      2008   >90              NA\n## 73                                       Iraq      2006    95              NA\n## 74                                    Ireland      2011   >90              NA\n## 75                                     Israel      2011   >90              NA\n## 76                                      Italy      2011   >90              NA\n## 77                                    Jamaica      2008  97.8              NA\n## 78                                      Japan      2010   >90              NA\n## 79                                     Jordan      2010   >90              NA\n## 80                                 Kazakhstan 2010-2011  99.7              NA\n## 81                                      Kenya 2008-2009    60              NA\n## 82                                   Kiribati      2009  93.5              NA\n## 83                                     Kuwait      2010   >90              NA\n## 84                                 Kyrgyzstan 2005-2006  94.2              NA\n## 85           Lao People's Democratic Republic      2006  71.5              NA\n## 86                                     Latvia      2011   >90              NA\n## 87                                    Lebanon      2009  99.5              NA\n## 88                                    Lesotho      2009  45.1              NA\n## 89                                    Liberia      2007   3.6              NA\n## 90                                  Lithuania      2011   >90              NA\n## 91                                 Luxembourg      2011   >90              NA\n## 92                                 Madagascar 2008-2009  79.7              NA\n## 93                                   Malaysia      2010   >90              NA\n## 94                                   Maldives      2009  92.5              NA\n## 95                                       Mali      2010  80.8              NA\n## 96                                      Malta      2011   >90              NA\n## 97                           Marshall Islands      2007  95.9              NA\n## 98                                 Mauritania      2007  55.9              NA\n## 99                                  Mauritius      2011   >90              NA\n## 100                                  Mongolia      2010    99              NA\n## 101                                Montenegro 2005-2006  97.9              NA\n## 102                                Mozambique      2008  30.8              NA\n## 103                                   Myanmar 2009-2010  72.4              NA\n## 104                                   Namibia 2006-2007  67.1              NA\n## 105                                     Nauru      2007  82.6              NA\n## 106                                     Nepal      2011  42.3              NA\n## 107                               Netherlands      2011   >90              NA\n## 108                               New Zealand      2011   >90              NA\n## 109                                 Nicaragua      2006  81.3              NA\n## 110                                     Niger      2006  31.8              NA\n## 111                                   Nigeria      2008    30              NA\n## 112                                      Niue      2009   >90              NA\n## 113                                    Norway      2011   >90              NA\n## 114                                  Pakistan 2006-2007  26.5              NA\n## 115                                    Panama      2011   >90              NA\n## 116                                      Peru      2007  92.9              NA\n## 117                               Philippines      2009   >90              NA\n## 118                                    Poland      2011   >90              NA\n## 119                                  Portugal      2011   >90              NA\n## 120                                     Qatar      2011   >90              NA\n## 121                         Republic of Korea      2010   >90              NA\n## 122                       Republic of Moldova      2011   >90              NA\n## 123                                   Romania      2011   >90              NA\n## 124                        Russian Federation      2011   >90              NA\n## 125                                    Rwanda      2010  63.2              NA\n## 126          Saint Vincent and the Grenadines      2009   >90              NA\n## 127                                     Samoa      2009  47.7              NA\n## 128                                San Marino      2011   >90              NA\n## 129                     Sao Tome and Principe 2008-2009  75.1              NA\n## 130                                   Senegal 2010-2011  74.6              NA\n## 131                                    Serbia      2010  98.9              NA\n## 132                                Seychelles      2011   >90              NA\n## 133                              Sierra Leone      2010    78              NA\n## 134                                 Singapore      2011   >90              NA\n## 135                                  Slovakia      2011   >90              NA\n## 136                                  Slovenia      2011   >90              NA\n## 137                                   Somalia      2006     3              NA\n## 138                              South Africa      2008  91.8              NA\n## 139                               South Sudan      2010  35.4              NA\n## 140                                     Spain      2011   >90              NA\n## 141                                 Sri Lanka 2006-2007  97.2              NA\n## 142                                     Sudan      2010  59.3              NA\n## 143                                  Suriname      2006  96.6              NA\n## 144                                 Swaziland      2010  49.5              NA\n## 145                                    Sweden      2011   >90              NA\n## 146                               Switzerland      2011   >90              NA\n## 147                      Syrian Arab Republic      2006  95.2              NA\n## 148                                Tajikistan      2005  88.3              NA\n## 149                                  Thailand 2005-2006  99.4              NA\n## 150 The former Yugoslav Republic of Macedonia      2011  99.7              NA\n## 151                               Timor-Leste 2009-2010  55.2              NA\n## 152                                      Togo      2010  77.9              NA\n## 153                       Trinidad and Tobago      2006  95.8              NA\n## 154                                   Tunisia      2008   >90              NA\n## 155                                    Turkey      2008  93.7              NA\n## 156                              Turkmenistan      2006  95.5              NA\n## 157                                    Tuvalu      2007  49.9              NA\n## 158                                    Uganda      2011  29.9              NA\n## 159                                   Ukraine      2005  99.8              NA\n## 160                            United Kingdom      2010   >90              NA\n## 161               United Republic of Tanzania      2010  16.3              NA\n## 162                  United States of America      2009   >90              NA\n## 163                                   Uruguay      2010   >90              NA\n## 164                                Uzbekistan      2006  99.9              NA\n## 165                                   Vanuatu      2007  25.6              NA\n## 166        Venezuela (Bolivarian Republic of)      2008   >90              NA\n## 167                                  Viet Nam      2011    95              NA\n## 168                                     Yemen      2006  22.3              NA\n## 169                                    Zambia      2007    14              NA\n## 170                                  Zimbabwe 2010-2011  48.8              NA\n# delete rows and columns\nU <- NULL\nfor (i in 1:length(df)){\n  U = unique(c(U,unique(as.character(df[[i]][,1]))))\n}\nTrash = c(\"1\",\"2\",\"3\",\"4\",\"footnoteSeqID\")\nU = setdiff(U,Trash)\n\ndf = lapply(df,function(x) x[x[,1]%in% U,])\ndf = lapply(df,function(x) select(x,-Value.Footnotes))\nhead(df)## [[1]]\n##                               Country.or.Area Year.s. Value\n## 1                                 Afghanistan    2012  -2.4\n## 2                                     Albania    2012  -0.3\n## 3                                     Algeria    2012  -1.9\n## 4                                     Andorra    2012   0.0\n## 5                                      Angola    2012  -3.1\n## 6                         Antigua and Barbuda    2012  -1.1\n## 7                                   Argentina    2012  -0.9\n## 8                                     Armenia    2012  -0.2\n## 9                                   Australia    2012  -1.3\n## 10                                    Austria    2012  -0.4\n## 11                                 Azerbaijan    2012  -1.2\n## 12                                    Bahamas    2012  -1.6\n## 13                                    Bahrain    2012  -1.9\n## 14                                 Bangladesh    2012  -1.3\n## 15                                   Barbados    2012  -0.4\n## 16                                    Belarus    2012   0.5\n## 17                                    Belgium    2012  -0.5\n## 18                                     Belize    2012  -2.5\n## 19                                      Benin    2012  -2.7\n## 20                                     Bhutan    2012  -1.8\n## 21           Bolivia (Plurinational State of)    2012  -1.7\n## 22                     Bosnia and Herzegovina    2012   0.1\n## 23                                   Botswana    2012  -0.9\n## 24                                     Brazil    2012  -1.0\n## 25                          Brunei Darussalam    2012  -1.2\n## 26                                   Bulgaria    2012   0.8\n## 27                               Burkina Faso    2012  -2.9\n## 28                                    Burundi    2012  -3.2\n## 29                                 Cabo Verde    2012  -0.6\n## 30                                   Cambodia    2012  -1.8\n## 31                                   Cameroon    2012  -2.5\n## 32                                     Canada    2012  -1.0\n## 33                   Central African Republic    2012  -2.0\n## 34                                       Chad    2012  -3.0\n## 35                                      Chile    2012  -0.9\n## 36                                      China    2012  -0.7\n## 37                                   Colombia    2012  -1.3\n## 38                                    Comoros    2012  -2.5\n## 39                                      Congo    2012  -2.6\n## 40                               Cook Islands    2012  -4.9\n## 41                                 Costa Rica    2012  -1.4\n## 42                              Côte d’Ivoire    2012  -2.3\n## 43                                    Croatia    2012   0.4\n## 44                                       Cuba    2012   0.0\n## 45                                     Cyprus    2012  -1.1\n## 46                             Czech Republic    2012  -0.5\n## 47      Democratic People's Republic of Korea    2012  -0.5\n## 48           Democratic Republic of the Congo    2012  -2.7\n## 49                                    Denmark    2012  -0.4\n## 50                                   Djibouti    2012  -1.5\n## 51                                   Dominica    2012  -1.4\n## 52                         Dominican Republic    2012  -1.3\n## 53                                    Ecuador    2012  -1.6\n## 54                                      Egypt    2012  -1.7\n## 55                                El Salvador    2012  -0.7\n## 56                          Equatorial Guinea    2012  -2.8\n## 57                                    Eritrea    2012  -3.3\n## 58                                    Estonia    2012   0.2\n## 59                                   Ethiopia    2012  -2.6\n## 60                                       Fiji    2012  -0.8\n## 61                                    Finland    2012  -0.4\n## 62                                     France    2012  -0.6\n## 63                                      Gabon    2012  -2.4\n## 64                                     Gambia    2012  -3.2\n## 65                                    Georgia    2012   0.4\n## 66                                    Germany    2012   0.1\n## 67                                      Ghana    2012  -2.2\n## 68                                     Greece    2012  -0.1\n## 69                                    Grenada    2012   0.0\n## 70                                  Guatemala    2012  -2.5\n## 71                                     Guinea    2012  -2.6\n## 72                              Guinea-Bissau    2012  -2.4\n## 73                                     Guyana    2012  -0.5\n## 74                                      Haiti    2012  -1.4\n## 75                                   Honduras    2012  -2.0\n## 76                                    Hungary    2012   0.2\n## 77                                    Iceland    2012  -1.2\n## 78                                      India    2012  -1.6\n## 79                                  Indonesia    2012  -1.2\n## 80                 Iran (Islamic Republic of)    2012  -1.3\n## 81                                       Iraq    2012  -2.9\n## 82                                    Ireland    2012  -1.2\n## 83                                     Israel    2012  -1.3\n## 84                                      Italy    2012  -0.3\n## 85                                    Jamaica    2012  -0.5\n## 86                                      Japan    2012   0.0\n## 87                                     Jordan    2012  -4.0\n## 88                                 Kazakhstan    2012  -1.1\n## 89                                      Kenya    2012  -2.7\n## 90                                   Kiribati    2012  -2.0\n## 91                                     Kuwait    2012  -3.9\n## 92                                 Kyrgyzstan    2012  -1.3\n## 93           Lao People's Democratic Republic    2012  -1.9\n## 94                                     Latvia    2012   0.6\n## 95                                    Lebanon    2012  -3.7\n## 96                                    Lesotho    2012  -1.1\n## 97                                    Liberia    2012  -2.7\n## 98                                      Libya    2012  -0.8\n## 99                                  Lithuania    2012   0.5\n## 100                                Luxembourg    2012  -1.5\n## 101                                Madagascar    2012  -2.8\n## 102                                    Malawi    2012  -2.9\n## 103                                  Malaysia    2012  -1.7\n## 104                                  Maldives    2012  -1.8\n## 105                                      Mali    2012  -3.0\n## 106                                     Malta    2012  -0.5\n## 107                          Marshall Islands    2012  -1.9\n## 108                                Mauritania    2012  -2.5\n## 109                                 Mauritius    2012  -0.4\n## 110                                    Mexico    2012  -1.7\n## 111          Micronesia (Federated States of)    2012   0.0\n## 112                                    Monaco    2012  -2.7\n## 113                                  Mongolia    2012  -1.5\n## 114                                Montenegro    2012   0.0\n## 115                                   Morocco    2012  -1.4\n## 116                                Mozambique    2012  -2.5\n## 117                                   Myanmar    2012  -0.8\n## 118                                   Namibia    2012  -1.8\n## 119                                     Nauru    2012   0.0\n## 120                                     Nepal    2012  -1.2\n## 121                               Netherlands    2012  -0.3\n## 122                               New Zealand    2012  -1.0\n## 123                                 Nicaragua    2012  -1.5\n## 124                                     Niger    2012  -3.8\n## 125                                   Nigeria    2012  -3.0\n## 126                                      Niue    2012   0.0\n## 127                                    Norway    2012  -1.0\n## 128                                      Oman    2012  -9.1\n## 129                                  Pakistan    2012  -1.7\n## 130                                     Palau    2012   0.0\n## 131                                    Panama    2012  -1.6\n## 132                          Papua New Guinea    2012  -2.2\n## 133                                  Paraguay    2012  -1.7\n## 134                                      Peru    2012  -1.3\n## 135                               Philippines    2012  -1.7\n## 136                                    Poland    2012   0.0\n## 137                                  Portugal    2012  -0.1\n## 138                                     Qatar    2012  -7.1\n## 139                         Republic of Korea    2012  -0.6\n## 140                       Republic of Moldova    2012   0.8\n## 141                                   Romania    2012   0.2\n## 142                        Russian Federation    2012   0.0\n## 143                                    Rwanda    2012  -2.8\n## 144                     Saint Kitts and Nevis    2012  -1.9\n## 145                               Saint Lucia    2012  -1.1\n## 146          Saint Vincent and the Grenadines    2012   0.0\n## 147                                     Samoa    2012  -1.1\n## 148                                San Marino    2012   0.0\n## 149                     Sao Tome and Principe    2012  -2.7\n## 150                              Saudi Arabia    2012  -1.9\n## 151                                   Senegal    2012  -2.9\n## 152                                    Serbia    2012   0.5\n## 153                                Seychelles    2012   0.0\n## 154                              Sierra Leone    2012  -1.9\n## 155                                 Singapore    2012  -2.1\n## 156                                  Slovakia    2012  -0.1\n## 157                                  Slovenia    2012  -0.3\n## 158                           Solomon Islands    2012  -2.2\n## 159                                   Somalia    2012  -2.9\n## 160                              South Africa    2012  -0.8\n## 161                               South Sudan    2012  -4.3\n## 162                                     Spain    2012  -0.5\n## 163                                 Sri Lanka    2012  -0.8\n## 164                                     Sudan    2012  -2.1\n## 165                                  Suriname    2012  -0.9\n## 166                                 Swaziland    2012  -1.6\n## 167                                    Sweden    2012  -0.7\n## 168                               Switzerland    2012  -1.0\n## 169                      Syrian Arab Republic    2012  -0.4\n## 170                                Tajikistan    2012  -2.5\n## 171                                  Thailand    2012  -0.3\n## 172 The former Yugoslav Republic of Macedonia    2012  -0.1\n## 173                               Timor-Leste    2012  -1.6\n## 174                                      Togo    2012  -2.6\n## 175                                     Tonga    2012   0.0\n## 176                       Trinidad and Tobago    2012  -0.3\n## 177                                   Tunisia    2012  -1.1\n## 178                                    Turkey    2012  -1.3\n## 179                              Turkmenistan    2012  -1.3\n## 180                                    Tuvalu    2012   0.0\n## 181                                    Uganda    2012  -3.4\n## 182                                   Ukraine    2012   0.6\n## 183                      United Arab Emirates    2012  -3.1\n## 184                            United Kingdom    2012  -0.6\n## 185               United Republic of Tanzania    2012  -3.0\n## 186                  United States of America    2012  -0.9\n## 187                                   Uruguay    2012  -0.4\n## 188                                Uzbekistan    2012  -1.4\n## 189                                   Vanuatu    2012  -2.0\n## 190        Venezuela (Bolivarian Republic of)    2012  -1.5\n## 191                                  Viet Nam    2012  -1.0\n## 192                                     Yemen    2012  -2.3\n## 193                                    Zambia    2012  -3.2\n## 194                                  Zimbabwe    2012  -2.7\n## \n## [[2]]\n##                               Country.or.Area Year.s. Value\n## 1                                 Afghanistan    2012    60\n## 2                                 Afghanistan    2011    54\n## 3                                 Afghanistan    2010    41\n## 4                                     Albania    2012   111\n## 5                                     Albania    2011    96\n## 6                                     Albania    2010   142\n## 7                                     Algeria    2012    98\n## 8                                     Algeria    2011    99\n## 9                                     Algeria    2010    92\n## 10                                    Andorra    2012    81\n## 11                                    Andorra    2011    75\n## 12                                    Andorra    2010    77\n## 13                                     Angola    2012    47\n## 14                                     Angola    2011    48\n## 15                                     Angola    2010    47\n## 16                        Antigua and Barbuda    2012   143\n## 17                        Antigua and Barbuda    2011   196\n## 18                        Antigua and Barbuda    2010   189\n## 19                                  Argentina    2012   152\n## 20                                  Argentina    2011   135\n## 21                                  Argentina    2010   142\n## 22                                    Armenia    2012   112\n## 23                                    Armenia    2011   104\n## 24                                    Armenia    2010   125\n## 25                                  Australia    2012   106\n## 26                                  Australia    2011   108\n## 27                                  Australia    2010   101\n## 28                                    Austria    2012   161\n## 29                                    Austria    2011   155\n## 30                                    Austria    2010   146\n## 31                                 Azerbaijan    2012   109\n## 32                                 Azerbaijan    2011   109\n## 33                                 Azerbaijan    2010    99\n## 34                                    Bahamas    2012    81\n## 35                                    Bahamas    2011    86\n## 36                                    Bahamas    2010   125\n## 37                                    Bahrain    2012   161\n## 38                                    Bahrain    2011   128\n## 39                                    Bahrain    2010   124\n## 40                                 Bangladesh    2012    63\n## 41                                 Bangladesh    2011    56\n## 42                                 Bangladesh    2010    46\n## 43                                   Barbados    2012   123\n## 44                                   Barbados    2011   127\n## 45                                   Barbados    2010   128\n## 46                                    Belarus    2012   114\n## 47                                    Belarus    2011   112\n## 48                                    Belarus    2010   108\n## 49                                    Belgium    2012   111\n## 50                                    Belgium    2011   117\n## 51                                    Belgium    2010   113\n## 52                                     Belize    2012    53\n## 53                                     Belize    2011    70\n## 54                                     Belize    2010    62\n## 55                                      Benin    2012    84\n## 56                                      Benin    2011    85\n## 57                                      Benin    2010    80\n## 58                                     Bhutan    2012    76\n## 59                                     Bhutan    2011    66\n## 60                                     Bhutan    2010    54\n## 61           Bolivia (Plurinational State of)    2012    90\n## 62           Bolivia (Plurinational State of)    2011    83\n## 63           Bolivia (Plurinational State of)    2010    72\n## 64                     Bosnia and Herzegovina    2012    88\n## 65                     Bosnia and Herzegovina    2011    85\n## 66                     Bosnia and Herzegovina    2010    83\n## 67                                   Botswana    2012   154\n## 68                                   Botswana    2011   143\n## 69                                   Botswana    2010   118\n## 70                                     Brazil    2012   125\n## 71                                     Brazil    2011   124\n## 72                                     Brazil    2010   104\n## 73                          Brunei Darussalam    2012   114\n## 74                          Brunei Darussalam    2011   109\n## 75                          Brunei Darussalam    2010   109\n## 76                                   Bulgaria    2012   148\n## 77                                   Bulgaria    2011   141\n## 78                                   Bulgaria    2010   136\n## 79                               Burkina Faso    2012    61\n## 80                               Burkina Faso    2011    45\n## 81                               Burkina Faso    2010    35\n## 82                                    Burundi    2012    23\n## 83                                    Burundi    2011    22\n## 84                                    Burundi    2010    14\n## 85                                 Cabo Verde    2012    86\n## 86                                 Cabo Verde    2011    79\n## 87                                 Cabo Verde    2010    75\n## 88                                   Cambodia    2012   129\n## 89                                   Cambodia    2011    96\n## 90                                   Cambodia    2010    58\n## 91                                   Cameroon    2012    60\n## 92                                   Cameroon    2011    52\n## 93                                   Cameroon    2010    44\n## 94                                     Canada    2012    80\n## 95                                     Canada    2011    80\n## 96                                     Canada    2010    71\n## 97                   Central African Republic    2012    25\n## 98                   Central African Republic    2011    41\n## 99                   Central African Republic    2010    22\n## 100                                      Chad    2012    35\n## 101                                      Chad    2011    32\n## 102                                      Chad    2010    24\n## 103                                     Chile    2012   138\n## 104                                     Chile    2011   130\n## 105                                     Chile    2010   116\n## 106                                     China    2012    80\n## 107                                     China    2011    73\n## 108                                     China    2010    64\n## 109                                  Colombia    2012   103\n## 110                                  Colombia    2011    98\n## 111                                  Colombia    2010    96\n## 112                                   Comoros    2012    40\n## 113                                   Comoros    2011    29\n## 114                                   Comoros    2010    22\n## 115                                     Congo    2012    99\n## 116                                     Congo    2011    94\n## 117                                     Congo    2010    94\n## 118                              Cook Islands    2010    38\n## 119                                Costa Rica    2012   112\n## 120                                Costa Rica    2011    92\n## 121                                Costa Rica    2010    65\n## 122                             Côte d’Ivoire    2012    91\n## 123                             Côte d’Ivoire    2011    86\n## 124                             Côte d’Ivoire    2010    76\n## 125                                   Croatia    2012   115\n## 126                                   Croatia    2011   116\n## 127                                   Croatia    2010   144\n## 128                                      Cuba    2012    15\n## 129                                      Cuba    2011    12\n## 130                                      Cuba    2010     9\n## 131                                    Cyprus    2012    98\n## 132                                    Cyprus    2011    98\n## 133                                    Cyprus    2010    94\n## 134                            Czech Republic    2012   127\n## 135                            Czech Republic    2011   123\n## 136                            Czech Republic    2010   137\n## 137     Democratic People's Republic of Korea    2012     7\n## 138     Democratic People's Republic of Korea    2011     4\n## 139     Democratic People's Republic of Korea    2010     2\n## 140          Democratic Republic of the Congo    2012    31\n## 141          Democratic Republic of the Congo    2011    23\n## 142          Democratic Republic of the Congo    2010    18\n## 143                                   Denmark    2012   118\n## 144                                   Denmark    2011   128\n## 145                                   Denmark    2010   125\n## 146                                  Djibouti    2012    25\n## 147                                  Djibouti    2011    21\n## 148                                  Djibouti    2010    19\n## 149                                  Dominica    2012   152\n## 150                                  Dominica    2011   164\n## 151                                  Dominica    2010   156\n## 152                        Dominican Republic    2012    87\n## 153                        Dominican Republic    2011    87\n## 154                        Dominican Republic    2010    90\n## 155                                   Ecuador    2012   106\n## 156                                   Ecuador    2011   105\n## 157                                   Ecuador    2010   102\n## 158                                     Egypt    2012   120\n## 159                                     Egypt    2011   101\n## 160                                     Egypt    2010    87\n## 161                               El Salvador    2012   137\n## 162                               El Salvador    2011   134\n## 163                               El Salvador    2010   124\n## 164                         Equatorial Guinea    2012    68\n## 165                         Equatorial Guinea    2011    59\n## 166                         Equatorial Guinea    2010    57\n## 167                                   Eritrea    2012     5\n## 168                                   Eritrea    2011     4\n## 169                                   Eritrea    2010     4\n## 170                                   Estonia    2012   160\n## 171                                   Estonia    2011   139\n## 172                                   Estonia    2010   123\n## 173                                  Ethiopia    2012    22\n## 174                                  Ethiopia    2011    17\n## 175                                  Ethiopia    2010     8\n## 176                                      Fiji    2012    98\n## 177                                      Fiji    2011    84\n## 178                                      Fiji    2010    81\n## 179                                   Finland    2012   172\n## 180                                   Finland    2011   166\n## 181                                   Finland    2010   156\n## 182                                    France    2012    97\n## 183                                    France    2011    95\n## 184                                    France    2010   101\n## 185                                     Gabon    2012   179\n## 186                                     Gabon    2011   117\n## 187                                     Gabon    2010   107\n## 188                                    Gambia    2012    85\n## 189                                    Gambia    2011    79\n## 190                                    Gambia    2010    86\n## 191                                   Georgia    2012   108\n## 192                                   Georgia    2011   102\n## 193                                   Georgia    2010    91\n## 194                                   Germany    2012   112\n## 195                                   Germany    2011   132\n## 196                                   Germany    2010   127\n## 197                                     Ghana    2012   101\n## 198                                     Ghana    2011    85\n## 199                                     Ghana    2010    71\n## 200                                    Greece    2012   120\n## 201                                    Greece    2011   106\n## 202                                    Greece    2010   108\n## 203                                   Grenada    2012   121\n## 204                                   Grenada    2010   117\n## 205                                 Guatemala    2012   138\n## 206                                 Guatemala    2011   140\n## 207                                 Guatemala    2010   126\n## 208                                    Guinea    2012    42\n## 209                                    Guinea    2011    44\n## 210                                    Guinea    2010    40\n## 211                             Guinea-Bissau    2012    63\n## 212                             Guinea-Bissau    2011    56\n## 213                             Guinea-Bissau    2010    39\n## 214                                    Guyana    2012    69\n## 215                                    Guyana    2011    70\n## 216                                    Guyana    2010    74\n## 217                                     Haiti    2012    60\n## 218                                     Haiti    2011    41\n## 219                                     Haiti    2010    40\n## 220                                  Honduras    2012    93\n## 221                                  Honduras    2011   104\n## 222                                  Honduras    2010   125\n## 223                                   Hungary    2012   116\n## 224                                   Hungary    2011   117\n## 225                                   Hungary    2010   120\n## 226                                   Iceland    2012   108\n## 227                                   Iceland    2011   106\n## 228                                   Iceland    2010   107\n## 229                                     India    2012    70\n## 230                                     India    2011    72\n## 231                                     India    2010    61\n## 232                                 Indonesia    2012   114\n## 233                                 Indonesia    2011   103\n## 234                                 Indonesia    2010    92\n## 235                Iran (Islamic Republic of)    2012    76\n## 236                Iran (Islamic Republic of)    2011    75\n## 237                Iran (Islamic Republic of)    2010    91\n## 238                                      Iraq    2012    82\n## 239                                      Iraq    2011    78\n## 240                                      Iraq    2010    76\n## 241                                   Ireland    2012   107\n## 242                                   Ireland    2011   108\n## 243                                   Ireland    2010   105\n## 244                                    Israel    2012   121\n## 245                                    Israel    2011   122\n## 246                                    Israel    2010   133\n## 247                                     Italy    2012   160\n## 248                                     Italy    2011   158\n## 249                                     Italy    2010   150\n## 250                                   Jamaica    2012    96\n## 251                                   Jamaica    2011   108\n## 252                                   Jamaica    2010   116\n## 253                                     Japan    2012   111\n## 254                                     Japan    2011   105\n## 255                                     Japan    2010    95\n## 256                                    Jordan    2012   128\n## 257                                    Jordan    2011   118\n## 258                                    Jordan    2010   107\n## 259                                Kazakhstan    2012   186\n## 260                                Kazakhstan    2011   156\n## 261                                Kazakhstan    2010   121\n## 262                                     Kenya    2012    71\n## 263                                     Kenya    2011    67\n## 264                                     Kenya    2010    62\n## 265                                  Kiribati    2012    16\n## 266                                  Kiribati    2011    14\n## 267                                  Kiribati    2010    10\n## 268                                    Kuwait    2012   157\n## 269                                    Kuwait    2011   175\n## 270                                    Kuwait    2010   161\n## 271                                Kyrgyzstan    2012   124\n## 272                                Kyrgyzstan    2011   116\n## 273                                Kyrgyzstan    2010    99\n## 274          Lao People's Democratic Republic    2012    65\n## 275          Lao People's Democratic Republic    2011    87\n## 276          Lao People's Democratic Republic    2010    65\n## 277                                    Latvia    2012   112\n## 278                                    Latvia    2011   103\n## 279                                    Latvia    2010   102\n## 280                                   Lebanon    2012    81\n## 281                                   Lebanon    2011    79\n## 282                                   Lebanon    2010    68\n## 283                                   Lesotho    2012    75\n## 284                                   Lesotho    2011    56\n## 285                                   Lesotho    2010    45\n## 286                                   Liberia    2012    57\n## 287                                   Liberia    2011    49\n## 288                                   Liberia    2010    39\n## 289                                     Libya    2012   156\n## 290                                     Libya    2011   156\n## 291                                     Libya    2010   172\n## 292                                 Lithuania    2012   165\n## 293                                 Lithuania    2011   151\n## 294                                 Lithuania    2010   147\n## 295                                Luxembourg    2012   145\n## 296                                Luxembourg    2011   148\n## 297                                Luxembourg    2010   143\n## 298                                Madagascar    2012    39\n## 299                                Madagascar    2011    41\n## 300                                Madagascar    2010    37\n## 301                                    Malawi    2012    29\n## 302                                    Malawi    2011    26\n## 303                                    Malawi    2010    20\n## 304                                  Malaysia    2012   141\n## 305                                  Malaysia    2011   127\n## 306                                  Malaysia    2010   119\n## 307                                  Maldives    2012   166\n## 308                                  Maldives    2011   166\n## 309                                  Maldives    2010   157\n## 310                                      Mali    2012    98\n## 311                                      Mali    2011    68\n## 312                                      Mali    2010    48\n## 313                                     Malta    2012   127\n## 314                                     Malta    2011   125\n## 315                                     Malta    2010   109\n## 316                          Marshall Islands    2010     7\n## 317                                Mauritania    2012   106\n## 318                                Mauritania    2011    94\n## 319                                Mauritania    2010    79\n## 320                                 Mauritius    2012   120\n## 321                                 Mauritius    2011    99\n## 322                                 Mauritius    2010    92\n## 323                                    Mexico    2012    83\n## 324                                    Mexico    2011    82\n## 325                                    Mexico    2010    81\n## 326          Micronesia (Federated States of)    2012    30\n## 327          Micronesia (Federated States of)    2010    25\n## 328                                    Monaco    2012    88\n## 329                                    Monaco    2011    90\n## 330                                    Monaco    2010    74\n## 331                                  Mongolia    2012   121\n## 332                                  Mongolia    2011   105\n## 333                                  Mongolia    2010    91\n## 334                                Montenegro    2012   181\n## 335                                Montenegro    2010   185\n## 336                                   Morocco    2012   120\n## 337                                   Morocco    2011   113\n## 338                                   Morocco    2010   100\n## 339                                Mozambique    2012    36\n## 340                                Mozambique    2011    33\n## 341                                Mozambique    2010    31\n## 342                                   Myanmar    2012    10\n## 343                                   Myanmar    2011     3\n## 344                                   Myanmar    2010     1\n## 345                                   Namibia    2012    95\n## 346                                   Namibia    2011    96\n## 347                                   Namibia    2010    67\n## 348                                     Nauru    2012    68\n## 349                                     Nauru    2011    65\n## 350                                     Nauru    2010    60\n## 351                                     Nepal    2012    60\n## 352                                     Nepal    2011    44\n## 353                                     Nepal    2010    31\n## 354                               Netherlands    2012   118\n## 355                               Netherlands    2010   115\n## 356                               New Zealand    2012   110\n## 357                               New Zealand    2011   109\n## 358                               New Zealand    2010   115\n## 359                                 Nicaragua    2012    86\n## 360                                 Nicaragua    2011    82\n## 361                                 Nicaragua    2010    65\n## 362                                     Niger    2012    31\n## 363                                     Niger    2011    30\n## 364                                     Niger    2010    25\n## 365                                   Nigeria    2012    67\n## 366                                   Nigeria    2011    59\n## 367                                   Nigeria    2010    55\n## 368                                      Niue    2010     0\n## 369                                    Norway    2012   117\n## 370                                    Norway    2011   116\n## 371                                    Norway    2010   116\n## 372                                      Oman    2012   159\n## 373                                      Oman    2011   169\n## 374                                      Oman    2010   166\n## 375                                  Pakistan    2012    67\n## 376                                  Pakistan    2011    62\n## 377                                  Pakistan    2010    57\n## 378                                     Palau    2012    83\n## 379                                     Palau    2011    75\n## 380                                     Palau    2010    71\n## 381                                    Panama    2012   178\n## 382                                    Panama    2011   189\n## 383                                    Panama    2010   185\n## 384                          Papua New Guinea    2012    38\n## 385                          Papua New Guinea    2011    34\n## 386                          Papua New Guinea    2010    28\n## 387                                  Paraguay    2012   102\n## 388                                  Paraguay    2011    99\n## 389                                  Paraguay    2010    92\n## 390                                      Peru    2012    98\n## 391                                      Peru    2011   110\n## 392                                      Peru    2010   100\n## 393                               Philippines    2012   107\n## 394                               Philippines    2011    99\n## 395                               Philippines    2010    86\n## 396                                    Poland    2012   140\n## 397                                    Poland    2011   131\n## 398                                    Poland    2010   123\n## 399                                  Portugal    2012   116\n## 400                                  Portugal    2011   115\n## 401                                  Portugal    2010   142\n## 402                                     Qatar    2012   127\n## 403                                     Qatar    2011   123\n## 404                                     Qatar    2010   132\n## 405                         Republic of Korea    2012   109\n## 406                         Republic of Korea    2011   109\n## 407                         Republic of Korea    2010   105\n## 408                       Republic of Moldova    2012   102\n## 409                       Republic of Moldova    2011   105\n## 410                       Republic of Moldova    2010    89\n## 411                                   Romania    2012   105\n## 412                                   Romania    2011   109\n## 413                                   Romania    2010   115\n## 414                        Russian Federation    2012   183\n## 415                        Russian Federation    2011   179\n## 416                        Russian Federation    2010   166\n## 417                                    Rwanda    2012    50\n## 418                                    Rwanda    2011    41\n## 419                                    Rwanda    2010    33\n## 420                     Saint Kitts and Nevis    2012   157\n## 421                     Saint Kitts and Nevis    2010   153\n## 422                               Saint Lucia    2012   126\n## 423                               Saint Lucia    2011   123\n## 424                               Saint Lucia    2010   114\n## 425          Saint Vincent and the Grenadines    2012   124\n## 426          Saint Vincent and the Grenadines    2011   121\n## 427          Saint Vincent and the Grenadines    2010   121\n## 428                                     Samoa    2010    91\n## 429                                San Marino    2012   115\n## 430                                San Marino    2011   112\n## 431                                San Marino    2010    76\n## 432                     Sao Tome and Principe    2012    65\n## 433                     Sao Tome and Principe    2011    68\n## 434                     Sao Tome and Principe    2010    62\n## 435                              Saudi Arabia    2012   187\n## 436                              Saudi Arabia    2011   191\n## 437                              Saudi Arabia    2010   188\n## 438                                   Senegal    2012    84\n## 439                                   Senegal    2011    73\n## 440                                   Senegal    2010    67\n## 441                                    Serbia    2012    96\n## 442                                    Serbia    2011   125\n## 443                                    Serbia    2010   129\n## 444                                Seychelles    2012   148\n## 445                                Seychelles    2011   146\n## 446                                Seychelles    2010   136\n## 447                              Sierra Leone    2012    37\n## 448                              Sierra Leone    2011    36\n## 449                              Sierra Leone    2010    34\n## 450                                 Singapore    2012   152\n## 451                                 Singapore    2011   150\n## 452                                 Singapore    2010   145\n## 453                                  Slovakia    2012   112\n## 454                                  Slovakia    2011   109\n## 455                                  Slovakia    2010   108\n## 456                                  Slovenia    2012   109\n## 457                                  Slovenia    2011   107\n## 458                                  Slovenia    2010   105\n## 459                           Solomon Islands    2012    55\n## 460                           Solomon Islands    2011    50\n## 461                           Solomon Islands    2010     6\n## 462                                   Somalia    2012    23\n## 463                                   Somalia    2011     7\n## 464                                   Somalia    2010     7\n## 465                              South Africa    2012   131\n## 466                              South Africa    2011   127\n## 467                              South Africa    2010   100\n## 468                               South Sudan    2012    21\n## 469                                     Spain    2012   108\n## 470                                     Spain    2011   113\n## 471                                     Spain    2010   112\n## 472                                 Sri Lanka    2012    92\n## 473                                 Sri Lanka    2011    87\n## 474                                 Sri Lanka    2010    83\n## 475                                     Sudan    2012    74\n## 476                                     Sudan    2011    56\n## 477                                     Sudan    2010    41\n## 478                                  Suriname    2012   106\n## 479                                  Suriname    2011   179\n## 480                                  Suriname    2010   170\n## 481                                 Swaziland    2012    65\n## 482                                 Swaziland    2011    64\n## 483                                 Swaziland    2010    62\n## 484                                    Sweden    2012   125\n## 485                                    Sweden    2011   119\n## 486                                    Sweden    2010   116\n## 487                               Switzerland    2012   130\n## 488                               Switzerland    2011   131\n## 489                               Switzerland    2010   124\n## 490                      Syrian Arab Republic    2012    59\n## 491                      Syrian Arab Republic    2011    63\n## 492                      Syrian Arab Republic    2010    58\n## 493                                Tajikistan    2012    82\n## 494                                Tajikistan    2011    91\n## 495                                Tajikistan    2010    86\n## 496                                  Thailand    2012   127\n## 497                                  Thailand    2011   112\n## 498                                  Thailand    2010   104\n## 499 The former Yugoslav Republic of Macedonia    2012   106\n## 500 The former Yugoslav Republic of Macedonia    2011   107\n## 501 The former Yugoslav Republic of Macedonia    2010   105\n## 502                               Timor-Leste    2012    56\n## 503                               Timor-Leste    2011    53\n## 504                               Timor-Leste    2010    53\n## 505                                      Togo    2012    50\n## 506                                      Togo    2011    50\n## 507                                      Togo    2010    41\n## 508                                     Tonga    2012    53\n## 509                                     Tonga    2011    53\n## 510                                     Tonga    2010    52\n## 511                       Trinidad and Tobago    2012   141\n## 512                       Trinidad and Tobago    2011   136\n## 513                       Trinidad and Tobago    2010   141\n## 514                                   Tunisia    2012   118\n## 515                                   Tunisia    2011   117\n## 516                                   Tunisia    2010   106\n## 517                                    Turkey    2012    91\n## 518                                    Turkey    2011    89\n## 519                                    Turkey    2010    85\n## 520                              Turkmenistan    2012    76\n## 521                              Turkmenistan    2011    69\n## 522                              Turkmenistan    2010    63\n## 523                                    Tuvalu    2012    28\n## 524                                    Tuvalu    2011    22\n## 525                                    Tuvalu    2010    25\n## 526                                    Uganda    2012    45\n## 527                                    Uganda    2011    48\n## 528                                    Uganda    2010    38\n## 529                                   Ukraine    2012   130\n## 530                                   Ukraine    2011   123\n## 531                                   Ukraine    2010   119\n## 532                      United Arab Emirates    2012   150\n## 533                      United Arab Emirates    2011   149\n## 534                      United Arab Emirates    2010   145\n## 535                            United Kingdom    2012   135\n## 536                            United Kingdom    2011   131\n## 537                            United Kingdom    2010   131\n## 538               United Republic of Tanzania    2012    57\n## 539               United Republic of Tanzania    2011    56\n## 540               United Republic of Tanzania    2010    47\n## 541                  United States of America    2012    95\n## 542                  United States of America    2011    93\n## 543                  United States of America    2010    90\n## 544                                   Uruguay    2012   147\n## 545                                   Uruguay    2011   141\n## 546                                   Uruguay    2010   132\n## 547                                Uzbekistan    2012    71\n## 548                                Uzbekistan    2011    92\n## 549                                Uzbekistan    2010    76\n## 550                                   Vanuatu    2012    59\n## 551                                   Vanuatu    2011    56\n## 552                                   Vanuatu    2010   119\n## 553        Venezuela (Bolivarian Republic of)    2012   102\n## 554        Venezuela (Bolivarian Republic of)    2011    98\n## 555        Venezuela (Bolivarian Republic of)    2010    96\n## 556                                  Viet Nam    2012   148\n## 557                                  Viet Nam    2011   143\n## 558                                  Viet Nam    2010   175\n## 559                                     Yemen    2012    58\n## 560                                     Yemen    2011    47\n## 561                                     Yemen    2010    46\n## 562                                    Zambia    2012    75\n## 563                                    Zambia    2011    61\n## 564                                    Zambia    2010    42\n## 565                                  Zimbabwe    2012    92\n## 566                                  Zimbabwe    2011    72\n## 567                                  Zimbabwe    2010    61\n## \n## [[3]]\n##                               Country.or.Area   Year.s. Value\n## 1                                 Afghanistan 2010-2011  37.4\n## 2                                     Albania 2008-2009  98.6\n## 3                                     Algeria      2006  99.3\n## 4                                     Andorra      2010   >90\n## 5                         Antigua and Barbuda      2010   >90\n## 6                                   Argentina      2010   >90\n## 7                                     Armenia      2010  99.6\n## 8                                   Australia      2010   >90\n## 9                                     Austria      2011   >90\n## 10                                 Azerbaijan      2006  93.6\n## 11                                    Bahrain      2009   >90\n## 12                                 Bangladesh      2006   9.8\n## 13                                   Barbados      2007   >90\n## 14                                    Belarus      2011   >90\n## 15                                    Belgium      2011   >90\n## 16                                     Belize      2011  95.2\n## 17                                      Benin      2006  60.3\n## 18                                     Bhutan      2010  99.9\n## 19           Bolivia (Plurinational State of)      2008  75.8\n## 20                     Bosnia and Herzegovina      2006  99.5\n## 21                                   Botswana 2007-2008  72.2\n## 22                                     Brazil      2010  93.4\n## 23                          Brunei Darussalam      2008   >90\n## 24                                   Bulgaria      2011   >90\n## 25                               Burkina Faso      2010  76.9\n## 26                                    Burundi      2010  75.2\n## 27                                 Cabo Verde      2010  91.4\n## 28                                   Cambodia      2010  62.1\n## 29                                   Cameroon      2006  70.1\n## 30                                     Canada      2009   >90\n## 31                   Central African Republic      2010    61\n## 32                                       Chad      2010  15.7\n## 33                                      Chile      2009  99.5\n## 34                                   Colombia      2010  96.5\n## 35                                      Congo      2005  81.1\n## 36                               Cook Islands      2010   >90\n## 37                                 Costa Rica      2011   >90\n## 38                              Côte d’Ivoire      2006  54.9\n## 39                                    Croatia      2011   >90\n## 40                                       Cuba      2011   100\n## 41                                     Cyprus      2011   >90\n## 42                             Czech Republic      2011   >90\n## 43      Democratic People's Republic of Korea      2009   100\n## 44           Democratic Republic of the Congo      2010  27.8\n## 45                                    Denmark      2011   >90\n## 46                                   Djibouti      2006  89.2\n## 47                                   Dominica      2010   >90\n## 48                         Dominican Republic 2009-2010  79.2\n## 49                                    Ecuador      2010    90\n## 50                                      Egypt      2005    99\n## 51                                El Salvador      2008  98.6\n## 52                                    Estonia      2011   >90\n## 53                                   Ethiopia      2005   6.6\n## 54                                       Fiji      2009   >90\n## 55                                    Finland      2011   >90\n## 56                                     France      2011   >90\n## 57                                     Gambia      2010  52.5\n## 58                                    Georgia      2011  98.5\n## 59                                    Germany      2011   >90\n## 60                                      Ghana      2011  62.5\n## 61                                     Greece      2011   >90\n## 62                                  Guatemala      2008  96.7\n## 63                                     Guinea      2005  43.2\n## 64                              Guinea-Bissau      2010  24.1\n## 65                                     Guyana      2009  87.9\n## 66                                      Haiti 2005-2006  81.1\n## 67                                   Honduras 2005-2006  93.5\n## 68                                    Hungary      2011   >90\n## 69                                    Iceland      2011   >90\n## 70                                      India 2005-2006  41.1\n## 71                                  Indonesia      2007  53.1\n## 72                 Iran (Islamic Republic of)      2008   >90\n## 73                                       Iraq      2006    95\n## 74                                    Ireland      2011   >90\n## 75                                     Israel      2011   >90\n## 76                                      Italy      2011   >90\n## 77                                    Jamaica      2008  97.8\n## 78                                      Japan      2010   >90\n## 79                                     Jordan      2010   >90\n## 80                                 Kazakhstan 2010-2011  99.7\n## 81                                      Kenya 2008-2009    60\n## 82                                   Kiribati      2009  93.5\n## 83                                     Kuwait      2010   >90\n## 84                                 Kyrgyzstan 2005-2006  94.2\n## 85           Lao People's Democratic Republic      2006  71.5\n## 86                                     Latvia      2011   >90\n## 87                                    Lebanon      2009  99.5\n## 88                                    Lesotho      2009  45.1\n## 89                                    Liberia      2007   3.6\n## 90                                  Lithuania      2011   >90\n## 91                                 Luxembourg      2011   >90\n## 92                                 Madagascar 2008-2009  79.7\n## 93                                   Malaysia      2010   >90\n## 94                                   Maldives      2009  92.5\n## 95                                       Mali      2010  80.8\n## 96                                      Malta      2011   >90\n## 97                           Marshall Islands      2007  95.9\n## 98                                 Mauritania      2007  55.9\n## 99                                  Mauritius      2011   >90\n## 100                                  Mongolia      2010    99\n## 101                                Montenegro 2005-2006  97.9\n## 102                                Mozambique      2008  30.8\n## 103                                   Myanmar 2009-2010  72.4\n## 104                                   Namibia 2006-2007  67.1\n## 105                                     Nauru      2007  82.6\n## 106                                     Nepal      2011  42.3\n## 107                               Netherlands      2011   >90\n## 108                               New Zealand      2011   >90\n## 109                                 Nicaragua      2006  81.3\n## 110                                     Niger      2006  31.8\n## 111                                   Nigeria      2008    30\n## 112                                      Niue      2009   >90\n## 113                                    Norway      2011   >90\n## 114                                  Pakistan 2006-2007  26.5\n## 115                                    Panama      2011   >90\n## 116                                      Peru      2007  92.9\n## 117                               Philippines      2009   >90\n## 118                                    Poland      2011   >90\n## 119                                  Portugal      2011   >90\n## 120                                     Qatar      2011   >90\n## 121                         Republic of Korea      2010   >90\n## 122                       Republic of Moldova      2011   >90\n## 123                                   Romania      2011   >90\n## 124                        Russian Federation      2011   >90\n## 125                                    Rwanda      2010  63.2\n## 126          Saint Vincent and the Grenadines      2009   >90\n## 127                                     Samoa      2009  47.7\n## 128                                San Marino      2011   >90\n## 129                     Sao Tome and Principe 2008-2009  75.1\n## 130                                   Senegal 2010-2011  74.6\n## 131                                    Serbia      2010  98.9\n## 132                                Seychelles      2011   >90\n## 133                              Sierra Leone      2010    78\n## 134                                 Singapore      2011   >90\n## 135                                  Slovakia      2011   >90\n## 136                                  Slovenia      2011   >90\n## 137                                   Somalia      2006     3\n## 138                              South Africa      2008  91.8\n## 139                               South Sudan      2010  35.4\n## 140                                     Spain      2011   >90\n## 141                                 Sri Lanka 2006-2007  97.2\n## 142                                     Sudan      2010  59.3\n## 143                                  Suriname      2006  96.6\n## 144                                 Swaziland      2010  49.5\n## 145                                    Sweden      2011   >90\n## 146                               Switzerland      2011   >90\n## 147                      Syrian Arab Republic      2006  95.2\n## 148                                Tajikistan      2005  88.3\n## 149                                  Thailand 2005-2006  99.4\n## 150 The former Yugoslav Republic of Macedonia      2011  99.7\n## 151                               Timor-Leste 2009-2010  55.2\n## 152                                      Togo      2010  77.9\n## 153                       Trinidad and Tobago      2006  95.8\n## 154                                   Tunisia      2008   >90\n## 155                                    Turkey      2008  93.7\n## 156                              Turkmenistan      2006  95.5\n## 157                                    Tuvalu      2007  49.9\n## 158                                    Uganda      2011  29.9\n## 159                                   Ukraine      2005  99.8\n## 160                            United Kingdom      2010   >90\n## 161               United Republic of Tanzania      2010  16.3\n## 162                  United States of America      2009   >90\n## 163                                   Uruguay      2010   >90\n## 164                                Uzbekistan      2006  99.9\n## 165                                   Vanuatu      2007  25.6\n## 166        Venezuela (Bolivarian Republic of)      2008   >90\n## 167                                  Viet Nam      2011    95\n## 168                                     Yemen      2006  22.3\n## 169                                    Zambia      2007    14\n## 170                                  Zimbabwe 2010-2011  48.8\n# combine data\nx = df[[1]]\nfor(i in 2:length(NN)){\n  x = merge.data.frame(x,df[[i]],by=\"Country.or.Area\")\n}\nhead(x)##   Country.or.Area Year.s..x Value.x Year.s..y Value.y   Year.s. Value\n## 1     Afghanistan      2012    -2.4      2011      54 2010-2011  37.4\n## 2     Afghanistan      2012    -2.4      2012      60 2010-2011  37.4\n## 3     Afghanistan      2012    -2.4      2010      41 2010-2011  37.4\n## 4         Albania      2012    -0.3      2010     142 2008-2009  98.6\n## 5         Albania      2012    -0.3      2011      96 2008-2009  98.6\n## 6         Albania      2012    -0.3      2012     111 2008-2009  98.6\nwrite.csv(x,\"./data/dp.csv\",row.names = FALSE)"},{"path":"数据整理和清理.html","id":"数据的缺失","chapter":"4 数据整理和清理","heading":"4.3 数据的缺失","text":"数据中经常会含有缺失值，缺失值的产生有不同的机制（完全随机缺失CMAR，随机缺失MAR和非随机缺失MNAR）;在R中缺失值通常用NA(available)表示；\n","code":""},{"path":"数据整理和清理.html","id":"缺失值的审视与标记","chapter":"4 数据整理和清理","heading":"4.3.1 缺失值的审视与标记","text":"","code":""},{"path":"数据整理和清理.html","id":"删除缺失值的方法及问题","chapter":"4 数据整理和清理","heading":"4.3.2 删除缺失值的方法及问题","text":"msdelete","code":""},{"path":"数据整理和清理.html","id":"利用可预测模型来填补缺失值","chapter":"4 数据整理和清理","heading":"4.3.3 利用可预测模型来填补缺失值","text":"","code":""},{"path":"数据整理和清理.html","id":"处理缺失值的r包","chapter":"4 数据整理和清理","heading":"4.3.4 处理缺失值的R包","text":"MICE\n(Multivariate Imputation via Chained Equations) one commonly used package R users. Creating multiple imputations compared single imputation (mean) takes care uncertainty missing values.\nMICE assumes missing data Missing Random (MAR), means probability value missing depends observed value can predicted using . imputes data variable variable basis specifying imputation model per variable.\nexample: Suppose X1, X2….Xk variables. X1 missing values, regressed variables X2 Xk. missing values X1 replaced predictive values obtained. Similarly, X2 missing values, X1, X3 Xk variables used prediction model independent variables. Later, missing values replaced predicted values.\ndefault, linear regression used predict continuous missing values. Logistic regression used categorical missing values. cycle complete, multiple data sets generated. data sets differ imputed missing values. Generally, ’s considered good practice build models data sets separately combining results.AmeliamissForestHmiscmi","code":""},{"path":"数据整理和清理.html","id":"实例","chapter":"4 数据整理和清理","heading":"4.3.5 实例","text":"","code":"\n#install.packages(\"mice\")\n#install.packages(\"missForest\")\nlibrary(mice)## \n## Attaching package: 'mice'## The following object is masked from 'package:stats':\n## \n##     filter## The following objects are masked from 'package:base':\n## \n##     cbind, rbind\nlibrary(missForest)## Loading required package: randomForest## randomForest 4.7-1## Type rfNews() to see new features/changes/bug fixes.## \n## Attaching package: 'randomForest'## The following object is masked from 'package:dplyr':\n## \n##     combine## The following object is masked from 'package:ggplot2':\n## \n##     margin## Loading required package: foreach## \n## Attaching package: 'foreach'## The following objects are masked from 'package:purrr':\n## \n##     accumulate, when## Loading required package: itertools## Loading required package: iterators\n#load data\ndata <- iris \n# Get summary\nsummary(data)##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   \n##  Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  \n##  1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  \n##  Median :5.800   Median :3.000   Median :4.350   Median :1.300  \n##  Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199  \n##  3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800  \n##  Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  \n##        Species  \n##  setosa    :50  \n##  versicolor:50  \n##  virginica :50  \n##                 \n##                 \n## \n#Generate 10% missing values at Random\niris.mis <- prodNA(data, noNA = 0.1)\n#Check missing values introduced in the data\nsummary(iris.mis)##   Sepal.Length   Sepal.Width     Petal.Length    Petal.Width          Species  \n##  Min.   :4.30   Min.   :2.000   Min.   :1.000   Min.   :0.100   setosa    :48  \n##  1st Qu.:5.10   1st Qu.:2.800   1st Qu.:1.525   1st Qu.:0.300   versicolor:42  \n##  Median :5.80   Median :3.000   Median :4.350   Median :1.300   virginica :45  \n##  Mean   :5.86   Mean   :3.067   Mean   :3.733   Mean   :1.228   NA's      :15  \n##  3rd Qu.:6.40   3rd Qu.:3.325   3rd Qu.:5.100   3rd Qu.:1.800                  \n##  Max.   :7.90   Max.   :4.400   Max.   :6.900   Max.   :2.500                  \n##  NA's   :13     NA's   :14      NA's   :12      NA's   :21\n# Removing categorical data\niris.mis <- subset(iris.mis, select = -c(Species))\nsummary(iris.mis)##   Sepal.Length   Sepal.Width     Petal.Length    Petal.Width   \n##  Min.   :4.30   Min.   :2.000   Min.   :1.000   Min.   :0.100  \n##  1st Qu.:5.10   1st Qu.:2.800   1st Qu.:1.525   1st Qu.:0.300  \n##  Median :5.80   Median :3.000   Median :4.350   Median :1.300  \n##  Mean   :5.86   Mean   :3.067   Mean   :3.733   Mean   :1.228  \n##  3rd Qu.:6.40   3rd Qu.:3.325   3rd Qu.:5.100   3rd Qu.:1.800  \n##  Max.   :7.90   Max.   :4.400   Max.   :6.900   Max.   :2.500  \n##  NA's   :13     NA's   :14      NA's   :12      NA's   :21\nmd.pattern(iris.mis)##    Petal.Length Sepal.Length Sepal.Width Petal.Width   \n## 95            1            1           1           1  0\n## 18            1            1           1           0  1\n## 11            1            1           0           1  1\n## 1             1            1           0           0  2\n## 11            1            0           1           1  1\n## 1             1            0           1           0  2\n## 1             1            0           0           1  2\n## 10            0            1           1           1  1\n## 1             0            1           1           0  2\n## 1             0            1           0           1  2\n##              12           13          14          21 60\n# make it beautiful missing pattern\n#install.packages(\"VIM\")\nlibrary(VIM)## Loading required package: colorspace## Loading required package: grid## VIM is ready to use.## Suggestions and bug-reports can be submitted at: https://github.com/statistikat/VIM/issues## \n## Attaching package: 'VIM'## The following object is masked from 'package:missForest':\n## \n##     nrmse## The following object is masked from 'package:datasets':\n## \n##     sleep\nmice_plot <- aggr(iris.mis, col=c('navyblue','yellow'),\nnumbers=TRUE, sortVars=TRUE,\nlabels=names(iris.mis), cex.axis=.7,\ngap=3, ylab=c(\"Missing data\",\"Pattern\"))## \n##  Variables sorted by number of missings: \n##      Variable      Count\n##   Petal.Width 0.14000000\n##   Sepal.Width 0.09333333\n##  Sepal.Length 0.08666667\n##  Petal.Length 0.08000000\n# impute the missing data using mice\nimputed_Data <- mice(iris.mis, m=5, maxit = 50, method = 'pmm', seed = 500)## \n##  iter imp variable\n##   1   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   1   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   1   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   1   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   1   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   2   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   2   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   2   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   2   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   2   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   3   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   3   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   3   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   3   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   3   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   4   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   4   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   4   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   4   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   4   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   5   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   5   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   5   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   5   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   5   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   6   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   6   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   6   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   6   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   6   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   7   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   7   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   7   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   7   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   7   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   8   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   8   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   8   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   8   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   8   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   9   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   9   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   9   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   9   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   9   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   10   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   10   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   10   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   10   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   10   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   11   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   11   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   11   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   11   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   11   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   12   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   12   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   12   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   12   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   12   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   13   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   13   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   13   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   13   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   13   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   14   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   14   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   14   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   14   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   14   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   15   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   15   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   15   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   15   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   15   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   16   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   16   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   16   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   16   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   16   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   17   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   17   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   17   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   17   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   17   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   18   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   18   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   18   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   18   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   18   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   19   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   19   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   19   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   19   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   19   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   20   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   20   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   20   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   20   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   20   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   21   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   21   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   21   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   21   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   21   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   22   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   22   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   22   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   22   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   22   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   23   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   23   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   23   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   23   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   23   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   24   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   24   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   24   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   24   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   24   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   25   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   25   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   25   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   25   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   25   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   26   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   26   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   26   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   26   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   26   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   27   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   27   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   27   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   27   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   27   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   28   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   28   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   28   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   28   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   28   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   29   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   29   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   29   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   29   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   29   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   30   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   30   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   30   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   30   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   30   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   31   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   31   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   31   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   31   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   31   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   32   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   32   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   32   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   32   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   32   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   33   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   33   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   33   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   33   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   33   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   34   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   34   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   34   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   34   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   34   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   35   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   35   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   35   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   35   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   35   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   36   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   36   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   36   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   36   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   36   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   37   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   37   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   37   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   37   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   37   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   38   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   38   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   38   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   38   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   38   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   39   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   39   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   39   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   39   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   39   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   40   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   40   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   40   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   40   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   40   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   41   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   41   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   41   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   41   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   41   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   42   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   42   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   42   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   42   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   42   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   43   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   43   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   43   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   43   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   43   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   44   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   44   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   44   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   44   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   44   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   45   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   45   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   45   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   45   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   45   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   46   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   46   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   46   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   46   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   46   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   47   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   47   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   47   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   47   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   47   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   48   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   48   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   48   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   48   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   48   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   49   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   49   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   49   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   49   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   49   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   50   1  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   50   2  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   50   3  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   50   4  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n##   50   5  Sepal.Length  Sepal.Width  Petal.Length  Petal.Width\n#m — Refers to 5 imputed data sets;maxit — Refers to no. of iterations taken to impute missing values;method — Refers to method used in imputation. we used predictive mean matching\nsummary(imputed_Data)## Class: mids\n## Number of multiple imputations:  5 \n## Imputation methods:\n## Sepal.Length  Sepal.Width Petal.Length  Petal.Width \n##        \"pmm\"        \"pmm\"        \"pmm\"        \"pmm\" \n## PredictorMatrix:\n##              Sepal.Length Sepal.Width Petal.Length Petal.Width\n## Sepal.Length            0           1            1           1\n## Sepal.Width             1           0            1           1\n## Petal.Length            1           1            0           1\n## Petal.Width             1           1            1           0\n#check imputed values\nimputed_Data$imp$Sepal.Width##       1   2   3   4   5\n## 15  3.8 4.4 3.8 4.2 4.2\n## 37  3.8 3.4 3.8 3.5 4.4\n## 40  3.8 3.6 3.3 3.1 3.2\n## 55  3.2 3.0 3.0 2.8 3.6\n## 60  2.6 2.5 2.5 2.8 3.0\n## 63  3.1 3.0 2.8 3.0 2.8\n## 97  2.7 3.0 2.8 2.4 3.0\n## 106 3.4 2.8 3.4 3.3 3.3\n## 108 2.4 2.9 3.1 2.4 3.0\n## 112 3.0 2.4 2.8 2.8 2.4\n## 120 2.8 2.0 3.1 2.7 2.7\n## 122 3.0 2.4 2.7 2.4 2.5\n## 126 3.4 2.8 2.5 3.0 2.9\n## 144 3.3 3.4 2.9 3.1 2.5\n#get complete data ( 2nd out of 5)\ncompleteData <- complete(imputed_Data,2)\n#build predictive model\nlibrary(dplyr)\nfit <- with(data = iris.mis, exp = lm(Sepal.Width ~ Sepal.Length + Petal.Width))\n#combine results of all 5 models\n#combine <- pool(fit)\nsummary(fit)## \n## Call:\n## lm(formula = Sepal.Width ~ Sepal.Length + Petal.Width)\n## \n## Residuals:\n##      Min       1Q   Median       3Q      Max \n## -0.88802 -0.24755  0.00481  0.27194  0.96287 \n## \n## Coefficients:\n##              Estimate Std. Error t value Pr(>|t|)    \n## (Intercept)   1.67831    0.39442   4.255 4.65e-05 ***\n## Sepal.Length  0.34458    0.08081   4.264 4.49e-05 ***\n## Petal.Width  -0.51319    0.08835  -5.809 7.20e-08 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 0.3986 on 102 degrees of freedom\n##   (45 observations deleted due to missingness)\n## Multiple R-squared:  0.2512, Adjusted R-squared:  0.2366 \n## F-statistic: 17.11 on 2 and 102 DF,  p-value: 3.903e-07"},{"path":"有监督学习概论.html","id":"有监督学习概论","chapter":"5 有监督学习概论","heading":"5 有监督学习概论","text":"","code":""},{"path":"有监督学习概论.html","id":"机器学习","chapter":"5 有监督学习概论","heading":"5.0.1 机器学习","text":"机器学习1959年由Arthur Samuel首次提出；机器学习是研究计算机算法，这个算法可通过数据产生的经验自动地改善（Machine learning (ML) study computer algorithms can improve automatically experience use data）（Mitchell,Tom，1959）机器学习是计算机程序，如果该程序在T类任务中的表现，如P所衡量的，随着经验E的增加而提高，那么就可以说它从经验E中学习到了一些任务T和性能指标P。（computer program said learn experience E respect class tasks T performance measure P performance tasks T, measured P, improves experience E.）（Tom M. Mitchell ）一系列的数据驱动的算法和工具，它的主要目的是根据观测到的数据来预测没有观测到的数据，它的最大特点就是数据驱动。机器学习的种类:machine learning","code":""},{"path":"有监督学习概论.html","id":"机器学习实例","chapter":"5 有监督学习概论","heading":"5.0.2 机器学习实例","text":"房价预测：如何对房子的价格进行预测？采集与房子有关的变量：区域、房子朝向、楼层、周围是否有地铁、面积、房屋的价格等数据，构建一个回归模型来进行预测。\\[y=f(X)+\\epsilon\\]房价预测：如何对房子的价格进行预测？采集与房子有关的变量：区域、房子朝向、楼层、周围是否有地铁、面积、房屋的价格等数据，构建一个回归模型来进行预测。\\[y=f(X)+\\epsilon\\]垃圾邮件分类：根据邮件内容提取出一些特征关键词作为X，而响应变量y为两个是值：1垃圾邮件，0好邮件，构建一个分类器进行邮件分类。\\[C(x)=P(y=1|X)\\]垃圾邮件分类：根据邮件内容提取出一些特征关键词作为X，而响应变量y为两个是值：1垃圾邮件，0好邮件，构建一个分类器进行邮件分类。\\[C(x)=P(y=1|X)\\]我们做过的舆情分析案例（聚类分析）：使用评论数据，通过词向量技术解析得到词向量，然后进行主题分析，得到网络谣言、疫情趋势、地点（国外）、处罚、疫苗等主题，从而根据这些主题词来识别谣言。我们做过的舆情分析案例（聚类分析）：使用评论数据，通过词向量技术解析得到词向量，然后进行主题分析，得到网络谣言、疫情趋势、地点（国外）、处罚、疫苗等主题，从而根据这些主题词来识别谣言。强化学习:玩Super Mario Bros游戏强化学习:玩Super Mario Bros游戏ReinforcementLearning","code":""},{"path":"有监督学习概论.html","id":"模型及拟合","chapter":"5 有监督学习概论","heading":"5.1 模型及拟合","text":"模型：人们对所关心的真实世界问题的一个近似描述。Model决策树模型：是一种有监督学习的算法，使用一系列的是和否规则（-rules)来进行决策，和人进行决策的过程类似。\n\n数据：\n数据：3.节点纯度的度量：Gini系数和熵\n+ 也称Gini不纯度，当随机选择一个特征，这个特定特征的总概率的计算（Gini Index, also known Gini impurity, calculates amount probability specific feature classified incorrectly selected randomly）.\n\\[GiniIndex=1-\\sum\\limits_{=1}^kp_i^2\\]\n+ 是数据不纯度或随机性的测度（measurement impurity randomness data points）.\n\\[Entropy=-\\sum\\limits_{=1}^kp_i\\times log(p_i)\\]\n+ 不同的决策树算法使用不同的计算方法，CART树使用Gini系数，ID3和C4.5算法使用熵。（Different decision tree algorithms utilize different impurity metrics: CART uses Gini; ID3 C4.5 use Entropy).4.决策树例子计算步骤：\n选择stayhome作为因变量y,emotion和temperature作为自变量\\(x_1,x_2\\);\n首先计算根结点的GiniIndex：\\(GiniIndex_r=\\frac{1}{2}\\);\n随机选择一个变量，如\\(x_2\\)进行根结点裂分，分别计算左节点(condition为True)的Gini系数\\(GiniIndex_1=\\frac{3}{8}\\)和右节点(condition为False)的Gini系数\\(GiniIndex_2=\\frac{3}{8}\\)，然后计算加权的GiniIndex\\(GiniIndex_w=\\frac{3}{8}\\times\\frac{4}{8}+\\frac{3}{8}\\times\\frac{4}{8}=\\frac{1}{2}\\),最后计算使用\\(x_2\\)进行根结点裂分得到的基尼不纯度的降低值\\(GiniIndex_r-GiniIndex_w=\\frac{1}{2}-\\frac{3}{8}=\\frac{1}{8}\\);\n根据上述过程选择另一个变量(\\(x_1\\))，进行类似的计算得到的基尼不纯度的降低值为0\n所以第一轮选择\\(x_2\\)进行裂分。\n计算步骤：选择stayhome作为因变量y,emotion和temperature作为自变量\\(x_1,x_2\\);首先计算根结点的GiniIndex：\\(GiniIndex_r=\\frac{1}{2}\\);随机选择一个变量，如\\(x_2\\)进行根结点裂分，分别计算左节点(condition为True)的Gini系数\\(GiniIndex_1=\\frac{3}{8}\\)和右节点(condition为False)的Gini系数\\(GiniIndex_2=\\frac{3}{8}\\)，然后计算加权的GiniIndex\\(GiniIndex_w=\\frac{3}{8}\\times\\frac{4}{8}+\\frac{3}{8}\\times\\frac{4}{8}=\\frac{1}{2}\\),最后计算使用\\(x_2\\)进行根结点裂分得到的基尼不纯度的降低值\\(GiniIndex_r-GiniIndex_w=\\frac{1}{2}-\\frac{3}{8}=\\frac{1}{8}\\);根据上述过程选择另一个变量(\\(x_1\\))，进行类似的计算得到的基尼不纯度的降低值为0所以第一轮选择\\(x_2\\)进行裂分。使用信息熵的方法进行相似的计算。使用信息熵的方法进行相似的计算。5.预测值、拟合值及误判率如果用训练得到的模型作用于一个(也有这几个自变量的) 数据, 那么就会得到预测值(predicted value).对于训练模型的训练集做预测所得到的预测值也称为拟合值(fitted value).使用训练模型的训练集会产生一个误判, 这实际上是用训练集“学习到” 的模型对训练集的因变量sex做预测。混淆矩阵(confusion Matrix)是机器学习用来衡量分类好坏的方法（Confusion Matrix performance measurement machine learning classification）.机器学习的目的是得到一个泛化误差比较小的模型；如果用训练集所得到的误判率和用非训练集(或测试集) 得到的误判率之间差别很大, 则说明该模型有过拟合现象(overfitting).在大数据时代，过拟合是模型构建过程中最易出现的情况，得到的模型是一个看上去很好，而实际上无用的模型。简单来说就是模型在训练集上得到的误差非常小（偏差较小）而在不同数据集之间得到的误差非常大（方差较大），而模型总的误差基本由偏差和方差组成。例子：买家秀和卖家秀；","code":"\n# install.packages{\"rpart\"}\n# install.packages{\"rattle\"}\n# install.packages{\"partykit\"}\nlibrary(rpart)\nlibrary(rpart.plot)\nlibrary(rattle)## Loading required package: tibble## Loading required package: bitops## Rattle: A free graphical interface for data science with R.\n## Version 5.5.1 Copyright (c) 2006-2021 Togaware Pty Ltd.\n## Type 'rattle()' to shake, rattle, and roll your data.\nlibrary(partykit)## Loading required package: grid## Loading required package: libcoin## Loading required package: mvtnorm\n# inpput the file\ndata(trees)\nhead(trees)##   Girth Height Volume\n## 1   8.3     70   10.3\n## 2   8.6     65   10.3\n## 3   8.8     63   10.2\n## 4  10.5     72   16.4\n## 5  10.7     81   18.8\n## 6  10.8     83   19.7\nvolume <- rpart(Volume ~ ., data = trees)\nrpart.plot(volume, type = 3, clip.right.labs = FALSE, branch = .3, under = TRUE)\ndf <- read.csv(\"./data/simple4.csv\")\ndf##    sex haircol skirt style\n## 1    F  yellow     y     n\n## 2    F   black     y     n\n## 3    F  yellow     n     y\n## 4    F   black     n     y\n## 5    M  yellow     n     n\n## 6    M   black     n     n\n## 7    M  yellow     y     n\n## 8    F   black     n     y\n## 9    M  yellow     n     n\n## 10   F   black     y     n\n## 11   M   black     y     y\n## 12   F  yellow     n     y\n#sex <- factor(df$sex, levels = 0:1, labels = c(\"M\", \"F\"))\n#haircol <- factor(df$haircol,levels = 0:1, labels = c(\"yellow\", \"black\"))\n#skirt <- factor(df$skirt,levels = 0:1, labels = c(\"y\", \"n\"))\n#style <- factor(df$style,levels = 0:1, labels = c(\"y\", \"n\"))\n#df[] <- lapply(df,factor)\n#str(df)\n#output.tree<- rpart(sex~.,data=df,cp=0.02)\n#print(output.tree)\n#rpart.plot(output.tree)\ndecisiontree <- data.frame(emotion=c('sick','sick','sick','notsick','notsick','sick','notsick','notsick'),\n                 temperature=c('under','over','under','under','over','over','under','over'),\n                 stayhome=c('N','Y','Y','N','Y','N','N','Y'))\ndecisiontree##   emotion temperature stayhome\n## 1    sick       under        N\n## 2    sick        over        Y\n## 3    sick       under        Y\n## 4 notsick       under        N\n## 5 notsick        over        Y\n## 6    sick        over        N\n## 7 notsick       under        N\n## 8 notsick        over        Y\n###Overfitting\nrequire(data.table)## Loading required package: data.table\nlibrary(rpart)\nrequire(ggplot2)## Loading required package: ggplot2\nset.seed(456)\n##Reading data\noverfitting_data=data.table(airquality)\nggplot(overfitting_data,aes(Wind,Ozone))+geom_point()+ggtitle(\"Ozone vs wind speed\")## Warning: Removed 37 rows containing missing values (geom_point).\ndata_test=na.omit(overfitting_data[,.(Wind,Ozone)])\ntrain_sample=sample(1:nrow(data_test),size = 0.7*nrow(data_test))\n###creation of polynomial models\ndegree_of_poly=1:20\ndegree_to_plot=c(1,3,5,10,20)\npolynomial_model=list()\ndf_result=NULL\nfor (degree in degree_of_poly)\n{\n fm=as.formula(paste0(\"Ozone~poly(Wind,\",degree,\",raw=T)\"))\n polynomial_model=c(polynomial_model,list(lm(fm,data_test[train_sample])))\n Polynomial_degree=paste0(degree)\n data_fitted=tail(polynomial_model,1)[[1]]$fitted.values\n new_df=data.table(Wind=data_test[train_sample,Wind],Ozone_real=data_test[train_sample,Ozone],Ozone_fitted=tail(polynomial_model,1)[[1]]$fitted.values,degree=as.factor(degree))\n if (is.null(df_result))\n df_result=new_df\n else\n df_result=rbind(df_result,new_df)\n}\ngg=ggplot(df_result[degree%in%degree_to_plot],aes(x=Wind))+geom_point(aes(y=Ozone_real))+geom_line(aes(color=degree,y=Ozone_fitted))\ngg+ggtitle('Ozone vs wind for several polynomial regressions')+ylab('Ozone')\n###Computing SE\nSE_train_list=c()\nSE_test_list=c()\nfor (poly_mod in polynomial_model)\n{\n print(summary(poly_mod))\n SE_train_list=c(SE_train_list,sqrt(mean(poly_mod$residuals^2)))\n SE_test=sqrt(mean((data_test[-train_sample]-predict(poly_mod,data_test[-train_sample,]))^2))\n SE_test_list=c(SE_test_list,SE_test)\n}## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -41.713 -17.792  -3.344  15.472  60.929 \n## \n## Coefficients:\n##                        Estimate Std. Error t value Pr(>|t|)    \n## (Intercept)             98.0237     8.4012   11.67  < 2e-16 ***\n## poly(Wind, 1, raw = T)  -5.8422     0.7842   -7.45 1.02e-10 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 24.64 on 79 degrees of freedom\n## Multiple R-squared:  0.4127, Adjusted R-squared:  0.4052 \n## F-statistic:  55.5 on 1 and 79 DF,  p-value: 1.019e-10## Warning in mean.default((data_test[-train_sample] - predict(poly_mod,\n## data_test[-train_sample, : argument is not numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##    Min     1Q Median     3Q    Max \n## -42.19 -14.61  -4.92  12.24  60.33 \n## \n## Coefficients:\n##                         Estimate Std. Error t value Pr(>|t|)    \n## (Intercept)             157.5771    16.0821   9.798 3.08e-15 ***\n## poly(Wind, 2, raw = T)1 -18.5808     3.1105  -5.974 6.52e-08 ***\n## poly(Wind, 2, raw = T)2   0.6053     0.1439   4.207 6.85e-05 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 22.39 on 78 degrees of freedom\n## Multiple R-squared:  0.5213, Adjusted R-squared:  0.509 \n## F-statistic: 42.47 on 2 and 78 DF,  p-value: 3.334e-13## Warning in mean.default((data_test[-train_sample] - predict(poly_mod,\n## data_test[-train_sample, : argument is not numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -47.103 -13.038  -3.920   9.021  63.362 \n## \n## Coefficients:\n##                          Estimate Std. Error t value Pr(>|t|)    \n## (Intercept)             194.34698   30.01711   6.475 8.07e-09 ***\n## poly(Wind, 3, raw = T)1 -31.63124    9.53487  -3.317  0.00139 ** \n## poly(Wind, 3, raw = T)2   1.94131    0.93449   2.077  0.04110 *  \n## poly(Wind, 3, raw = T)3  -0.04083    0.02822  -1.447  0.15203    \n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 22.23 on 77 degrees of freedom\n## Multiple R-squared:  0.534,  Adjusted R-squared:  0.5158 \n## F-statistic: 29.41 on 3 and 77 DF,  p-value: 8.961e-13## Warning in mean.default((data_test[-train_sample] - predict(poly_mod,\n## data_test[-train_sample, : argument is not numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -42.262 -13.526  -3.561  10.257  62.494 \n## \n## Coefficients:\n##                           Estimate Std. Error t value Pr(>|t|)  \n## (Intercept)             126.319188  52.823584   2.391   0.0193 *\n## poly(Wind, 4, raw = T)1   3.550616  24.473809   0.145   0.8850  \n## poly(Wind, 4, raw = T)2  -3.918866   3.872884  -1.012   0.3148  \n## poly(Wind, 4, raw = T)3   0.346829   0.250332   1.385   0.1700  \n## poly(Wind, 4, raw = T)4  -0.008786   0.005638  -1.558   0.1233  \n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 22.03 on 76 degrees of freedom\n## Multiple R-squared:  0.5484, Adjusted R-squared:  0.5246 \n## F-statistic: 23.07 on 4 and 76 DF,  p-value: 1.661e-12## Warning in mean.default((data_test[-train_sample] - predict(poly_mod,\n## data_test[-train_sample, : argument is not numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##    Min     1Q Median     3Q    Max \n## -41.18 -12.81  -3.65  10.19  66.73 \n## \n## Coefficients:\n##                           Estimate Std. Error t value Pr(>|t|)  \n## (Intercept)             -47.642955 101.574573  -0.469   0.6404  \n## poly(Wind, 5, raw = T)1 124.900947  65.499114   1.907   0.0604 .\n## poly(Wind, 5, raw = T)2 -33.043592  15.111328  -2.187   0.0319 *\n## poly(Wind, 5, raw = T)3   3.465855   1.585451   2.186   0.0319 *\n## poly(Wind, 5, raw = T)4  -0.161312   0.076795  -2.101   0.0390 *\n## poly(Wind, 5, raw = T)5   0.002768   0.001390   1.991   0.0501 .\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 21.61 on 75 degrees of freedom\n## Multiple R-squared:  0.5711, Adjusted R-squared:  0.5425 \n## F-statistic: 19.97 on 5 and 75 DF,  p-value: 1.322e-12## Warning in mean.default((data_test[-train_sample] - predict(poly_mod,\n## data_test[-train_sample, : argument is not numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -40.219 -13.286  -4.391   9.609  67.543 \n## \n## Coefficients:\n##                           Estimate Std. Error t value Pr(>|t|)\n## (Intercept)             -1.226e+02  1.936e+02  -0.633    0.528\n## poly(Wind, 6, raw = T)1  1.884e+02  1.541e+02   1.222    0.225\n## poly(Wind, 6, raw = T)2 -5.271e+01  4.573e+01  -1.153    0.253\n## poly(Wind, 6, raw = T)3  6.398e+00  6.626e+00   0.966    0.337\n## poly(Wind, 6, raw = T)4 -3.880e-01  5.031e-01  -0.771    0.443\n## poly(Wind, 6, raw = T)5  1.150e-02  1.919e-02   0.599    0.551\n## poly(Wind, 6, raw = T)6 -1.321e-04  2.897e-04  -0.456    0.650\n## \n## Residual standard error: 21.73 on 74 degrees of freedom\n## Multiple R-squared:  0.5723, Adjusted R-squared:  0.5376 \n## F-statistic:  16.5 on 6 and 74 DF,  p-value: 5.696e-12## Warning in mean.default((data_test[-train_sample] - predict(poly_mod,\n## data_test[-train_sample, : argument is not numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -40.181 -13.217  -4.417   9.583  67.517 \n## \n## Coefficients:\n##                           Estimate Std. Error t value Pr(>|t|)\n## (Intercept)             -1.308e+02  4.205e+02  -0.311    0.757\n## poly(Wind, 7, raw = T)1  1.966e+02  4.059e+02   0.484    0.630\n## poly(Wind, 7, raw = T)2 -5.585e+01  1.516e+02  -0.368    0.714\n## poly(Wind, 7, raw = T)3  7.010e+00  2.892e+01   0.242    0.809\n## poly(Wind, 7, raw = T)4 -4.540e-01  3.080e+00  -0.147    0.883\n## poly(Wind, 7, raw = T)5  1.550e-02  1.850e-01   0.084    0.933\n## poly(Wind, 7, raw = T)6 -2.590e-04  5.844e-03  -0.044    0.965\n## poly(Wind, 7, raw = T)7  1.641e-06  7.546e-05   0.022    0.983\n## \n## Residual standard error: 21.88 on 73 degrees of freedom\n## Multiple R-squared:  0.5723, Adjusted R-squared:  0.5313 \n## F-statistic: 13.95 on 7 and 73 DF,  p-value: 2.446e-11## Warning in mean.default((data_test[-train_sample] - predict(poly_mod,\n## data_test[-train_sample, : argument is not numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -40.324 -13.372  -5.533   8.916  69.196 \n## \n## Coefficients:\n##                           Estimate Std. Error t value Pr(>|t|)\n## (Intercept)              4.254e+02  9.194e+02   0.463    0.645\n## poly(Wind, 8, raw = T)1 -4.396e+02  1.019e+03  -0.431    0.668\n## poly(Wind, 8, raw = T)2  2.331e+02  4.508e+02   0.517    0.607\n## poly(Wind, 8, raw = T)3 -6.202e+01  1.055e+02  -0.588    0.558\n## poly(Wind, 8, raw = T)4  9.144e+00  1.443e+01   0.634    0.528\n## poly(Wind, 8, raw = T)5 -7.876e-01  1.194e+00  -0.660    0.512\n## poly(Wind, 8, raw = T)6  3.953e-02  5.873e-02   0.673    0.503\n## poly(Wind, 8, raw = T)7 -1.073e-03  1.579e-03  -0.679    0.499\n## poly(Wind, 8, raw = T)8  1.216e-05  1.786e-05   0.681    0.498\n## \n## Residual standard error: 21.96 on 72 degrees of freedom\n## Multiple R-squared:  0.575,  Adjusted R-squared:  0.5278 \n## F-statistic: 12.18 on 8 and 72 DF,  p-value: 7.728e-11## Warning in mean.default((data_test[-train_sample] - predict(poly_mod,\n## data_test[-train_sample, : argument is not numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -39.191 -14.464  -5.251   8.702  69.369 \n## \n## Coefficients:\n##                           Estimate Std. Error t value Pr(>|t|)\n## (Intercept)              2.187e+03  1.881e+03   1.162    0.249\n## poly(Wind, 9, raw = T)1 -2.722e+03  2.358e+03  -1.154    0.252\n## poly(Wind, 9, raw = T)2  1.443e+03  1.215e+03   1.188    0.239\n## poly(Wind, 9, raw = T)3 -4.100e+02  3.411e+02  -1.202    0.233\n## poly(Wind, 9, raw = T)4  6.943e+01  5.801e+01   1.197    0.235\n## poly(Wind, 9, raw = T)5 -7.358e+00  6.239e+00  -1.179    0.242\n## poly(Wind, 9, raw = T)6  4.928e-01  4.265e-01   1.155    0.252\n## poly(Wind, 9, raw = T)7 -2.026e-02  1.796e-02  -1.128    0.263\n## poly(Wind, 9, raw = T)8  4.667e-04  4.241e-04   1.101    0.275\n## poly(Wind, 9, raw = T)9 -4.609e-06  4.296e-06  -1.073    0.287\n## \n## Residual standard error: 21.93 on 71 degrees of freedom\n## Multiple R-squared:  0.5818, Adjusted R-squared:  0.5288 \n## F-statistic: 10.97 on 9 and 71 DF,  p-value: 1.659e-10## Warning in mean.default((data_test[-train_sample] - predict(poly_mod,\n## data_test[-train_sample, : argument is not numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -36.654 -13.654  -4.266   8.975  66.521 \n## \n## Coefficients:\n##                             Estimate Std. Error t value Pr(>|t|)\n## (Intercept)                5.719e+03  3.949e+03   1.448    0.152\n## poly(Wind, 10, raw = T)1  -7.913e+03  5.623e+03  -1.407    0.164\n## poly(Wind, 10, raw = T)2   4.640e+03  3.369e+03   1.377    0.173\n## poly(Wind, 10, raw = T)3  -1.501e+03  1.126e+03  -1.334    0.187\n## poly(Wind, 10, raw = T)4   2.994e+02  2.334e+02   1.283    0.204\n## poly(Wind, 10, raw = T)5  -3.879e+01  3.153e+01  -1.230    0.223\n## poly(Wind, 10, raw = T)6   3.330e+00  2.822e+00   1.180    0.242\n## poly(Wind, 10, raw = T)7  -1.880e-01  1.659e-01  -1.133    0.261\n## poly(Wind, 10, raw = T)8   6.713e-03  6.157e-03   1.090    0.279\n## poly(Wind, 10, raw = T)9  -1.373e-04  1.306e-04  -1.052    0.297\n## poly(Wind, 10, raw = T)10  1.226e-06  1.206e-06   1.017    0.313\n## \n## Residual standard error: 21.93 on 70 degrees of freedom\n## Multiple R-squared:  0.5879, Adjusted R-squared:  0.529 \n## F-statistic: 9.985 on 10 and 70 DF,  p-value: 3.571e-10## Warning in mean.default((data_test[-train_sample] - predict(poly_mod,\n## data_test[-train_sample, : argument is not numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -38.409 -13.059  -3.181   5.338  64.988 \n## \n## Coefficients:\n##                             Estimate Std. Error t value Pr(>|t|)  \n## (Intercept)                1.606e+04  7.917e+03   2.028   0.0464 *\n## poly(Wind, 11, raw = T)1  -2.490e+04  1.260e+04  -1.975   0.0522 .\n## poly(Wind, 11, raw = T)2   1.653e+04  8.591e+03   1.924   0.0584 .\n## poly(Wind, 11, raw = T)3  -6.203e+03  3.322e+03  -1.867   0.0661 .\n## poly(Wind, 11, raw = T)4   1.471e+03  8.131e+02   1.809   0.0749 .\n## poly(Wind, 11, raw = T)5  -2.327e+02  1.328e+02  -1.752   0.0841 .\n## poly(Wind, 11, raw = T)6   2.519e+01  1.481e+01   1.700   0.0936 .\n## poly(Wind, 11, raw = T)7  -1.873e+00  1.133e+00  -1.652   0.1030  \n## poly(Wind, 11, raw = T)8   9.407e-02  5.846e-02   1.609   0.1122  \n## poly(Wind, 11, raw = T)9  -3.048e-03  1.942e-03  -1.570   0.1210  \n## poly(Wind, 11, raw = T)10  5.750e-05  3.747e-05   1.534   0.1295  \n## poly(Wind, 11, raw = T)11 -4.793e-07  3.190e-07  -1.502   0.1375  \n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 21.73 on 69 degrees of freedom\n## Multiple R-squared:  0.6009, Adjusted R-squared:  0.5373 \n## F-statistic: 9.446 on 11 and 69 DF,  p-value: 4.25e-10## Warning in mean.default((data_test[-train_sample] - predict(poly_mod,\n## data_test[-train_sample, : argument is not numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -38.409 -13.059  -3.181   5.338  64.988 \n## \n## Coefficients: (1 not defined because of singularities)\n##                             Estimate Std. Error t value Pr(>|t|)  \n## (Intercept)                1.606e+04  7.917e+03   2.028   0.0464 *\n## poly(Wind, 12, raw = T)1  -2.490e+04  1.260e+04  -1.975   0.0522 .\n## poly(Wind, 12, raw = T)2   1.653e+04  8.591e+03   1.924   0.0584 .\n## poly(Wind, 12, raw = T)3  -6.203e+03  3.322e+03  -1.867   0.0661 .\n## poly(Wind, 12, raw = T)4   1.471e+03  8.131e+02   1.809   0.0749 .\n## poly(Wind, 12, raw = T)5  -2.327e+02  1.328e+02  -1.752   0.0841 .\n## poly(Wind, 12, raw = T)6   2.519e+01  1.481e+01   1.700   0.0936 .\n## poly(Wind, 12, raw = T)7  -1.873e+00  1.133e+00  -1.652   0.1030  \n## poly(Wind, 12, raw = T)8   9.407e-02  5.846e-02   1.609   0.1122  \n## poly(Wind, 12, raw = T)9  -3.048e-03  1.942e-03  -1.570   0.1210  \n## poly(Wind, 12, raw = T)10  5.750e-05  3.747e-05   1.534   0.1295  \n## poly(Wind, 12, raw = T)11 -4.793e-07  3.190e-07  -1.502   0.1375  \n## poly(Wind, 12, raw = T)12         NA         NA      NA       NA  \n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 21.73 on 69 degrees of freedom\n## Multiple R-squared:  0.6009, Adjusted R-squared:  0.5373 \n## F-statistic: 9.446 on 11 and 69 DF,  p-value: 4.25e-10## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): prediction from a\n## rank-deficient fit may be misleading## Warning in mean.default((data_test[-train_sample] - predict(poly_mod,\n## data_test[-train_sample, : argument is not numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -38.775 -13.102  -3.242   5.758  65.355 \n## \n## Coefficients: (1 not defined because of singularities)\n##                             Estimate Std. Error t value Pr(>|t|)\n## (Intercept)                1.848e+04  1.953e+04   0.946    0.347\n## poly(Wind, 13, raw = T)1  -2.924e+04  3.441e+04  -0.850    0.398\n## poly(Wind, 13, raw = T)2   1.990e+04  2.623e+04   0.759    0.451\n## poly(Wind, 13, raw = T)3  -7.692e+03  1.146e+04  -0.671    0.504\n## poly(Wind, 13, raw = T)4   1.892e+03  3.207e+03   0.590    0.557\n## poly(Wind, 13, raw = T)5  -3.131e+02  6.067e+02  -0.516    0.608\n## poly(Wind, 13, raw = T)6   3.583e+01  7.974e+01   0.449    0.655\n## poly(Wind, 13, raw = T)7  -2.858e+00  7.340e+00  -0.389    0.698\n## poly(Wind, 13, raw = T)8   1.573e-01  4.687e-01   0.335    0.738\n## poly(Wind, 13, raw = T)9  -5.764e-03  2.009e-02  -0.287    0.775\n## poly(Wind, 13, raw = T)10  1.298e-04  5.336e-04   0.243    0.809\n## poly(Wind, 13, raw = T)11 -1.435e-06  7.039e-06  -0.204    0.839\n## poly(Wind, 13, raw = T)12         NA         NA      NA       NA\n## poly(Wind, 13, raw = T)13  1.059e-10  7.791e-10   0.136    0.892\n## \n## Residual standard error: 21.89 on 68 degrees of freedom\n## Multiple R-squared:  0.601,  Adjusted R-squared:  0.5306 \n## F-statistic: 8.537 on 12 and 68 DF,  p-value: 1.345e-09## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): prediction from a\n## rank-deficient fit may be misleading\n\n## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): argument is not\n## numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -38.775 -13.102  -3.242   5.758  65.355 \n## \n## Coefficients: (2 not defined because of singularities)\n##                             Estimate Std. Error t value Pr(>|t|)\n## (Intercept)                1.848e+04  1.953e+04   0.946    0.347\n## poly(Wind, 14, raw = T)1  -2.924e+04  3.441e+04  -0.850    0.398\n## poly(Wind, 14, raw = T)2   1.990e+04  2.623e+04   0.759    0.451\n## poly(Wind, 14, raw = T)3  -7.692e+03  1.146e+04  -0.671    0.504\n## poly(Wind, 14, raw = T)4   1.892e+03  3.207e+03   0.590    0.557\n## poly(Wind, 14, raw = T)5  -3.131e+02  6.067e+02  -0.516    0.608\n## poly(Wind, 14, raw = T)6   3.583e+01  7.974e+01   0.449    0.655\n## poly(Wind, 14, raw = T)7  -2.858e+00  7.340e+00  -0.389    0.698\n## poly(Wind, 14, raw = T)8   1.573e-01  4.687e-01   0.335    0.738\n## poly(Wind, 14, raw = T)9  -5.764e-03  2.009e-02  -0.287    0.775\n## poly(Wind, 14, raw = T)10  1.298e-04  5.336e-04   0.243    0.809\n## poly(Wind, 14, raw = T)11 -1.435e-06  7.039e-06  -0.204    0.839\n## poly(Wind, 14, raw = T)12         NA         NA      NA       NA\n## poly(Wind, 14, raw = T)13  1.059e-10  7.791e-10   0.136    0.892\n## poly(Wind, 14, raw = T)14         NA         NA      NA       NA\n## \n## Residual standard error: 21.89 on 68 degrees of freedom\n## Multiple R-squared:  0.601,  Adjusted R-squared:  0.5306 \n## F-statistic: 8.537 on 12 and 68 DF,  p-value: 1.345e-09## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): prediction from a\n## rank-deficient fit may be misleading\n\n## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): argument is not\n## numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -39.065 -12.815  -3.778   5.350  65.972 \n## \n## Coefficients: (2 not defined because of singularities)\n##                             Estimate Std. Error t value Pr(>|t|)\n## (Intercept)                3.007e+04  4.803e+04   0.626    0.533\n## poly(Wind, 15, raw = T)1  -5.152e+04  9.105e+04  -0.566    0.573\n## poly(Wind, 15, raw = T)2   3.857e+04  7.539e+04   0.512    0.611\n## poly(Wind, 15, raw = T)3  -1.675e+04  3.615e+04  -0.463    0.645\n## poly(Wind, 15, raw = T)4   4.734e+03  1.122e+04   0.422    0.674\n## poly(Wind, 15, raw = T)5  -9.226e+02  2.384e+03  -0.387    0.700\n## poly(Wind, 15, raw = T)6   1.277e+02  3.566e+02   0.358    0.721\n## poly(Wind, 15, raw = T)7  -1.270e+01  3.794e+01  -0.335    0.739\n## poly(Wind, 15, raw = T)8   9.013e-01  2.852e+00   0.316    0.753\n## poly(Wind, 15, raw = T)9  -4.433e-02  1.472e-01  -0.301    0.764\n## poly(Wind, 15, raw = T)10  1.405e-03  4.852e-03   0.290    0.773\n## poly(Wind, 15, raw = T)11 -2.327e-05  8.284e-05  -0.281    0.780\n## poly(Wind, 15, raw = T)12         NA         NA      NA       NA\n## poly(Wind, 15, raw = T)13  5.318e-09  1.972e-08   0.270    0.788\n## poly(Wind, 15, raw = T)14         NA         NA      NA       NA\n## poly(Wind, 15, raw = T)15 -1.260e-12  4.764e-12  -0.265    0.792\n## \n## Residual standard error: 22.04 on 67 degrees of freedom\n## Multiple R-squared:  0.6015, Adjusted R-squared:  0.5241 \n## F-statistic: 7.778 on 13 and 67 DF,  p-value: 3.949e-09## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): prediction from a\n## rank-deficient fit may be misleading\n\n## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): argument is not\n## numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -39.065 -12.815  -3.778   5.350  65.972 \n## \n## Coefficients: (3 not defined because of singularities)\n##                             Estimate Std. Error t value Pr(>|t|)\n## (Intercept)                3.007e+04  4.803e+04   0.626    0.533\n## poly(Wind, 16, raw = T)1  -5.152e+04  9.105e+04  -0.566    0.573\n## poly(Wind, 16, raw = T)2   3.857e+04  7.539e+04   0.512    0.611\n## poly(Wind, 16, raw = T)3  -1.675e+04  3.615e+04  -0.463    0.645\n## poly(Wind, 16, raw = T)4   4.734e+03  1.122e+04   0.422    0.674\n## poly(Wind, 16, raw = T)5  -9.226e+02  2.384e+03  -0.387    0.700\n## poly(Wind, 16, raw = T)6   1.277e+02  3.566e+02   0.358    0.721\n## poly(Wind, 16, raw = T)7  -1.270e+01  3.794e+01  -0.335    0.739\n## poly(Wind, 16, raw = T)8   9.013e-01  2.852e+00   0.316    0.753\n## poly(Wind, 16, raw = T)9  -4.433e-02  1.472e-01  -0.301    0.764\n## poly(Wind, 16, raw = T)10  1.405e-03  4.852e-03   0.290    0.773\n## poly(Wind, 16, raw = T)11 -2.327e-05  8.284e-05  -0.281    0.780\n## poly(Wind, 16, raw = T)12         NA         NA      NA       NA\n## poly(Wind, 16, raw = T)13  5.318e-09  1.972e-08   0.270    0.788\n## poly(Wind, 16, raw = T)14         NA         NA      NA       NA\n## poly(Wind, 16, raw = T)15 -1.260e-12  4.764e-12  -0.265    0.792\n## poly(Wind, 16, raw = T)16         NA         NA      NA       NA\n## \n## Residual standard error: 22.04 on 67 degrees of freedom\n## Multiple R-squared:  0.6015, Adjusted R-squared:  0.5241 \n## F-statistic: 7.778 on 13 and 67 DF,  p-value: 3.949e-09## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): prediction from a\n## rank-deficient fit may be misleading\n\n## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): argument is not\n## numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -39.065 -12.815  -3.778   5.350  65.972 \n## \n## Coefficients: (4 not defined because of singularities)\n##                             Estimate Std. Error t value Pr(>|t|)\n## (Intercept)                3.007e+04  4.803e+04   0.626    0.533\n## poly(Wind, 17, raw = T)1  -5.152e+04  9.105e+04  -0.566    0.573\n## poly(Wind, 17, raw = T)2   3.857e+04  7.539e+04   0.512    0.611\n## poly(Wind, 17, raw = T)3  -1.675e+04  3.615e+04  -0.463    0.645\n## poly(Wind, 17, raw = T)4   4.734e+03  1.122e+04   0.422    0.674\n## poly(Wind, 17, raw = T)5  -9.226e+02  2.384e+03  -0.387    0.700\n## poly(Wind, 17, raw = T)6   1.277e+02  3.566e+02   0.358    0.721\n## poly(Wind, 17, raw = T)7  -1.270e+01  3.794e+01  -0.335    0.739\n## poly(Wind, 17, raw = T)8   9.013e-01  2.852e+00   0.316    0.753\n## poly(Wind, 17, raw = T)9  -4.433e-02  1.472e-01  -0.301    0.764\n## poly(Wind, 17, raw = T)10  1.405e-03  4.852e-03   0.290    0.773\n## poly(Wind, 17, raw = T)11 -2.327e-05  8.284e-05  -0.281    0.780\n## poly(Wind, 17, raw = T)12         NA         NA      NA       NA\n## poly(Wind, 17, raw = T)13  5.318e-09  1.972e-08   0.270    0.788\n## poly(Wind, 17, raw = T)14         NA         NA      NA       NA\n## poly(Wind, 17, raw = T)15 -1.260e-12  4.764e-12  -0.265    0.792\n## poly(Wind, 17, raw = T)16         NA         NA      NA       NA\n## poly(Wind, 17, raw = T)17         NA         NA      NA       NA\n## \n## Residual standard error: 22.04 on 67 degrees of freedom\n## Multiple R-squared:  0.6015, Adjusted R-squared:  0.5241 \n## F-statistic: 7.778 on 13 and 67 DF,  p-value: 3.949e-09## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): prediction from a\n## rank-deficient fit may be misleading\n\n## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): argument is not\n## numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -38.476 -12.354  -3.806   5.584  65.707 \n## \n## Coefficients: (4 not defined because of singularities)\n##                             Estimate Std. Error t value Pr(>|t|)\n## (Intercept)                8.313e+04  1.232e+05   0.675    0.502\n## poly(Wind, 18, raw = T)1  -1.587e+05  2.467e+05  -0.643    0.522\n## poly(Wind, 18, raw = T)2   1.339e+05  2.172e+05   0.616    0.540\n## poly(Wind, 18, raw = T)3  -6.616e+04  1.117e+05  -0.593    0.555\n## poly(Wind, 18, raw = T)4   2.144e+04  3.744e+04   0.573    0.569\n## poly(Wind, 18, raw = T)5  -4.818e+03  8.661e+03  -0.556    0.580\n## poly(Wind, 18, raw = T)6   7.723e+02  1.423e+03   0.543    0.589\n## poly(Wind, 18, raw = T)7  -8.921e+01  1.679e+02  -0.531    0.597\n## poly(Wind, 18, raw = T)8   7.379e+00  1.413e+01   0.522    0.603\n## poly(Wind, 18, raw = T)9  -4.250e-01  8.266e-01  -0.514    0.609\n## poly(Wind, 18, raw = T)10  1.589e-02  3.132e-02   0.507    0.614\n## poly(Wind, 18, raw = T)11 -3.133e-04  6.252e-04  -0.501    0.618\n## poly(Wind, 18, raw = T)12         NA         NA      NA       NA\n## poly(Wind, 18, raw = T)13  1.074e-07  2.189e-07   0.490    0.625\n## poly(Wind, 18, raw = T)14         NA         NA      NA       NA\n## poly(Wind, 18, raw = T)15 -4.475e-11  9.304e-11  -0.481    0.632\n## poly(Wind, 18, raw = T)16         NA         NA      NA       NA\n## poly(Wind, 18, raw = T)17         NA         NA      NA       NA\n## poly(Wind, 18, raw = T)18  3.106e-16  6.637e-16   0.468    0.641\n## \n## Residual standard error: 22.17 on 66 degrees of freedom\n## Multiple R-squared:  0.6028, Adjusted R-squared:  0.5185 \n## F-statistic: 7.154 on 14 and 66 DF,  p-value: 1.035e-08## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): prediction from a\n## rank-deficient fit may be misleading\n\n## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): argument is not\n## numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -38.476 -12.354  -3.806   5.584  65.707 \n## \n## Coefficients: (5 not defined because of singularities)\n##                             Estimate Std. Error t value Pr(>|t|)\n## (Intercept)                8.313e+04  1.232e+05   0.675    0.502\n## poly(Wind, 19, raw = T)1  -1.587e+05  2.467e+05  -0.643    0.522\n## poly(Wind, 19, raw = T)2   1.339e+05  2.172e+05   0.616    0.540\n## poly(Wind, 19, raw = T)3  -6.616e+04  1.117e+05  -0.593    0.555\n## poly(Wind, 19, raw = T)4   2.144e+04  3.744e+04   0.573    0.569\n## poly(Wind, 19, raw = T)5  -4.818e+03  8.661e+03  -0.556    0.580\n## poly(Wind, 19, raw = T)6   7.723e+02  1.423e+03   0.543    0.589\n## poly(Wind, 19, raw = T)7  -8.921e+01  1.679e+02  -0.531    0.597\n## poly(Wind, 19, raw = T)8   7.379e+00  1.413e+01   0.522    0.603\n## poly(Wind, 19, raw = T)9  -4.250e-01  8.266e-01  -0.514    0.609\n## poly(Wind, 19, raw = T)10  1.589e-02  3.132e-02   0.507    0.614\n## poly(Wind, 19, raw = T)11 -3.133e-04  6.252e-04  -0.501    0.618\n## poly(Wind, 19, raw = T)12         NA         NA      NA       NA\n## poly(Wind, 19, raw = T)13  1.074e-07  2.189e-07   0.490    0.625\n## poly(Wind, 19, raw = T)14         NA         NA      NA       NA\n## poly(Wind, 19, raw = T)15 -4.475e-11  9.304e-11  -0.481    0.632\n## poly(Wind, 19, raw = T)16         NA         NA      NA       NA\n## poly(Wind, 19, raw = T)17         NA         NA      NA       NA\n## poly(Wind, 19, raw = T)18  3.106e-16  6.637e-16   0.468    0.641\n## poly(Wind, 19, raw = T)19         NA         NA      NA       NA\n## \n## Residual standard error: 22.17 on 66 degrees of freedom\n## Multiple R-squared:  0.6028, Adjusted R-squared:  0.5185 \n## F-statistic: 7.154 on 14 and 66 DF,  p-value: 1.035e-08## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): prediction from a\n## rank-deficient fit may be misleading\n\n## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): argument is not\n## numeric or logical: returning NA## \n## Call:\n## lm(formula = fm, data = data_test[train_sample])\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -38.476 -12.354  -3.806   5.584  65.707 \n## \n## Coefficients: (6 not defined because of singularities)\n##                             Estimate Std. Error t value Pr(>|t|)\n## (Intercept)                8.313e+04  1.232e+05   0.675    0.502\n## poly(Wind, 20, raw = T)1  -1.587e+05  2.467e+05  -0.643    0.522\n## poly(Wind, 20, raw = T)2   1.339e+05  2.172e+05   0.616    0.540\n## poly(Wind, 20, raw = T)3  -6.616e+04  1.117e+05  -0.593    0.555\n## poly(Wind, 20, raw = T)4   2.144e+04  3.744e+04   0.573    0.569\n## poly(Wind, 20, raw = T)5  -4.818e+03  8.661e+03  -0.556    0.580\n## poly(Wind, 20, raw = T)6   7.723e+02  1.423e+03   0.543    0.589\n## poly(Wind, 20, raw = T)7  -8.921e+01  1.679e+02  -0.531    0.597\n## poly(Wind, 20, raw = T)8   7.379e+00  1.413e+01   0.522    0.603\n## poly(Wind, 20, raw = T)9  -4.250e-01  8.266e-01  -0.514    0.609\n## poly(Wind, 20, raw = T)10  1.589e-02  3.132e-02   0.507    0.614\n## poly(Wind, 20, raw = T)11 -3.133e-04  6.252e-04  -0.501    0.618\n## poly(Wind, 20, raw = T)12         NA         NA      NA       NA\n## poly(Wind, 20, raw = T)13  1.074e-07  2.189e-07   0.490    0.625\n## poly(Wind, 20, raw = T)14         NA         NA      NA       NA\n## poly(Wind, 20, raw = T)15 -4.475e-11  9.304e-11  -0.481    0.632\n## poly(Wind, 20, raw = T)16         NA         NA      NA       NA\n## poly(Wind, 20, raw = T)17         NA         NA      NA       NA\n## poly(Wind, 20, raw = T)18  3.106e-16  6.637e-16   0.468    0.641\n## poly(Wind, 20, raw = T)19         NA         NA      NA       NA\n## poly(Wind, 20, raw = T)20         NA         NA      NA       NA\n## \n## Residual standard error: 22.17 on 66 degrees of freedom\n## Multiple R-squared:  0.6028, Adjusted R-squared:  0.5185 \n## F-statistic: 7.154 on 14 and 66 DF,  p-value: 1.035e-08## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): prediction from a\n## rank-deficient fit may be misleading\n\n## Warning in predict.lm(poly_mod, data_test[-train_sample, ]): argument is not\n## numeric or logical: returning NA\ndata_plot=data.table(SE_test_list,SE_train_list,degree_of_poly)\nggplot(data_plot[degree_of_poly<=8])+geom_line(aes(x=degree_of_poly,y=SE_test_list),color='red')+geom_line(aes(x=degree_of_poly,y=SE_train_list))+ylab('MSE')+xlab('Degrees of polynomial')## Warning: Removed 8 row(s) containing missing values (geom_path)."},{"path":"有监督学习概论.html","id":"训练最小二乘线性回归模型的例子","chapter":"5 有监督学习概论","heading":"5.2 训练最小二乘线性回归模型的例子","text":"回归(regression)：因变量(y)是连续型变量，自变量\\(X\\R^p\\)是p维的连续型或离散型变量，一般求解\\(E(y|X=x)\\)的模型。线性回归模型(一般形式）,其中\\(\\epsilon\\)是服从均值为0，方差为\\(\\sigma^2\\)的正态分布的随机变量：\\[y=\\beta_0+\\beta_1\\times x_1+,\\cdots,+\\beta_p\\times x_p+\\epsilon=\\sum\\limits_{=0}^p\\beta_i\\times x_i+\\epsilon=X\\beta+\\epsilon\\]一元线性模型(simple linear model,SLM):最简单的线性模型，只包含一个自变量。\\[y=\\beta_0+\\beta_1\\times x_1+\\epsilon\\]最小一乘回归思想:计算\\(\\frac{1}{n}\\sum\\limits_{=1}^n(y_i-\\hat{y_i})\\)最小一乘回归思想:计算\\(\\frac{1}{n}\\sum\\limits_{=1}^n(y_i-\\hat{y_i})\\)最小二乘回归：计算MSE=\\(\\frac{1}{n}\\sum\\limits_{=1}^n(y_i-\\hat{y_i})^2\\)最小二乘回归：计算MSE=\\(\\frac{1}{n}\\sum\\limits_{=1}^n(y_i-\\hat{y_i})^2\\)","code":"\n# data come from the R basic package which related to the black cherry tree,Girth is diameter of tree, Height and Volume\ndata(\"trees\")\nhead(trees)##   Girth Height Volume\n## 1   8.3     70   10.3\n## 2   8.6     65   10.3\n## 3   8.8     63   10.2\n## 4  10.5     72   16.4\n## 5  10.7     81   18.8\n## 6  10.8     83   19.7\nplot(Girth ~ Height, data = trees, pch=16)\n\n# run the model\nfit <- lm(Girth~Height,data=trees)\nfit## \n## Call:\n## lm(formula = Girth ~ Height, data = trees)\n## \n## Coefficients:\n## (Intercept)       Height  \n##     -6.1884       0.2557\nsummary(fit)## \n## Call:\n## lm(formula = Girth ~ Height, data = trees)\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -4.2386 -1.9205 -0.0714  2.7450  4.5384 \n## \n## Coefficients:\n##             Estimate Std. Error t value Pr(>|t|)   \n## (Intercept) -6.18839    5.96020  -1.038  0.30772   \n## Height       0.25575    0.07816   3.272  0.00276 **\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 2.728 on 29 degrees of freedom\n## Multiple R-squared:  0.2697, Adjusted R-squared:  0.2445 \n## F-statistic: 10.71 on 1 and 29 DF,  p-value: 0.002758\n# visualize the results\nplot(Girth~Height,data=trees,pch=16)\n# plot the fitted line\nabline(fit,col=\"red\",lwd=2)\n#quantile regression\n#install.packages(\"quantreg\")\nlibrary(quantreg)## Loading required package: SparseM## \n## Attaching package: 'SparseM'## The following object is masked from 'package:base':\n## \n##     backsolve\nfitq <- rq(Girth~Height,data=trees)\nabline(fitq,col=\"blue\",lwd=2)\nlegend(\"topright\", legend = c(\"lm\", \"rq\"), col = c(\"red\", \"blue\"), lwd = 2)"},{"path":"有监督学习概论.html","id":"模型评价","chapter":"5 有监督学习概论","heading":"5.3 模型评价","text":"把数据分成：训练集(training data)、验证集(validate data)和测试集(test data),训练集用来学习模型；验证集进行参数优化和调节；测试集对模型的好坏进行最终的判定（泛化能力的评价），优点是相对比较客观，大家认可；缺点是需要较多的数据（大多数竞赛网站都不提供测试集中y的数值）。交叉验证（K折交叉验证）：数据即是训练集又是测试集，把数据分成k个子集，使用其中一个作为测试集，剩下的k-1个作为训练集，依次反复进行k次训练和测试，最后把所有测试集得到的预测值进行平均，计算得到一个平均的测试误差。优点：可充分的利用数据，缺点:可能得到的解不一定是最优解，但基本为一个次优解。模拟数据分类模型的预测精度：混淆矩阵；回归问题交叉验证预测精度标准：\n均方误差：\\[MSE=\\frac{1}{n}\\sum\\limits_{=1}^n(y_i-\\hat{y_i})^2\\]\n均方误差平方根：\\[RMSE=\\sqrt{MSE}=\\sqrt{\\frac{1}{n}\\sum\\limits_{=1}^n(y_i-\\hat{y_i})^2}\\]\n标准化均方误差: \\[NMSE=\\frac{\\sum\\limits_{=1}^n(y_i-\\hat{y_i})^2}{\\sum\\limits_{=1}^n(y_i-\\bar{y_i})^2}\\]\n误差平均绝对值:\\[MAE=\\frac{\\sum\\limits_{=1}^n|y_i-\\hat{y_i}|}{n}\\]\n\\(R^2\\):\\[R^2=1-NMSE\\]\n均方误差：\\[MSE=\\frac{1}{n}\\sum\\limits_{=1}^n(y_i-\\hat{y_i})^2\\]均方误差平方根：\\[RMSE=\\sqrt{MSE}=\\sqrt{\\frac{1}{n}\\sum\\limits_{=1}^n(y_i-\\hat{y_i})^2}\\]标准化均方误差: \\[NMSE=\\frac{\\sum\\limits_{=1}^n(y_i-\\hat{y_i})^2}{\\sum\\limits_{=1}^n(y_i-\\bar{y_i})^2}\\]误差平均绝对值:\\[MAE=\\frac{\\sum\\limits_{=1}^n|y_i-\\hat{y_i}|}{n}\\]\\(R^2\\):\\[R^2=1-NMSE\\]","code":""},{"path":"有监督学习概论.html","id":"exercise","chapter":"5 有监督学习概论","heading":"5.4 Exercise","text":"","code":""},{"path":"最小二乘线性回归法.html","id":"最小二乘线性回归法","chapter":"6 最小二乘线性回归法","heading":"6 最小二乘线性回归法","text":"","code":""},{"path":"最小二乘线性回归法.html","id":"相关概念","chapter":"6 最小二乘线性回归法","heading":"6.1 相关概念","text":"因变量(Dependent variable,Y)：依赖于其它变量的变化而变化，响应变量；自变量(Independent variable,X)：可以直接控制的变量，协变量；有监督学习的数据表示：\\(D=\\{(x_1,y_1),\\cdots,x_n,y_n)\\},x\\R^p,y \\R\\);模型（model)：函数；参数(Parameters)：参数是添加到模型中用于估计输出的成分;","code":""},{"path":"最小二乘线性回归法.html","id":"线性模型","chapter":"6 最小二乘线性回归法","heading":"6.2 线性模型","text":"因变量的值由独立自变量之间的线性数学模型决定。\\[y=\\beta_0+\\beta_1\\times x_1+,\\cdots,+\\beta_p\\times x_p\\],模型表示：模型的矩阵表示：\n\\[Y=X\\beta\\]","code":""},{"path":"最小二乘线性回归法.html","id":"模型的估计","chapter":"6 最小二乘线性回归法","heading":"6.2.1 模型的估计","text":"损失函数（平方和损失）：\\[RSS=(y-X\\beta)^T(Y-X\\beta)\\]数值解：\\[\\hat{\\beta}=(X^TX)^{-1}X^Ty\\]","code":""},{"path":"最小二乘线性回归法.html","id":"回归实例","chapter":"6 最小二乘线性回归法","heading":"6.2.2 回归实例","text":"使用MASS库中所带的波士顿房价数据，其中的因变量为房价的中位数，自变量为房龄、房间数等，想预测房价。结果解释：变量之间独立的情况下，系数就为影响程度，若存在多重共线性，则系数的解释比较复杂。","code":"\nlibrary(MASS)\nlibrary(ISLR)\n#fix(Boston)\n# Simple linear regression model\nnames(Boston)##  [1] \"crim\"    \"zn\"      \"indus\"   \"chas\"    \"nox\"     \"rm\"      \"age\"    \n##  [8] \"dis\"     \"rad\"     \"tax\"     \"ptratio\" \"black\"   \"lstat\"   \"medv\"\nplot(Boston$medv,Boston$lstat)\nslm.fit <- lm(Boston$medv~Boston$lstat,data=Boston)\nsummary(slm.fit)## \n## Call:\n## lm(formula = Boston$medv ~ Boston$lstat, data = Boston)\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -15.168  -3.990  -1.318   2.034  24.500 \n## \n## Coefficients:\n##              Estimate Std. Error t value Pr(>|t|)    \n## (Intercept)  34.55384    0.56263   61.41   <2e-16 ***\n## Boston$lstat -0.95005    0.03873  -24.53   <2e-16 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 6.216 on 504 degrees of freedom\n## Multiple R-squared:  0.5441, Adjusted R-squared:  0.5432 \n## F-statistic: 601.6 on 1 and 504 DF,  p-value: < 2.2e-16\n# multiple variance regression\nmlm.fit <- lm(Boston$medv~Boston$lstat+Boston$age,data=Boston)\nsummary(mlm.fit)## \n## Call:\n## lm(formula = Boston$medv ~ Boston$lstat + Boston$age, data = Boston)\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -15.981  -3.978  -1.283   1.968  23.158 \n## \n## Coefficients:\n##              Estimate Std. Error t value Pr(>|t|)    \n## (Intercept)  33.22276    0.73085  45.458  < 2e-16 ***\n## Boston$lstat -1.03207    0.04819 -21.416  < 2e-16 ***\n## Boston$age    0.03454    0.01223   2.826  0.00491 ** \n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 6.173 on 503 degrees of freedom\n## Multiple R-squared:  0.5513, Adjusted R-squared:  0.5495 \n## F-statistic:   309 on 2 and 503 DF,  p-value: < 2.2e-16"},{"path":"最小二乘线性回归法.html","id":"练习","chapter":"6 最小二乘线性回归法","heading":"6.2.3 练习","text":"例6.1","code":""},{"path":"logistic回归.html","id":"logistic回归","chapter":"7 Logistic回归","heading":"7 Logistic回归","text":"","code":""},{"path":"references.html","id":"references","chapter":"References","heading":"References","text":"","code":""},{"path":"github使用.html","id":"github使用","chapter":"8 github使用","heading":"8 github使用","text":"register github account:github;build new repository using name.github.io repository name github,example tom.github.io;upload create files include index.html file, used default file;","code":"# download the file to local disk\ngit clone git@github.com:yourname/tom.github.io.git\n# update file and upload it\ngit add .\ngit commit -m \"update files\"\ngit push -m"}]
